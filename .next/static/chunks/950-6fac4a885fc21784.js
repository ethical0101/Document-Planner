"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{2718:function(e,t,o){o.d(t,{Z:function(){return r}});let r=(0,o(9205).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},2489:function(e,t,o){o.d(t,{Z:function(){return r}});let r=(0,o(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6625:function(e,t,o){function r(){let e=document.activeElement,t=window.getSelection().getRangeAt(0),o=t.cloneRange();return o.selectNodeContents(e),o.setStart(t.endContainer,t.endOffset),o.extractContents()}function n(e,t=null,o={}){let r=document.createElement(e);for(let e in Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t),o)r[e]=o[e];return r}function i(e){return e.innerHTML.replace("<br>"," ").trim()}function a(e,t=!1,o){let r=document.createRange(),n=window.getSelection();r.selectNodeContents(e),void 0!==o&&(r.setStart(e,o),r.setEnd(e,o)),r.collapse(t),n.removeAllRanges(),n.addRange(r)}o.d(t,{Z:function(){return l}}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});class l{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Checklist"}}static get conversionConfig(){return{export:e=>e.items.map(({text:e})=>e).join(". "),import:e=>({items:[{text:e,checked:!1}]})}}constructor({data:e,config:t,api:o,readOnly:r}){this._elements={wrapper:null,items:[]},this.readOnly=r,this.api=o,this.data=e||{}}render(){return this._elements.wrapper=n("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(e=>{let t=this.createChecklistItem(e);this._elements.wrapper.appendChild(t)}),this.readOnly||(this._elements.wrapper.addEventListener("keydown",e=>{let[t,o]=[13,8];switch(e.keyCode){case t:this.enterPressed(e);break;case o:this.backspace(e)}},!1),this._elements.wrapper.addEventListener("click",e=>{this.toggleCheckbox(e)})),this._elements.wrapper}save(){let e=this.items.map(e=>({text:i(this.getItemInput(e)),checked:e.classList.contains(this.CSS.itemChecked)}));return{items:e=e.filter(e=>0!==e.text.trim().length)}}validate(e){return!!e.items.length}toggleCheckbox(e){let t=e.target.closest(`.${this.CSS.item}`),o=t.querySelector(`.${this.CSS.checkboxContainer}`);o.contains(e.target)&&(t.classList.toggle(this.CSS.itemChecked),o.classList.add(this.CSS.noHover),o.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(o),{once:!0}))}createChecklistItem(e={}){let t=n("div",this.CSS.item),o=n("span",this.CSS.checkbox),r=n("div",this.CSS.checkboxContainer),i=n("div",this.CSS.textField,{innerHTML:e.text?e.text:"",contentEditable:!this.readOnly});return e.checked&&t.classList.add(this.CSS.itemChecked),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',r.appendChild(o),t.appendChild(r),t.appendChild(i),t}enterPressed(e){e.preventDefault();let t=this.items,o=document.activeElement.closest(`.${this.CSS.item}`);if(t.indexOf(o)===t.length-1&&0===i(this.getItemInput(o)).length){let e=this.api.blocks.getCurrentBlockIndex();o.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(e+1);return}let n=function(e){let t=document.createElement("div");return t.appendChild(e),t.innerHTML}(r()),l=this.createChecklistItem({text:n,checked:!1});this._elements.wrapper.insertBefore(l,o.nextSibling),a(this.getItemInput(l),!0)}backspace(e){let t=e.target.closest(`.${this.CSS.item}`),o=this.items.indexOf(t),n=this.items[o-1];if(!n||0!==window.getSelection().focusOffset)return;e.preventDefault();let i=r(),l=this.getItemInput(n),s=l.childNodes.length;l.appendChild(i),a(l,void 0,s),t.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(e){e.classList.remove(this.CSS.noHover)}getItemInput(e){return e.querySelector(`.${this.CSS.textField}`)}}},3425:function(e,t,o){o.d(t,{Z:function(){return r}}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class r{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:o,readOnly:n}){this.api=o,this.readOnly=n,this.placeholder=this.api.i18n.t(t.placeholder||r.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:e.code??""},this.nodes.holder=this.drawView()}render(){return this.nodes.holder}save(e){return{code:e.querySelector("textarea").value}}onPaste(e){let t=e.detail;if("data"in t){let e=t.data;this.data={code:e||""}}}get data(){return this._data}set data(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.textContent=e.code)}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(e){let t;e.stopPropagation(),e.preventDefault();let o=e.target,r=e.shiftKey,n=o.selectionStart,i=o.value;if(r){let e=function(e,t){let o="";for(;o!==`
`&&t>0;)t-=1,o=e.substr(t,1);return o===`
`&&(t+=1),t}(i,n);if("  "!==i.substr(e,2))return;o.value=i.substring(0,e)+i.substring(e+2),t=n-2}else t=n+2,o.value=i.substring(0,n)+"  "+i.substring(n);o.setSelectionRange(t,t)}drawView(){let e=document.createElement("div"),t=document.createElement("textarea");return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),t.classList.add(this.CSS.textarea,this.CSS.input),t.textContent=this.data.code,t.placeholder=this.placeholder,this.readOnly&&(t.disabled=!0),e.appendChild(t),t.addEventListener("keydown",e=>{"Tab"===e.code&&this.tabHandler(e)}),this.nodes.textarea=t,e}}},3656:function(e,t,o){o.d(t,{Z:function(){return r}}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class r{constructor({data:e,config:t,api:o,readOnly:r}){this.api=o,this.readOnly=r,this._settings=t,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return void 0!==e.text}normalizeData(e){let t={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(t.text=e.text||"",void 0===e.level||isNaN(parseInt(e.level.toString()))||(t.level=parseInt(e.level.toString()))),t}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){let t={text:this.data.text+e.text,level:this.data.level};this.data=t}validate(e){return""!==e.text.trim()}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),void 0!==e.level&&this._element.parentNode){let e=this.getTag();e.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(e,this._element),this._element=e}void 0!==e.text&&(this._element.innerHTML=this._data.text||"")}getTag(){let e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(e=>e.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){let e=this.levels.find(e=>e.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){let e=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?e.filter(e=>this._settings.levels.includes(e.number)):e}onPaste(e){let t=e.detail;if("data"in t){let e=t.data,o=this.defaultLevel.number;switch(e.tagName){case"H1":o=1;break;case"H2":o=2;break;case"H3":o=3;break;case"H4":o=4;break;case"H5":o=5;break;case"H6":o=6}this._settings.levels&&(o=this._settings.levels.reduce((e,t)=>Math.abs(t-o)<Math.abs(e-o)?t:e)),this.data={level:o,text:e.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}},4737:function(e,t,o){let r;o.d(t,{Z:function(){return f}}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();let n='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';function i(e,t=null,o={}){let r=document.createElement(e);for(let e in Array.isArray(t)?r.classList.add(...t):null!==t&&r.classList.add(t),o)o.hasOwnProperty(e)&&(r[e]=o[e]);return r}var a,l,s=((r=s||{}).Empty="empty",r.Uploading="uploading",r.Filled="filled",r);class c{constructor({api:e,config:t,onSelectFile:o,readOnly:r}){this.api=e,this.config=t,this.onSelectFile=o,this.readOnly=r,this.nodes={wrapper:i("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:i("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:i("div",this.CSS.imagePreloader),caption:i("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,t){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,t)}render(e){return void 0===e.file||0===Object.keys(e.file).length?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){let t=/\.mp4$/.test(e)?"VIDEO":"IMG",o={src:e},r="load";"VIDEO"===t&&(o.autoplay=!0,o.loop=!0,o.muted=!0,o.playsinline=!0,r="loadeddata"),this.nodes.imageEl=i(t,this.CSS.imageEl,o),this.nodes.imageEl.addEventListener(r,()=>{this.toggleStatus("filled"),void 0!==this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){void 0!==this.nodes.caption&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){let e=i("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${n} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(let t in s)Object.prototype.hasOwnProperty.call(s,t)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${s[t]}`,e===s[t])}}var d={exports:{}};window,a=function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,(function(t){return e[t]}).bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()}catch{"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){(function(e){var r=o(2),n=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw TypeError("Promises must be constructed via new");if("function"!=typeof e)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var o,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{o=r(e._value)}catch(e){return void c(t.promise,e)}s(t.promise,o)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof a)return e._state=3,e._value=t,void d(e);if("function"==typeof o)return void h(function(){o.apply(t,arguments)},e)}e._state=1,e._value=t,d(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,o=e._deferreds.length;t<o;t++)l(e,e._deferreds[t]);e._deferreds=null}function u(e,t,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=o}function h(e,t){var o=!1;try{e(function(e){o||(o=!0,s(t,e))},function(e){o||(o=!0,c(t,e))})}catch(e){if(o)return;o=!0,c(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var o=new this.constructor(i);return l(this,new u(e,t,o)),o},a.prototype.finally=r.a,a.all=function(e){return new a(function(t,o){if(!e||void 0===e.length)throw TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var n=r.length,i=0;i<r.length;i++)(function e(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,function(t){e(i,t)},o)}r[i]=a,0==--n&&t(r)}catch(e){o(e)}})(i,r[i])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,o){o(e)})},a.race=function(e){return new a(function(t,o){for(var r=0,n=e.length;r<n;r++)e[r].then(t,o)})},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){n(e,0)},a._unhandledRejectionFn=function(e){"u">typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,o(5).setImmediate)},function(e,t,o){t.a=function(e){var t=this.constructor;return this.then(function(o){return t.resolve(e()).then(function(){return o})},function(o){return t.resolve(e()).then(function(){return t.reject(o)})})}},function(e,t,o){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o(4);var n,i,a,l,s,c,d,u=o(8),h=(i=function(e){return new Promise(function(t,o){e=l(e),(e=s(e)).beforeSend&&e.beforeSend();var r=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");r.open(e.method,e.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach(function(t){var o=e.headers[t];r.setRequestHeader(t,o)});var n=e.ratio;r.upload.addEventListener("progress",function(t){var o=Math.round(t.loaded/t.total*100);e.progress(Math.min(Math.ceil(o*n/100),100))},!1),r.addEventListener("progress",function(t){var o=Math.round(t.loaded/t.total*100);e.progress(Math.min(Math.ceil(o*(100-n)/100)+n,100))},!1),r.onreadystatechange=function(){if(4===r.readyState){var e=r.response;try{e=JSON.parse(e)}catch{}var n=u.parseHeaders(r.getAllResponseHeaders()),i={body:e,code:r.status,headers:n};d(r.status)?t(i):o(i)}},r.send(e.data)})},a=function(e){return e.method="POST",i(e)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.url&&"string"!=typeof e.url)throw Error("Url must be a string");if(e.url=e.url||"",e.method&&"string"!=typeof e.method)throw Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&"object"!==r(e.headers))throw Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&("string"!=typeof e.type||!Object.values(n).includes(e.type)))throw Error("`type` must be taken from module's \xabcontentType\xbb library");if(e.progress&&"function"!=typeof e.progress)throw Error("`progress` must be a function or null");if(e.progress=e.progress||function(e){},e.beforeSend=e.beforeSend||function(e){},e.ratio&&"number"!=typeof e.ratio)throw Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&"string"!=typeof e.accept)throw Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&"boolean"!=typeof e.multiple)throw Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&"string"!=typeof e.fieldName)throw Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},s=function(e){switch(e.method){case"GET":var t=c(e.data,n.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+t:e.url+"?"+t;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var o=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||n.JSON}(e);(u.isFormData(e.data)||u.isFormElement(e.data))&&(o=n.FORM),e.data=c(e.data,o),o!==h.contentType.FORM&&(e.headers["content-type"]=o)}return e},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case n.URLENCODED:return u.urlEncode(e);case n.JSON:return u.jsonEncode(e);case n.FORM:return u.formEncode(e);default:return e}},d=function(e){return e>=200&&e<300},{contentType:n={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:i,get:function(e){return e.method="GET",i(e)},post:a,transport:function(e){return e=l(e),u.selectFiles(e).then(function(t){for(var o=new FormData,r=0;r<t.length;r++)o.append(e.fieldName,t[r],t[r].name);u.isObject(e.data)&&Object.keys(e.data).forEach(function(t){var r=e.data[t];o.append(t,r)});var n=e.beforeSend;return e.beforeSend=function(){return n(t)},e.data=o,a(e)})},selectFiles:function(e){return delete(e=l(e)).beforeSend,u.selectFiles(e)}});e.exports=h},function(e,t,o){o.r(t);var r=o(1);window.Promise=window.Promise||r.a},function(e,t,o){(function(e){var r=void 0!==e&&e||"u">typeof self&&self||window,n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(6),t.setImmediate="u">typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="u">typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(e,t,o){(function(e,t){!function(e,o){if(!e.setImmediate){var r,n,i,a,l,s=1,c={},d=!1,u=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"===({}).toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}()?(a="setImmediate$"+Math.random()+"$",l=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent("onmessage",l),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(f,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var n={callback:e,args:t};return c[s]=n,r(s),s++},h.clearImmediate=p}function p(e){delete c[e]}function f(e){if(d)setTimeout(f,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(o,r)}}(t)}finally{p(e),d=!1}}}}}(typeof self>"u"?void 0===e?this:e:self)}).call(this,o(0),o(7))},function(e,t){var o,r,n=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(o===setTimeout)return setTimeout(e,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch{try{return o.call(null,e,0)}catch{return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch{o=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch{r=a}}();var s,c=[],d=!1,u=-1;function h(){d&&s&&(d=!1,s.length?c=s.concat(c):u=-1,c.length&&p())}function p(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch{try{return r.call(null,e)}catch{return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new f(e,t)),1!==c.length||d||l(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,o){var r=o(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return function(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,[{key:"urlEncode",value:function(e){return r(e)}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach(function(o){var r=e[o];t.append(o,r)}),t}throw Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isFormData",value:function(e){return e instanceof FormData}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,o){var r=document.createElement("INPUT");r.type="file",e.multiple&&r.setAttribute("multiple","multiple"),e.accept&&r.setAttribute("accept",e.accept),r.style.display="none",document.body.appendChild(r),r.addEventListener("change",function(e){t(e.target.files),document.body.removeChild(r)},!1),r.click()})}},{key:"parseHeaders",value:function(e){var t=e.trim().split(/[\r\n]+/),o={};return t.forEach(function(e){var t=e.split(": "),r=t.shift(),n=t.join(": ");r&&(o[r]=n)}),o}}]),e}()},function(e,t){var o=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},r=function(e,t,n,i){return t=t||null,n=n||"&",i=i||null,e?(function(e){for(var t=[],o=0;o<e.length;o++)e[o]&&t.push(e[o]);return t})(Object.keys(e).map(function(a){var l,s,c=a;if(i&&(c=i+"["+c+"]"),"object"==typeof e[a]&&null!==e[a])l=r(e[a],null,n,c);else{t&&(c=!isNaN(parseFloat(s=c))&&isFinite(s)?t+Number(c):c);var d=e[a];d=(d=0===(d=!1===(d=!0===d?"1":d)?"0":d)?"0":d)||"",l=o(c)+"="+o(d)}return l})).join(n).replace(/[!'()*]/g,""):""};e.exports=r}])},d.exports=a();let u=(l=d.exports)&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;function h(e){return void 0!==e&&"function"==typeof e.then}class p{constructor({config:e,onUpload:t,onError:o}){this.config=e,this.onUpload=t,this.onError=o}uploadSelectedFile({onPreview:e}){let t;let o=function(t){let o=new FileReader;o.readAsDataURL(t),o.onload=t=>{e(t.target.result)}};if(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile){let e=this.config.uploader.uploadByFile;t=u.selectFiles({accept:this.config.types??"image/*"}).then(t=>{o(t[0]);let r=e(t[0]);return h(r)||console.warn("Custom uploader method uploadByFile should return a Promise"),r})}else t=u.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:e=>{o(e[0])},fieldName:this.config.field??"image"}).then(e=>e.body);t.then(e=>{this.onUpload(e)}).catch(e=>{this.onError(e)})}uploadByUrl(e){let t;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?h(t=this.config.uploader.uploadByUrl(e))||console.warn("Custom uploader method uploadByUrl should return a Promise"):t=u.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:u.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(e=>e.body),t.then(e=>{this.onUpload(e)}).catch(e=>{this.onError(e)})}uploadByFile(e,{onPreview:t}){let o;let r=new FileReader;if(r.readAsDataURL(e),r.onload=e=>{t(e.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)h(o=this.config.uploader.uploadByFile(e))||console.warn("Custom uploader method uploadByFile should return a Promise");else{let t=new FormData;t.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([e,o])=>{t.append(e,o)}),o=u.post({url:this.config.endpoints.byFile,data:t,type:u.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(e=>e.body)}o.then(e=>{this.onUpload(e)}).catch(e=>{this.onError(e)})}}class f{constructor({data:e,config:t,api:o,readOnly:r,block:n}){this.api=o,this.readOnly=r,this.block=n,this.config={endpoints:t.endpoints,additionalRequestData:t.additionalRequestData,additionalRequestHeaders:t.additionalRequestHeaders,field:t.field,types:t.types,captionPlaceholder:this.api.i18n.t(t.captionPlaceholder??"Caption"),buttonContent:t.buttonContent,uploader:t.uploader,actions:t.actions},this.uploader=new p({config:this.config,onUpload:e=>this.onUpload(e),onError:e=>this.uploadingFailed(e)}),this.ui=new c({api:o,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:e=>{this.ui.showPreloader(e)}})},readOnly:r}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:n,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){let e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return f.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if("function"==typeof e.action){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{let t=e.detail.data;if(/^blob:/.test(t.src)){let e=await (await fetch(t.src)).blob();this.uploadFile(e);break}this.uploadUrl(t.src);break}case"pattern":{let t=e.detail.data;this.uploadUrl(t);break}case"file":{let t=e.detail.file;this.uploadFile(t)}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),f.tunes.forEach(({name:t})=>{let o="u">typeof e[t]&&(!0===e[t]||"true"===e[t]);this.setTune(t,o)})}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,t){this._data[e]=t,this.ui.applyTune(e,t),"stretched"===e&&Promise.resolve().then(()=>{this.block.stretched=t}).catch(e=>{console.error(e)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:e=>{this.ui.showPreloader(e)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}},8734:function(e,t,o){o.d(t,{Z:function(){return n}}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();let r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';class n{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:r,title:"List"}}constructor({data:e,config:t,api:o,readOnly:n}){this._elements={wrapper:null},this.api=o,this.readOnly=n,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:r,default:"unordered"===t.defaultStyle},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:"ordered"===t.defaultStyle||!0}],this._data={style:this.settings.find(e=>!0===e.default).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{let[t,o]=[13,8];switch(e.keyCode){case t:this.getOutofList(e);break;case o:this.backspace(e)}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){let t=e.detail.data;this.data=this.pasteHandler(t)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){let t="ordered"===e?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered;return this._make("ordered"===e?"ol":"ul",[this.CSS.baseBlock,this.CSS.wrapper,t],{contentEditable:!this.readOnly})}toggleTune(e){let t=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)t.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(t),this._elements.wrapper=t,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(e=>!0===e.default).name,this._data.items=e.items||[];let t=this._elements.wrapper;t&&t.parentNode.replaceChild(this.render(),t)}get data(){this._data.items=[];let e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let t=0;t<e.length;t++)e[t].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[t].innerHTML);return this._data}_make(e,t=null,o={}){let r=document.createElement(e);for(let e in Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t),o)r[e]=o[e];return r}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){let t=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(t.length<2)return;let o=t[t.length-1],r=this.currentItem;r!==o||o.textContent.trim().length||(r.parentElement.removeChild(r),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){let t=this._elements.wrapper.querySelectorAll("."+this.CSS.item),o=t[0];o&&t.length<2&&!o.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();let t=window.getSelection(),o=t.anchorNode.parentNode.closest("."+this.CSS.item),r=new Range;r.selectNodeContents(o),t.removeAllRanges(),t.addRange(r)}pasteHandler(e){let t;let{tagName:o}=e;switch(o){case"OL":t="ordered";break;case"UL":case"LI":t="unordered"}let r={style:t,items:[]};if("LI"===o)r.items=[e.innerHTML];else{let t=Array.from(e.querySelectorAll("LI"));r.items=t.map(e=>e.innerHTML).filter(e=>!!e.trim())}return r}}},6960:function(e,t,o){let r;o.d(t,{Z:function(){return eh}}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();var n="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},i={},a={},l={};Object.defineProperty(l,"__esModule",{value:!0}),l.allInputsSelector=function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")},Object.defineProperty(a,"__esModule",{value:!0}),a.allInputsSelector=void 0,Object.defineProperty(a,"allInputsSelector",{enumerable:!0,get:function(){return l.allInputsSelector}});var s={},c={};Object.defineProperty(c,"__esModule",{value:!0}),c.isNativeInput=function(e){return!!e&&!!e.tagName&&["INPUT","TEXTAREA"].includes(e.tagName)},Object.defineProperty(s,"__esModule",{value:!0}),s.isNativeInput=void 0,Object.defineProperty(s,"isNativeInput",{enumerable:!0,get:function(){return c.isNativeInput}});var d={},u={};Object.defineProperty(u,"__esModule",{value:!0}),u.append=function(e,t){Array.isArray(t)?t.forEach(function(t){e.appendChild(t)}):e.appendChild(t)},Object.defineProperty(d,"__esModule",{value:!0}),d.append=void 0,Object.defineProperty(d,"append",{enumerable:!0,get:function(){return u.append}});var h={},p={};Object.defineProperty(p,"__esModule",{value:!0}),p.blockElements=function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]},Object.defineProperty(h,"__esModule",{value:!0}),h.blockElements=void 0,Object.defineProperty(h,"blockElements",{enumerable:!0,get:function(){return p.blockElements}});var f={},g={};Object.defineProperty(g,"__esModule",{value:!0}),g.calculateBaseline=function(e){var t=window.getComputedStyle(e),o=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||1.2*o,n=parseFloat(t.paddingTop),i=parseFloat(t.borderTopWidth);return parseFloat(t.marginTop)+i+n+(r-o)/2+.8*o},Object.defineProperty(f,"__esModule",{value:!0}),f.calculateBaseline=void 0,Object.defineProperty(f,"calculateBaseline",{enumerable:!0,get:function(){return g.calculateBaseline}});var m={},b={},v={},w={};Object.defineProperty(w,"__esModule",{value:!0}),w.isContentEditable=function(e){return"true"===e.contentEditable},Object.defineProperty(v,"__esModule",{value:!0}),v.isContentEditable=void 0,Object.defineProperty(v,"isContentEditable",{enumerable:!0,get:function(){return w.isContentEditable}}),Object.defineProperty(b,"__esModule",{value:!0}),b.canSetCaret=function(e){var t=!0;if((0,s.isNativeInput)(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=(0,v.isContentEditable)(e);return t},Object.defineProperty(m,"__esModule",{value:!0}),m.canSetCaret=void 0,Object.defineProperty(m,"canSetCaret",{enumerable:!0,get:function(){return b.canSetCaret}});var y={},C={};function k(){let e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(e=>-1!==window.navigator.appVersion.toLowerCase().indexOf(e));return void 0!==t&&(e[t]=!0),e}function x(e){return null!=e&&""!==e&&("object"!=typeof e||Object.keys(e).length>0)}function _(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function S(e){return"function"===_(e)||"asyncfunction"===_(e)}function E(e){return"object"===_(e)}class O{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,o)=>{this.completed=this.completed.then(e).then(t).catch(o)})}}let M=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var o=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),o}(Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:O,beautifyShortcut:function(e){let t=k();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e=t.mac?e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},cacheable:function(e,t,o){let r=void 0!==o.value?"value":"get",n=o[r],i=`#${t}Cache`;if(o[r]=function(...e){return void 0===this[i]&&(this[i]=n.apply(this,e)),this[i]},"get"===r&&o.set){let t=o.set;o.set=function(o){delete e[i],t.apply(this,o)}}return o},capitalize:function(e){return e[0].toUpperCase()+e.slice(1)},copyTextToClipboard:function(e){let t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=e,document.body.appendChild(t);let o=window.getSelection(),r=document.createRange();if(r.selectNode(t),null===o)throw Error("Cannot copy text to clipboard");o.removeAllRanges(),o.addRange(r),document.execCommand("copy"),document.body.removeChild(t)},debounce:function(e,t,o){let r;return(...n)=>{let i=this,a=!0===o&&void 0!==r;window.clearTimeout(r),r=window.setTimeout(()=>{r=void 0,!0!==o&&e.apply(i,n)},t),a&&e.apply(i,n)}},deepMerge:function e(t,...o){if(!o.length)return t;let r=o.shift();if(E(t)&&E(r))for(let o in r)E(r[o])?(void 0===t[o]&&Object.assign(t,{[o]:{}}),e(t[o],r[o])):Object.assign(t,{[o]:r[o]});return e(t,...o)},deprecationAssert:function(e,t,o){let r=`\xab${t}\xbb is deprecated and will be removed in the next major release. Please use the \xab${o}\xbb instead.`;e&&console.warn(r)},getUserOS:k,getValidUrl:function(e){try{return new URL(e).href}catch{}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e},isBoolean:function(e){return"boolean"===_(e)},isClass:function(e){return S(e)&&/^\s*class\s+/.test(e.toString())},isEmpty:function(e){return!x(e)},isFunction:S,isIosDevice:()=>"u">typeof window&&null!==window.navigator&&x(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),isNumber:function(e){return"number"===_(e)},isObject:E,isPrintableKey:function(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},isPromise:function(e){return Promise.resolve(e)===e},isString:function(e){return"string"===_(e)},isUndefined:function(e){return"undefined"===_(e)},keyCodes:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},mouseButtons:{LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},notEmpty:x,throttle:function(e,t,o){let r,n,i,a=null,l=0;o||(o={});let s=function(){l=!1===o.leading?0:Date.now(),a=null,i=e.apply(r,n),null===a&&(r=n=null)};return function(){let c=Date.now();l||!1!==o.leading||(l=c);let d=t-(c-l);return r=this,n=arguments,d<=0||d>t?(a&&(clearTimeout(a),a=null),l=c,i=e.apply(r,n),null===a&&(r=n=null)):a||!1===o.trailing||(a=setTimeout(s,d)),i}},typeOf:_},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(C,"__esModule",{value:!0}),C.containsOnlyInlineElements=function(e){(0,M.isString)(e)?(t=document.createElement("div")).innerHTML=e:t=e;var t,o=function(e){return!(0,h.blockElements)().includes(e.tagName.toLowerCase())&&Array.from(e.children).every(o)};return Array.from(t.children).every(o)},Object.defineProperty(y,"__esModule",{value:!0}),y.containsOnlyInlineElements=void 0,Object.defineProperty(y,"containsOnlyInlineElements",{enumerable:!0,get:function(){return C.containsOnlyInlineElements}});var L={},T={},j={},P={};Object.defineProperty(P,"__esModule",{value:!0}),P.make=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o={});var r,n=document.createElement(e);if(Array.isArray(t)){var i=t.filter(function(e){return void 0!==e});(r=n.classList).add.apply(r,i)}else null!==t&&n.classList.add(t);for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a]);return n},Object.defineProperty(j,"__esModule",{value:!0}),j.make=void 0,Object.defineProperty(j,"make",{enumerable:!0,get:function(){return P.make}}),Object.defineProperty(T,"__esModule",{value:!0}),T.fragmentToString=function(e){var t=(0,j.make)("div");return t.appendChild(e),t.innerHTML},Object.defineProperty(L,"__esModule",{value:!0}),L.fragmentToString=void 0,Object.defineProperty(L,"fragmentToString",{enumerable:!0,get:function(){return T.fragmentToString}});var R={},H={};Object.defineProperty(H,"__esModule",{value:!0}),H.getContentLength=function(e){var t,o;return(0,s.isNativeInput)(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:null!==(o=null===(t=e.textContent)||void 0===t?void 0:t.length)&&void 0!==o?o:0},Object.defineProperty(R,"__esModule",{value:!0}),R.getContentLength=void 0,Object.defineProperty(R,"getContentLength",{enumerable:!0,get:function(){return H.getContentLength}});var A={},N={},I=n&&n.__spreadArray||function(e,t,o){if(o||2==arguments.length)for(var r,n=0,i=t.length;n<i;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(N,"__esModule",{value:!0}),N.getDeepestBlockElements=function e(t){return(0,y.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(t,o){return I(I([],t,!0),e(o),!0)},[])},Object.defineProperty(A,"__esModule",{value:!0}),A.getDeepestBlockElements=void 0,Object.defineProperty(A,"getDeepestBlockElements",{enumerable:!0,get:function(){return N.getDeepestBlockElements}});var B={},F={},D={},q={};Object.defineProperty(q,"__esModule",{value:!0}),q.isLineBreakTag=function(e){return["BR","WBR"].includes(e.tagName)},Object.defineProperty(D,"__esModule",{value:!0}),D.isLineBreakTag=void 0,Object.defineProperty(D,"isLineBreakTag",{enumerable:!0,get:function(){return q.isLineBreakTag}});var z={},U={};Object.defineProperty(U,"__esModule",{value:!0}),U.isSingleTag=function(e){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)},Object.defineProperty(z,"__esModule",{value:!0}),z.isSingleTag=void 0,Object.defineProperty(z,"isSingleTag",{enumerable:!0,get:function(){return U.isSingleTag}}),Object.defineProperty(F,"__esModule",{value:!0}),F.getDeepestNode=function e(t,o){void 0===o&&(o=!1);var r=o?"lastChild":"firstChild",n=o?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[r]){var i=t[r];if((0,z.isSingleTag)(i)&&!(0,s.isNativeInput)(i)&&!(0,D.isLineBreakTag)(i)){if(i[n])i=i[n];else{if(null===i.parentNode||!i.parentNode[n])return i.parentNode;i=i.parentNode[n]}}return e(i,o)}return t},Object.defineProperty(B,"__esModule",{value:!0}),B.getDeepestNode=void 0,Object.defineProperty(B,"getDeepestNode",{enumerable:!0,get:function(){return F.getDeepestNode}});var $={},V={},W=n&&n.__spreadArray||function(e,t,o){if(o||2==arguments.length)for(var r,n=0,i=t.length;n<i;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(V,"__esModule",{value:!0}),V.findAllInputs=function(e){return Array.from(e.querySelectorAll((0,a.allInputsSelector)())).reduce(function(e,t){return(0,s.isNativeInput)(t)||(0,y.containsOnlyInlineElements)(t)?W(W([],e,!0),[t],!1):W(W([],e,!0),(0,A.getDeepestBlockElements)(t),!0)},[])},Object.defineProperty($,"__esModule",{value:!0}),$.findAllInputs=void 0,Object.defineProperty($,"findAllInputs",{enumerable:!0,get:function(){return V.findAllInputs}});var Z={},X={};Object.defineProperty(X,"__esModule",{value:!0}),X.isCollapsedWhitespaces=function(e){return!/[^\t\n\r ]/.test(e)},Object.defineProperty(Z,"__esModule",{value:!0}),Z.isCollapsedWhitespaces=void 0,Object.defineProperty(Z,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return X.isCollapsedWhitespaces}});var G={},K={};Object.defineProperty(K,"__esModule",{value:!0}),K.isElement=function(e){return!(0,M.isNumber)(e)&&!!e&&!!e.nodeType&&e.nodeType===Node.ELEMENT_NODE},Object.defineProperty(G,"__esModule",{value:!0}),G.isElement=void 0,Object.defineProperty(G,"isElement",{enumerable:!0,get:function(){return K.isElement}});var J={},Y={},Q={},ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.isLeaf=function(e){return null!==e&&0===e.childNodes.length},Object.defineProperty(Q,"__esModule",{value:!0}),Q.isLeaf=void 0,Object.defineProperty(Q,"isLeaf",{enumerable:!0,get:function(){return ee.isLeaf}});var et={},eo={};Object.defineProperty(eo,"__esModule",{value:!0}),eo.isNodeEmpty=function(e,t){var o="";return(!(0,z.isSingleTag)(e)||!!(0,D.isLineBreakTag)(e))&&((0,G.isElement)(e)&&(0,s.isNativeInput)(e)?o=e.value:null!==e.textContent&&(o=e.textContent.replace("​","")),void 0!==t&&(o=o.replace(RegExp(t,"g"),"")),0===o.trim().length)},Object.defineProperty(et,"__esModule",{value:!0}),et.isNodeEmpty=void 0,Object.defineProperty(et,"isNodeEmpty",{enumerable:!0,get:function(){return eo.isNodeEmpty}}),Object.defineProperty(Y,"__esModule",{value:!0}),Y.isEmpty=function(e,t){e.normalize();for(var o=[e];o.length>0;){var r=o.shift();if(r){if(e=r,(0,Q.isLeaf)(e)&&!(0,et.isNodeEmpty)(e,t))return!1;o.push.apply(o,Array.from(e.childNodes))}}return!0},Object.defineProperty(J,"__esModule",{value:!0}),J.isEmpty=void 0,Object.defineProperty(J,"isEmpty",{enumerable:!0,get:function(){return Y.isEmpty}});var er={},en={};Object.defineProperty(en,"__esModule",{value:!0}),en.isFragment=function(e){return!(0,M.isNumber)(e)&&!!e&&!!e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE},Object.defineProperty(er,"__esModule",{value:!0}),er.isFragment=void 0,Object.defineProperty(er,"isFragment",{enumerable:!0,get:function(){return en.isFragment}});var ei={},ea={};Object.defineProperty(ea,"__esModule",{value:!0}),ea.isHTMLString=function(e){var t=(0,j.make)("div");return t.innerHTML=e,t.childElementCount>0},Object.defineProperty(ei,"__esModule",{value:!0}),ei.isHTMLString=void 0,Object.defineProperty(ei,"isHTMLString",{enumerable:!0,get:function(){return ea.isHTMLString}});var el={},es={};Object.defineProperty(es,"__esModule",{value:!0}),es.offset=function(e){var t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,n=t.top+r,i=t.left+o;return{top:n,left:i,bottom:n+t.height,right:i+t.width}},Object.defineProperty(el,"__esModule",{value:!0}),el.offset=void 0,Object.defineProperty(el,"offset",{enumerable:!0,get:function(){return es.offset}});var ec={},ed={};Object.defineProperty(ed,"__esModule",{value:!0}),ed.prepend=function(e,t){Array.isArray(t)?(t=t.reverse()).forEach(function(t){return e.prepend(t)}):e.prepend(t)},Object.defineProperty(ec,"__esModule",{value:!0}),ec.prepend=void 0,Object.defineProperty(ec,"prepend",{enumerable:!0,get:function(){return ed.prepend}}),Object.defineProperty(i,"__esModule",{value:!0}),i.prepend=i.offset=i.make=i.isLineBreakTag=i.isSingleTag=i.isNodeEmpty=i.isLeaf=i.isHTMLString=i.isFragment=i.isEmpty=i.isElement=i.isContentEditable=i.isCollapsedWhitespaces=i.findAllInputs=i.isNativeInput=i.allInputsSelector=i.getDeepestNode=i.getDeepestBlockElements=i.getContentLength=i.fragmentToString=i.containsOnlyInlineElements=i.canSetCaret=i.calculateBaseline=i.blockElements=i.append=void 0,Object.defineProperty(i,"allInputsSelector",{enumerable:!0,get:function(){return a.allInputsSelector}}),Object.defineProperty(i,"isNativeInput",{enumerable:!0,get:function(){return s.isNativeInput}}),Object.defineProperty(i,"append",{enumerable:!0,get:function(){return d.append}}),Object.defineProperty(i,"blockElements",{enumerable:!0,get:function(){return h.blockElements}}),Object.defineProperty(i,"calculateBaseline",{enumerable:!0,get:function(){return f.calculateBaseline}}),Object.defineProperty(i,"canSetCaret",{enumerable:!0,get:function(){return m.canSetCaret}}),Object.defineProperty(i,"containsOnlyInlineElements",{enumerable:!0,get:function(){return y.containsOnlyInlineElements}}),Object.defineProperty(i,"fragmentToString",{enumerable:!0,get:function(){return L.fragmentToString}}),Object.defineProperty(i,"getContentLength",{enumerable:!0,get:function(){return R.getContentLength}}),Object.defineProperty(i,"getDeepestBlockElements",{enumerable:!0,get:function(){return A.getDeepestBlockElements}}),Object.defineProperty(i,"getDeepestNode",{enumerable:!0,get:function(){return B.getDeepestNode}}),Object.defineProperty(i,"findAllInputs",{enumerable:!0,get:function(){return $.findAllInputs}}),Object.defineProperty(i,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return Z.isCollapsedWhitespaces}}),Object.defineProperty(i,"isContentEditable",{enumerable:!0,get:function(){return v.isContentEditable}}),Object.defineProperty(i,"isElement",{enumerable:!0,get:function(){return G.isElement}}),Object.defineProperty(i,"isEmpty",{enumerable:!0,get:function(){return J.isEmpty}}),Object.defineProperty(i,"isFragment",{enumerable:!0,get:function(){return er.isFragment}}),Object.defineProperty(i,"isHTMLString",{enumerable:!0,get:function(){return ei.isHTMLString}}),Object.defineProperty(i,"isLeaf",{enumerable:!0,get:function(){return Q.isLeaf}}),Object.defineProperty(i,"isNodeEmpty",{enumerable:!0,get:function(){return et.isNodeEmpty}}),Object.defineProperty(i,"isLineBreakTag",{enumerable:!0,get:function(){return D.isLineBreakTag}}),Object.defineProperty(i,"isSingleTag",{enumerable:!0,get:function(){return z.isSingleTag}}),Object.defineProperty(i,"make",{enumerable:!0,get:function(){return j.make}}),Object.defineProperty(i,"offset",{enumerable:!0,get:function(){return el.offset}}),Object.defineProperty(i,"prepend",{enumerable:!0,get:function(){return ec.prepend}});var eu=((r=eu||{}).Left="left",r.Center="center",r);class eh{constructor({data:e,config:t,api:o,readOnly:r,block:n}){let{DEFAULT_ALIGNMENT:i}=eh;this.api=o,this.readOnly=r,this._quotePlaceholder=t.quotePlaceholder||eh.DEFAULT_QUOTE_PLACEHOLDER,this._captionPlaceholder=t.captionPlaceholder||eh.DEFAULT_CAPTION_PLACEHOLDER,this._data={text:e.text||"",caption:e.caption||"",alignment:Object.values(eu).includes(e.alignment)&&e.alignment||t.defaultAlignment||i},this._CSS={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this._block=n}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} — ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}render(){let e=i.make("blockquote",[this._CSS.baseClass,this._CSS.wrapper]),t=i.make("div",[this._CSS.input,this._CSS.text],{contentEditable:!this.readOnly,innerHTML:this._data.text}),o=i.make("div",[this._CSS.input,this._CSS.caption],{contentEditable:!this.readOnly,innerHTML:this._data.caption});return t.dataset.placeholder=this._quotePlaceholder,o.dataset.placeholder=this._captionPlaceholder,e.appendChild(t),e.appendChild(o),e}save(e){let t=e.querySelector(`.${this._CSS.text}`),o=e.querySelector(`.${this._CSS.caption}`);return Object.assign(this._data,{text:(null==t?void 0:t.innerHTML)??"",caption:(null==o?void 0:o.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){let e=e=>e&&e[0].toUpperCase()+e.slice(1);return this.settings.map(t=>({icon:t.icon,label:this.api.i18n.t(`Align ${e(t.name)}`),onActivate:()=>this._toggleTune(t.name),isActive:this._data.alignment===t.name,closeOnActivate:!0}))}_toggleTune(e){this._data.alignment=e,this._block.dispatchChange()}}},6687:function(e,t,o){function r(e,t,o={}){let r=document.createElement(e);for(let e in Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t),o)Object.prototype.hasOwnProperty.call(o,e)&&(r[e]=o[e]);return r}function n(e){let t=e.getBoundingClientRect();return{y1:Math.floor(t.top+window.pageYOffset),x1:Math.floor(t.left+window.pageXOffset),x2:Math.floor(t.right+window.pageXOffset),y2:Math.floor(t.bottom+window.pageYOffset)}}function i(e,t){let o=n(e),r=n(t);return{fromTopBorder:r.y1-o.y1,fromLeftBorder:r.x1-o.x1,fromRightBorder:o.x2-r.x2,fromBottomBorder:o.y2-r.y2}}function a(e,t){return t.parentNode.insertBefore(e,t)}function l(e,t=!0){let o=document.createRange(),r=window.getSelection();o.selectNodeContents(e),o.collapse(t),r.removeAllRanges(),r.addRange(o)}o.d(t,{Z:function(){return f}}),function(){var e;try{if("u">typeof document){var t=document.createElement("style");t.nonce=null==(e=document.head.querySelector("meta[property=csp-nonce]"))?void 0:e.content,t.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class s{constructor({items:e}){this.items=e,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=r("div",s.CSS.popover),this.items.forEach((e,t)=>{let o=r("div",s.CSS.item),n=r("div",s.CSS.itemIcon,{innerHTML:e.icon}),i=r("div",s.CSS.itemLabel,{textContent:e.label});o.dataset.index=t,o.appendChild(n),o.appendChild(i),this.wrapper.appendChild(o),this.itemEls.push(o)}),this.wrapper.addEventListener("click",e=>{this.popoverClicked(e)}),this.wrapper}popoverClicked(e){let t=e.target.closest(`.${s.CSS.item}`);if(!t)return;let o=t.dataset.index,r=this.items[o];if(r.confirmationRequired&&!this.hasConfirmationState(t)){this.setConfirmationState(t);return}r.onClick()}setConfirmationState(e){e.classList.add(s.CSS.itemConfirmState)}clearConfirmationState(e){e.classList.remove(s.CSS.itemConfirmState)}hasConfirmationState(e){return e.classList.contains(s.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(s.CSS.popoverOpened)}open(){this.items.forEach((e,t)=>{"function"==typeof e.hideIf&&this.itemEls[t].classList.toggle(s.CSS.itemHidden,e.hideIf())}),this.wrapper.classList.add(s.CSS.popoverOpened)}close(){this.wrapper.classList.remove(s.CSS.popoverOpened),this.itemEls.forEach(e=>{this.clearConfirmationState(e)})}}let c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>';class u{constructor({api:e,items:t,onOpen:o,onClose:r,cssModifier:n=""}){this.api=e,this.items=t,this.onOpen=o,this.onClose=r,this.cssModifier=n,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){let e=r("div",[u.CSS.toolbox,this.cssModifier?`${u.CSS.toolbox}--${this.cssModifier}`:""]);e.dataset.mutationFree="true";let t=this.createPopover(),o=this.createToggler();return e.appendChild(o),e.appendChild(t),e}createToggler(){let e=r("div",u.CSS.toggler,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>'});return e.addEventListener("click",()=>{this.togglerClicked()}),e}createPopover(){return this.popover=new s({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(e){Object.entries(e()).forEach(([e,t])=>{this.wrapper.style[e]=t}),this.wrapper.classList.add(u.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(u.CSS.toolboxShowed)}}let h={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addColumn:"tc-add-column"};class p{constructor(e,t,o,r){this.readOnly=e,this.api=t,this.data=o,this.config=r,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=e=>{let t=null!==e.target.closest(`.${h.table}`),o=null===e.target.closest(`.${h.wrapper}`);(t||o)&&this.hideToolboxes();let r=e.target.closest(`.${h.addRow}`),n=e.target.closest(`.${h.addColumn}`);r&&r.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):n&&n.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){var e;let t;document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",(e=e=>this.onMouseMoveInTable(e),t=0,function(...o){let r=new Date().getTime();if(!(r-t<150))return t=r,e(...o)}),{passive:!0}),this.table.onkeypress=e=>this.onKeyPressListener(e),this.table.addEventListener("keydown",e=>this.onKeyDownListener(e)),this.table.addEventListener("focusin",e=>this.focusInTableListener(e))}createColumnToolbox(){return new u({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:c,hideIf:()=>1===this.numberOfColumns,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new u({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:c,hideIf:()=>1===this.numberOfRows,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(e,t){return this.table.querySelectorAll(`.${h.row}:nth-child(${e}) .${h.cell}`)[t-1]}getRow(e){return this.table.querySelector(`.${h.row}:nth-child(${e})`)}getRowByCell(e){return e.parentElement}getRowFirstCell(e){return e.querySelector(`.${h.cell}:first-child`)}setCellContent(e,t,o){this.getCell(e,t).innerHTML=o}addColumn(e=-1,t=!1){let o=this.numberOfColumns;for(let r=1;r<=this.numberOfRows;r++){let n=this.createCell();if(e>0&&e<=o?a(n,this.getCell(r,e)):this.getRow(r).appendChild(n),1===r){let n=this.getCell(r,e>0?e:o+1);n&&t&&l(n)}}this.addHeadingAttrToFirstRow()}addRow(e=-1,t=!1){let o,n=r("div",h.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let i=this.numberOfColumns;o=e>0&&e<=this.numberOfRows?a(n,this.getRow(e)):this.table.appendChild(n),this.fillRow(o,i),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();let s=this.getRowFirstCell(o);return s&&t&&l(s),o}deleteColumn(e){for(let t=1;t<=this.numberOfRows;t++){let o=this.getCell(t,e);if(!o)return;o.remove()}}deleteRow(e){this.getRow(e).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=r("div",h.wrapper),this.table=r("div",h.table),this.readOnly&&this.wrapper.classList.add(h.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){let e=r("div",h.addColumn,{innerHTML:d}),t=r("div",h.addRow,{innerHTML:d});this.wrapper.appendChild(e),this.wrapper.appendChild(t)}}computeInitialSize(){let e=this.data&&this.data.content,t=Array.isArray(e),o=!!t&&e.length,r=t?e.length:void 0,n=o?e[0].length:void 0,i=Number.parseInt(this.config&&this.config.rows),a=Number.parseInt(this.config&&this.config.cols),l=!isNaN(i)&&i>0?i:void 0,s=!isNaN(a)&&a>0?a:void 0;return{rows:r||l||2,cols:n||s||2}}resize(){let{rows:e,cols:t}=this.computeInitialSize();for(let t=0;t<e;t++)this.addRow();for(let e=0;e<t;e++)this.addColumn()}fill(){let e=this.data;if(e&&e.content)for(let t=0;t<e.content.length;t++)for(let o=0;o<e.content[t].length;o++)this.setCellContent(t+1,o+1,e.content[t][o])}fillRow(e,t){for(let o=1;o<=t;o++){let t=this.createCell();e.appendChild(t)}}createCell(){return r("div",h.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${h.row}:first-child .${h.cell}`).length:0}get isColumnMenuShowing(){return 0!==this.selectedColumn}get isRowMenuShowing(){return 0!==this.selectedRow}onMouseMoveInTable(e){let{row:t,column:o}=this.getHoveredCell(e);this.hoveredColumn=o,this.hoveredRow=t,this.updateToolboxesPosition()}onKeyPressListener(e){if("Enter"===e.key){if(e.shiftKey)return!0;this.moveCursorToNextRow()}return"Enter"!==e.key}onKeyDownListener(e){"Tab"===e.key&&e.stopPropagation()}focusInTableListener(e){let t=e.target,o=this.getRowByCell(t);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${h.row}`)).indexOf(o)+1,column:Array.from(o.querySelectorAll(`.${h.cell}`)).indexOf(t)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){let{row:e,column:t}=this.focusedCell;return this.getCell(e,t)}updateToolboxesPosition(e=this.hoveredRow,t=this.hoveredColumn){this.isColumnMenuShowing||t>0&&t<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${t} - 1) * 2))`})),this.isRowMenuShowing||e>0&&e<=this.numberOfRows&&this.toolboxRow.show(()=>{let t=this.getRow(e),{fromTopBorder:o}=i(this.table,t),{height:r}=t.getBoundingClientRect();return{top:`${Math.ceil(o+r/2)}px`}})}setHeadingsSetting(e){this.tunes.withHeadings=e,e?(this.table.classList.add(h.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(h.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.removeAttribute("heading")}}selectRow(e){let t=this.getRow(e);t&&(this.selectedRow=e,t.classList.add(h.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;let e=this.table.querySelector(`.${h.rowSelected}`);e&&e.classList.remove(h.rowSelected),this.selectedRow=0}selectColumn(e){for(let t=1;t<=this.numberOfRows;t++){let o=this.getCell(t,e);o&&o.classList.add(h.cellSelected)}this.selectedColumn=e}unselectColumn(){this.selectedColumn<=0||(Array.from(this.table.querySelectorAll(`.${h.cellSelected}`)).forEach(e=>{e.classList.remove(h.cellSelected)}),this.selectedColumn=0)}getHoveredCell(e){let t=this.hoveredRow,o=this.hoveredColumn,{width:r,height:n,x:i,y:a}=function(e,t){let{width:o,height:r,x:n,y:i}=e.getBoundingClientRect(),{clientX:a,clientY:l}=t;return{width:o,height:r,x:a-n,y:l-i}}(this.table,e);return i>=0&&(o=this.binSearch(this.numberOfColumns,e=>this.getCell(1,e),({fromLeftBorder:e})=>i<e,({fromRightBorder:e})=>i>r-e)),a>=0&&(t=this.binSearch(this.numberOfRows,e=>this.getCell(e,1),({fromTopBorder:e})=>a<e,({fromBottomBorder:e})=>a>n-e)),{row:t||this.hoveredRow,column:o||this.hoveredColumn}}binSearch(e,t,o,r){let n=0,a=e+1,l=0,s;for(;n<a-1&&l<10;){let e=t(s=Math.ceil((n+a)/2)),c=i(this.table,e);if(o(c))a=s;else if(r(c))n=s;else break;l++}return s}getData(){let e=[];for(let t=1;t<=this.numberOfRows;t++){let o=Array.from(this.table.querySelector(`.${h.row}:nth-child(${t})`).querySelectorAll(`.${h.cell}`));o.every(e=>!e.textContent.trim())||e.push(o.map(e=>e.innerHTML))}return e}destroy(){document.removeEventListener("click",this.documentClicked)}}class f{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:o,readOnly:r}){this.api=o,this.readOnly=r,this.config=t,this.data={withHeadings:this.getConfig("withHeadings",!1,e),content:e&&e.content?e.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new p(this.readOnly,this.api,this.data,this.config),this.container=r("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){let e=this.table.getData();return{withHeadings:this.data.withHeadings,content:e}}destroy(){this.table.destroy()}getConfig(e,t,o){let r=this.data||o;return r?r[e]?r[e]:t:this.config&&this.config[e]?this.config[e]:t}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(e){let t=e.detail.data,o=t.querySelector(":scope > thead, tr:first-of-type th"),r=Array.from(t.querySelectorAll("tr")).map(e=>Array.from(e.querySelectorAll("th, td")).map(e=>e.innerHTML));this.data={withHeadings:null!==o,content:r},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}},1250:function(e,t,o){o.d(t,{j:function(){return b}});var r=o(1627),n=o(9987),i=o(2265),a=o(3797);function l(e){return i.createElement(a.JO,{...e},i.createElement("path",{d:"M10 4v12m6-6-6 6-6-6"}))}function s(e){return i.createElement(a.JO,{...e},i.createElement("circle",{cx:10,cy:10,r:7}),i.createElement("path",{d:"m13 8-4 4-2-2"}))}function c(e){return i.createElement(a.JO,{...e},i.createElement("circle",{cx:10,cy:10,r:7,fill:"currentColor"}),i.createElement("path",{d:"m13 8-4 4-2-2",stroke:"var(--lb-icon-background)"}))}var d=o(6345),u=o(1643),h=o(4954),p=o(1227),f=o(8608),g=o(486),m=o(1677);let b=(0,i.forwardRef)((e,t)=>{let{thread:o,indentCommentContent:a=!0,showActions:b="hover",showDeletedComments:v,showResolveAction:w=!0,showReactions:y=!0,showComposer:C="collapsed",showAttachments:k=!0,onResolvedChange:x,onCommentEdit:_,onCommentDelete:S,onThreadDelete:E,onAuthorClick:O,onMentionClick:M,onAttachmentClick:L,onComposerSubmit:T,overrides:j,className:P,...R}=e,H=(0,r.d7)(),A=(0,r.RN)(),N=(0,d.QG)(j),I=(0,i.useMemo)(()=>v?0:o.comments.findIndex(e=>e.body),[v,o.comments]),B=(0,i.useMemo)(()=>v?o.comments.length-1:function(e,t){let o=e.length-1;for(;o>=0;){if(t(e[o]))return o;o--}return -1}(o.comments,e=>e.body),[v,o.comments]),{status:F,unreadSince:D}=(0,r.$$)(o.id),q=(0,i.useMemo)(()=>{if("subscribed"!==F)return;if(null===D)return I;let e=o.comments.findIndex(e=>(!!v||e.body)&&e.createdAt>D);return e>=0&&e<o.comments.length?e:void 0},[I,v,F,o.comments,D]),[z,U]=(0,i.useState)(),$=void 0===z?q:z;(0,i.useEffect)(()=>{q&&U(e=>Math.min(null!=e?e:1/0,q))},[q]);let V=(0,i.useCallback)(e=>{e.stopPropagation()},[]),W=(0,i.useCallback)(e=>{null==x||x(e),e?H(o.id):A(o.id)},[H,A,x,o.id]),Z=(0,i.useCallback)(e=>{null==S||S(e),o.comments.filter(e=>e.body).length<=1&&(null==E||E(o))},[S,E,o]);return i.createElement(m.pn,null,i.createElement("div",{className:(0,u.A)("lb-root lb-thread","hover"===b&&"lb-thread:show-actions-hover",P),"data-resolved":o.resolved?"":void 0,"data-unread":void 0!==q?"":void 0,dir:N.dir,...R,ref:t},i.createElement("div",{className:"lb-thread-comments"},o.comments.map((e,t)=>{let r=t===I,d=void 0!==q&&t>=q,u=i.createElement(h.sv,{key:e.id,className:"lb-thread-comment","data-unread":d?"":void 0,comment:e,indentContent:a,showDeleted:v,showActions:b,showReactions:y,showAttachments:k,onCommentEdit:_,onCommentDelete:Z,onAuthorClick:O,onMentionClick:M,onAttachmentClick:L,autoMarkReadThreadId:t===B&&d?o.id:void 0,additionalActionsClassName:r?"lb-thread-actions":void 0,additionalActions:r&&w?i.createElement(g.u,{content:o.resolved?N.THREAD_UNRESOLVE:N.THREAD_RESOLVE},i.createElement(n.f,{pressed:o.resolved,onPressedChange:W,asChild:!0},i.createElement(f.z,{className:"lb-comment-action",onClick:V,"aria-label":o.resolved?N.THREAD_UNRESOLVE:N.THREAD_RESOLVE},o.resolved?i.createElement(c,{className:"lb-button-icon"}):i.createElement(s,{className:"lb-button-icon"})))):null});return t===$&&$!==I&&$<=B?i.createElement(i.Fragment,{key:e.id},i.createElement("div",{className:"lb-thread-new-indicator","aria-label":N.THREAD_NEW_INDICATOR_DESCRIPTION},i.createElement("span",{className:"lb-thread-new-indicator-label"},i.createElement(l,{className:"lb-thread-new-indicator-label-icon"}),N.THREAD_NEW_INDICATOR)),u):u})),C&&i.createElement(p.a,{className:"lb-thread-composer",threadId:o.id,defaultCollapsed:"collapsed"===C||void 0,showAttachments:k,onComposerSubmit:T,overrides:{COMPOSER_PLACEHOLDER:N.THREAD_COMPOSER_PLACEHOLDER,COMPOSER_SEND:N.THREAD_COMPOSER_SEND}})))})}}]);