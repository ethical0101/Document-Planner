(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{4048:function(e,t,n){"use strict";n.d(t,{do:function(){return K}});var r,o,i,a=[],l="ResizeObserver loop completed with undelivered notifications.",s=function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:l}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=l),window.dispatchEvent(e)};(r=o||(o={})).BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var u=function(e){return Object.freeze(e)},c=function(e,t){this.inlineSize=e,this.blockSize=t,u(this)},d=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,u(this)}return e.prototype.toJSON=function(){return{x:this.x,y:this.y,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),f=function(e){return e instanceof SVGElement&&"getBBox"in e},m=function(e){if(f(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e.offsetWidth,i=e.offsetHeight;return!(o||i||e.getClientRects().length)},p=function(e){if(e instanceof Element)return!0;var t,n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},h=function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},g="undefined"!=typeof window?window:{},v=new WeakMap,b=/auto|scroll/,y=/^tb|vertical/,E=/msie|trident/i.test(g.navigator&&g.navigator.userAgent),x=function(e){return parseFloat(e||"0")},w=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new c((n?t:e)||0,(n?e:t)||0)},C=u({devicePixelContentBoxSize:w(),borderBoxSize:w(),contentBoxSize:w(),contentRect:new d(0,0,0,0)}),T=function(e,t){if(void 0===t&&(t=!1),v.has(e)&&!t)return v.get(e);if(m(e))return v.set(e,C),C;var n=getComputedStyle(e),r=f(e)&&e.ownerSVGElement&&e.getBBox(),o=!E&&"border-box"===n.boxSizing,i=y.test(n.writingMode||""),a=!r&&b.test(n.overflowY||""),l=!r&&b.test(n.overflowX||""),s=r?0:x(n.paddingTop),c=r?0:x(n.paddingRight),p=r?0:x(n.paddingBottom),h=r?0:x(n.paddingLeft),g=r?0:x(n.borderTopWidth),T=r?0:x(n.borderRightWidth),I=r?0:x(n.borderBottomWidth),S=r?0:x(n.borderLeftWidth),R=h+c,k=s+p,M=S+T,N=g+I,O=l?e.offsetHeight-N-e.clientHeight:0,A=a?e.offsetWidth-M-e.clientWidth:0,_=r?r.width:x(n.width)-(o?R+M:0)-A,D=r?r.height:x(n.height)-(o?k+N:0)-O,P=_+R+A+M,j=D+k+O+N,L=u({devicePixelContentBoxSize:w(Math.round(_*devicePixelRatio),Math.round(D*devicePixelRatio),i),borderBoxSize:w(P,j,i),contentBoxSize:w(_,D,i),contentRect:new d(h,s,_,D)});return v.set(e,L),L},I=function(e,t,n){var r=T(e,n),i=r.borderBoxSize,a=r.contentBoxSize,l=r.devicePixelContentBoxSize;switch(t){case o.DEVICE_PIXEL_CONTENT_BOX:return l;case o.BORDER_BOX:return i;default:return a}},S=function(e){var t=T(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=u([t.borderBoxSize]),this.contentBoxSize=u([t.contentBoxSize]),this.devicePixelContentBoxSize=u([t.devicePixelContentBoxSize])},R=function(e){if(m(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},k=function(){var e=1/0,t=[];a.forEach(function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach(function(t){var n=new S(t.target),o=R(t.target);r.push(n),t.lastReportedSize=I(t.target,t.observedBox),o<e&&(e=o)}),t.push(function(){n.callback.call(n.observer,r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0;n<t.length;n++)(0,t[n])();return e},M=function(e){a.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(R(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},N=function(){var e=0;for(M(0);a.some(function(e){return e.activeTargets.length>0});)M(e=k());return a.some(function(e){return e.skippedTargets.length>0})&&s(),e>0},O=[],A=function(e){if(!i){var t=0,n=document.createTextNode("");new MutationObserver(function(){return O.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),i=function(){n.textContent="".concat(t?t--:t++)}}O.push(e),i()},_=function(e){A(function(){requestAnimationFrame(e)})},D=0,P={attributes:!0,characterData:!0,childList:!0,subtree:!0},j=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],L=function(e){return void 0===e&&(e=0),Date.now()+e},B=!1,F=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!B){B=!0;var n=L(e);_(function(){var r=!1;try{r=N()}finally{if(B=!1,e=n-L(),!D)return;r?t.run(1e3):e>0?t.run(e):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,P)};document.body?t():g.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),j.forEach(function(t){return g.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),j.forEach(function(t){return g.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),z=function(e){!D&&e>0&&F.start(),(D+=e)||F.stop()},H=function(){function e(e,t){this.target=e,this.observedBox=t||o.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=I(this.target,this.observedBox,!0);return f(e=this.target)||h(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),W=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},V=new WeakMap,U=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return -1},Y=function(){function e(){}return e.connect=function(e,t){var n=new W(e,t);V.set(e,n)},e.observe=function(e,t,n){var r=V.get(e),o=0===r.observationTargets.length;0>U(r.observationTargets,t)&&(o&&a.push(r),r.observationTargets.push(new H(t,n&&n.box)),z(1),F.schedule())},e.unobserve=function(e,t){var n=V.get(e),r=U(n.observationTargets,t),o=1===n.observationTargets.length;r>=0&&(o&&a.splice(a.indexOf(n),1),n.observationTargets.splice(r,1),z(-1))},e.disconnect=function(e){var t=this,n=V.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),K=function(){function e(e){if(0==arguments.length)throw TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Y.connect(this,e)}return e.prototype.observe=function(e,t){if(0==arguments.length)throw TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!p(e))throw TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Y.observe(this,e,t)},e.prototype.unobserve=function(e){if(0==arguments.length)throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!p(e))throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Y.unobserve(this,e)},e.prototype.disconnect=function(){Y.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},1190:function(e){"use strict";e.exports=function(e){return(e=String(e||""),r.test(e))?"rtl":o.test(e)?"ltr":"neutral"};var t="֑-߿יִ-﷽ﹰ-ﻼ",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",r=RegExp("^[^"+n+"]*["+t+"]"),o=RegExp("^[^"+t+"]*["+n+"]")},1001:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function l(e){return e=o[e=e.toLowerCase()]||e}t.P6=function(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var a=e.map(function(e){return function(e,t){var n=t&&t.byKey,a={},s=(e=e.replace("++","+add")).split("+"),u=s.length;for(var c in r)a[r[c]]=!1;var d=!0,f=!1,m=void 0;try{for(var p,h=s[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var g,v=p.value,b=v.endsWith("?")&&v.length>1;b&&(v=v.slice(0,-1));var y=l(v),E=r[y];if(v.length>1&&!E&&!o[v]&&!i[y])throw TypeError('Unknown modifier: "'+v+'"');1!==u&&E||(n?a.key=y:a.which=(g=v,i[g=l(g)]||g.toUpperCase().charCodeAt(0))),E&&(a[E]=!b||null)}}catch(e){f=!0,m=e}finally{try{!d&&h.return&&h.return()}finally{if(f)throw m}}return a}(e,t)}),s=function(e){return a.some(function(t){return function(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&(null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r)return!1}return!0}(t,e)})};return null==n?s:s(n)}},3910:function(e,t,n){var r=n(4288).Symbol;e.exports=r},4506:function(e,t,n){var r=n(3910),o=n(4479),i=n(910),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},5041:function(e,t,n){var r=n(5035),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},7071:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4479:function(e,t,n){var r=n(3910),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[l]=n:delete e[l]),o}},910:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4288:function(e,t,n){var r=n(7071),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},5035:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},7310:function(e,t,n){var r=n(8302),o=n(1121),i=n(6660),a=Math.max,l=Math.min;e.exports=function(e,t,n){var s,u,c,d,f,m,p=0,h=!1,g=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(t){var n=s,r=u;return s=u=void 0,p=t,d=e.apply(r,n)}function y(e){var n=e-m,r=e-p;return void 0===m||n>=t||n<0||g&&r>=c}function E(){var e,n,r,i=o();if(y(i))return x(i);f=setTimeout(E,(e=i-m,n=i-p,r=t-e,g?l(r,c-n):r))}function x(e){return(f=void 0,v&&s)?b(e):(s=u=void 0,d)}function w(){var e,n=o(),r=y(n);if(s=arguments,u=this,m=n,r){if(void 0===f)return p=e=m,f=setTimeout(E,t),h?b(e):d;if(g)return clearTimeout(f),f=setTimeout(E,t),b(m)}return void 0===f&&(f=setTimeout(E,t)),d}return t=i(t)||0,r(n)&&(h=!!n.leading,c=(g="maxWait"in n)?a(i(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==f&&clearTimeout(f),p=0,s=m=u=f=void 0},w.flush=function(){return void 0===f?d:x(o())},w}},8302:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},303:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},8371:function(e,t,n){var r=n(4506),o=n(303);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},1121:function(e,t,n){var r=n(4288);e.exports=function(){return r.Date.now()}},7065:function(e,t,n){var r=n(7310),o=n(8302);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},6660:function(e,t,n){var r=n(5041),o=n(8302),i=n(8371),a=0/0,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):l.test(e)?a:+e}},4766:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},1533:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},9985:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},5868:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},5698:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]])},8930:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3044:function(e,t,n){"use strict";var r=n(2265),o=n(2558),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,l=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var m=a(e,(d=u(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return l=t}return l=e}if(t=l,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,l=n)}var a,l,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,o]))[0],d[1]);return s(function(){f.hasValue=!0,f.value=m},[m]),c(m),m}},5195:function(e,t,n){"use strict";e.exports=n(3044)},32:function(e,t,n){"use strict";n.d(t,{x7:function(){return ec},Me:function(){return eo},oo:function(){return ef},RR:function(){return el},Cp:function(){return eu},dr:function(){return ed},cv:function(){return ei},uY:function(){return ea},dp:function(){return es}});let r=["top","right","bottom","left"],o=Math.min,i=Math.max,a=Math.round,l=Math.floor,s=e=>({x:e,y:e}),u={left:"right",right:"left",bottom:"top",top:"bottom"},c={start:"end",end:"start"};function d(e,t){return"function"==typeof e?e(t):e}function f(e){return e.split("-")[0]}function m(e){return e.split("-")[1]}function p(e){return"x"===e?"y":"x"}function h(e){return"y"===e?"height":"width"}function g(e){return["top","bottom"].includes(f(e))?"y":"x"}function v(e){return e.replace(/start|end/g,e=>c[e])}function b(e){return e.replace(/left|right|bottom|top/g,e=>u[e])}function y(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function E(e){let{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function x(e,t,n){let r,{reference:o,floating:i}=e,a=g(t),l=p(g(t)),s=h(l),u=f(t),c="y"===a,d=o.x+o.width/2-i.width/2,v=o.y+o.height/2-i.height/2,b=o[s]/2-i[s]/2;switch(u){case"top":r={x:d,y:o.y-i.height};break;case"bottom":r={x:d,y:o.y+o.height};break;case"right":r={x:o.x+o.width,y:v};break;case"left":r={x:o.x-i.width,y:v};break;default:r={x:o.x,y:o.y}}switch(m(t)){case"start":r[l]-=b*(n&&c?-1:1);break;case"end":r[l]+=b*(n&&c?-1:1)}return r}let w=async(e,t,n)=>{let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),s=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=x(u,r,s),f=r,m={},p=0;for(let n=0;n<l.length;n++){let{name:i,fn:h}=l[n],{x:g,y:v,data:b,reset:y}=await h({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=g?g:c,d=null!=v?v:d,m={...m,[i]:{...m[i],...b}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(u=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):y.rects),{x:c,y:d}=x(u,f,s)),n=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:m}};async function C(e,t){var n;void 0===t&&(t={});let{x:r,y:o,platform:i,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=d(t,e),h=y(p),g=l[m?"floating"===f?"reference":"floating":f],v=E(await i.getClippingRect({element:null==(n=await (null==i.isElement?void 0:i.isElement(g)))||n?g:g.contextElement||await (null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:s})),b="floating"===f?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,x=await (null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),w=await (null==i.isElement?void 0:i.isElement(x))&&await (null==i.getScale?void 0:i.getScale(x))||{x:1,y:1},C=E(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:x,strategy:s}):b);return{top:(v.top-C.top+h.top)/w.y,bottom:(C.bottom-v.bottom+h.bottom)/w.y,left:(v.left-C.left+h.left)/w.x,right:(C.right-v.right+h.right)/w.x}}function T(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function I(e){return r.some(t=>e[t]>=0)}async function S(e,t){let{placement:n,platform:r,elements:o}=e,i=await (null==r.isRTL?void 0:r.isRTL(o.floating)),a=f(n),l=m(n),s="y"===g(n),u=["left","top"].includes(a)?-1:1,c=i&&s?-1:1,p=d(t,e),{mainAxis:h,crossAxis:v,alignmentAxis:b}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&"number"==typeof b&&(v="end"===l?-1*b:b),s?{x:v*c,y:h*u}:{x:h*u,y:v*c}}function R(){return"undefined"!=typeof window}function k(e){return O(e)?(e.nodeName||"").toLowerCase():"#document"}function M(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function N(e){var t;return null==(t=(O(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function O(e){return!!R()&&(e instanceof Node||e instanceof M(e).Node)}function A(e){return!!R()&&(e instanceof Element||e instanceof M(e).Element)}function _(e){return!!R()&&(e instanceof HTMLElement||e instanceof M(e).HTMLElement)}function D(e){return!!R()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof M(e).ShadowRoot)}function P(e){let{overflow:t,overflowX:n,overflowY:r,display:o}=z(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function j(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function L(e){let t=B(),n=A(e)?z(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function B(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function F(e){return["html","body","#document"].includes(k(e))}function z(e){return M(e).getComputedStyle(e)}function H(e){return A(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function W(e){if("html"===k(e))return e;let t=e.assignedSlot||e.parentNode||D(e)&&e.host||N(e);return D(t)?t.host:t}function V(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let o=function e(t){let n=W(t);return F(n)?t.ownerDocument?t.ownerDocument.body:t.body:_(n)&&P(n)?n:e(n)}(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=M(o);if(i){let e=U(a);return t.concat(a,a.visualViewport||[],P(o)?o:[],e&&n?V(e):[])}return t.concat(o,V(o,[],n))}function U(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Y(e){let t=z(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,o=_(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,s=a(n)!==i||a(r)!==l;return s&&(n=i,r=l),{width:n,height:r,$:s}}function K(e){return A(e)?e:e.contextElement}function $(e){let t=K(e);if(!_(t))return s(1);let n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Y(t),l=(i?a(n.width):n.width)/r,u=(i?a(n.height):n.height)/o;return l&&Number.isFinite(l)||(l=1),u&&Number.isFinite(u)||(u=1),{x:l,y:u}}let G=s(0);function q(e){let t=M(e);return B()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:G}function Q(e,t,n,r){var o;void 0===t&&(t=!1),void 0===n&&(n=!1);let i=e.getBoundingClientRect(),a=K(e),l=s(1);t&&(r?A(r)&&(l=$(r)):l=$(e));let u=(void 0===(o=n)&&(o=!1),r&&(!o||r===M(a))&&o)?q(a):s(0),c=(i.left+u.x)/l.x,d=(i.top+u.y)/l.y,f=i.width/l.x,m=i.height/l.y;if(a){let e=M(a),t=r&&A(r)?M(r):r,n=e,o=U(n);for(;o&&r&&t!==n;){let e=$(o),t=o.getBoundingClientRect(),r=z(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,f*=e.x,m*=e.y,c+=i,d+=a,o=U(n=M(o))}}return E({width:f,height:m,x:c,y:d})}function Z(e,t){let n=H(e).scrollLeft;return t?t.left+n:Q(N(e)).left+n}function X(e,t,n){let r;if("viewport"===t)r=function(e,t){let n=M(e),r=N(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,s=0;if(o){i=o.width,a=o.height;let e=B();(!e||e&&"fixed"===t)&&(l=o.offsetLeft,s=o.offsetTop)}return{width:i,height:a,x:l,y:s}}(e,n);else if("document"===t)r=function(e){let t=N(e),n=H(e),r=e.ownerDocument.body,o=i(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=i(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),l=-n.scrollLeft+Z(e),s=-n.scrollTop;return"rtl"===z(r).direction&&(l+=i(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:l,y:s}}(N(e));else if(A(t))r=function(e,t){let n=Q(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=_(e)?$(e):s(1),a=e.clientWidth*i.x;return{width:a,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{let n=q(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return E(r)}function J(e){return"static"===z(e).position}function ee(e,t){if(!_(e)||"fixed"===z(e).position)return null;if(t)return t(e);let n=e.offsetParent;return N(e)===n&&(n=n.ownerDocument.body),n}function et(e,t){let n=M(e);if(j(e))return n;if(!_(e)){let t=W(e);for(;t&&!F(t);){if(A(t)&&!J(t))return t;t=W(t)}return n}let r=ee(e,t);for(;r&&["table","td","th"].includes(k(r))&&J(r);)r=ee(r,t);return r&&F(r)&&J(r)&&!L(r)?n:r||function(e){let t=W(e);for(;_(t)&&!F(t);){if(L(t))return t;if(j(t))break;t=W(t)}return null}(e)||n}let en=async function(e){let t=this.getOffsetParent||et,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=_(t),o=N(t),i="fixed"===n,a=Q(e,!0,i,t),l={scrollLeft:0,scrollTop:0},u=s(0);if(r||!r&&!i){if(("body"!==k(t)||P(o))&&(l=H(t)),r){let e=Q(t,!0,i,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else o&&(u.x=Z(o))}let c=0,d=0;if(o&&!r&&!i){let e=o.getBoundingClientRect();d=e.top+l.scrollTop,c=e.left+l.scrollLeft-Z(o,e)}return{x:a.left+l.scrollLeft-u.x-c,y:a.top+l.scrollTop-u.y-d,width:a.width,height:a.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},er={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e,i="fixed"===o,a=N(r),l=!!t&&j(t.floating);if(r===a||l&&i)return n;let u={scrollLeft:0,scrollTop:0},c=s(1),d=s(0),f=_(r);if((f||!f&&!i)&&(("body"!==k(r)||P(a))&&(u=H(r)),_(r))){let e=Q(r);c=$(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x,y:n.y*c.y-u.scrollTop*c.y+d.y}},getDocumentElement:N,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e,l=[..."clippingAncestors"===n?j(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=V(e,[],!1).filter(e=>A(e)&&"body"!==k(e)),o=null,i="fixed"===z(e).position,a=i?W(e):e;for(;A(a)&&!F(a);){let t=z(a),n=L(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&!!o&&["absolute","fixed"].includes(o.position)||P(a)&&!n&&function e(t,n){let r=W(t);return!(r===n||!A(r)||F(r))&&("fixed"===z(r).position||e(r,n))}(e,a))?r=r.filter(e=>e!==a):o=t,a=W(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=l[0],u=l.reduce((e,n)=>{let r=X(t,n,a);return e.top=i(r.top,e.top),e.right=o(r.right,e.right),e.bottom=o(r.bottom,e.bottom),e.left=i(r.left,e.left),e},X(t,s,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:et,getElementRects:en,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=Y(e);return{width:t,height:n}},getScale:$,isElement:A,isRTL:function(e){return"rtl"===z(e).direction}};function eo(e,t,n,r){let a;void 0===r&&(r={});let{ancestorScroll:s=!0,ancestorResize:u=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:f=!1}=r,m=K(e),p=s||u?[...m?V(m):[],...V(t)]:[];p.forEach(e=>{s&&e.addEventListener("scroll",n,{passive:!0}),u&&e.addEventListener("resize",n)});let h=m&&d?function(e,t){let n,r=null,a=N(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return!function u(c,d){void 0===c&&(c=!1),void 0===d&&(d=1),s();let{left:f,top:m,width:p,height:h}=e.getBoundingClientRect();if(c||t(),!p||!h)return;let g=l(m),v=l(a.clientWidth-(f+p)),b={rootMargin:-g+"px "+-v+"px "+-l(a.clientHeight-(m+h))+"px "+-l(f)+"px",threshold:i(0,o(1,d))||1},y=!0;function E(e){let t=e[0].intersectionRatio;if(t!==d){if(!y)return u();t?u(!1,t):n=setTimeout(()=>{u(!1,1e-7)},1e3)}y=!1}try{r=new IntersectionObserver(E,{...b,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(E,b)}r.observe(e)}(!0),s}(m,n):null,g=-1,v=null;c&&(v=new ResizeObserver(e=>{let[r]=e;r&&r.target===m&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var e;null==(e=v)||e.observe(t)})),n()}),m&&!f&&v.observe(m),v.observe(t));let b=f?Q(e):null;return f&&function t(){let r=Q(e);b&&(r.x!==b.x||r.y!==b.y||r.width!==b.width||r.height!==b.height)&&n(),b=r,a=requestAnimationFrame(t)}(),n(),()=>{var e;p.forEach(e=>{s&&e.removeEventListener("scroll",n),u&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=v)||e.disconnect(),v=null,f&&cancelAnimationFrame(a)}}let ei=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;let{x:o,y:i,placement:a,middlewareData:l}=t,s=await S(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:a}}}}},ea=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:r,placement:a}=t,{mainAxis:l=!0,crossAxis:s=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=d(e,t),m={x:n,y:r},h=await C(t,c),v=g(f(a)),b=p(v),y=m[b],E=m[v];if(l){let e="y"===b?"top":"left",t="y"===b?"bottom":"right",n=y+h[e],r=y-h[t];y=i(n,o(y,r))}if(s){let e="y"===v?"top":"left",t="y"===v?"bottom":"right",n=E+h[e],r=E-h[t];E=i(n,o(E,r))}let x=u.fn({...t,[b]:y,[v]:E});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[b]:l,[v]:s}}}}}},el=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r,o,i,a;let{placement:l,middlewareData:s,rects:u,initialPlacement:c,platform:y,elements:E}=t,{mainAxis:x=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:R=!0,...k}=d(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};let M=f(l),N=g(c),O=f(c)===c,A=await (null==y.isRTL?void 0:y.isRTL(E.floating)),_=T||(O||!R?[b(c)]:function(e){let t=b(e);return[v(e),t,v(t)]}(c)),D="none"!==S;!T&&D&&_.push(...function(e,t,n,r){let o=m(e),i=function(e,t,n){let r=["left","right"],o=["right","left"];switch(e){case"top":case"bottom":if(n)return t?o:r;return t?r:o;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(f(e),"start"===n,r);return o&&(i=i.map(e=>e+"-"+o),t&&(i=i.concat(i.map(v)))),i}(c,R,S,A));let P=[c,..._],j=await C(t,k),L=[],B=(null==(r=s.flip)?void 0:r.overflows)||[];if(x&&L.push(j[M]),w){let e=function(e,t,n){void 0===n&&(n=!1);let r=m(e),o=p(g(e)),i=h(o),a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=b(a)),[a,b(a)]}(l,u,A);L.push(j[e[0]],j[e[1]])}if(B=[...B,{placement:l,overflows:L}],!L.every(e=>e<=0)){let e=((null==(o=s.flip)?void 0:o.index)||0)+1,t=P[e];if(t)return{data:{index:e,overflows:B},reset:{placement:t}};let n=null==(i=B.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!n)switch(I){case"bestFit":{let e=null==(a=B.filter(e=>{if(D){let t=g(e.placement);return t===N||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(n=e);break}case"initialPlacement":n=c}if(l!==n)return{reset:{placement:n}}}return{}}}},es=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;let a,l;let{placement:s,rects:u,platform:c,elements:p}=t,{apply:h=()=>{},...v}=d(e,t),b=await C(t,v),y=f(s),E=m(s),x="y"===g(s),{width:w,height:T}=u.floating;"top"===y||"bottom"===y?(a=y,l=E===(await (null==c.isRTL?void 0:c.isRTL(p.floating))?"start":"end")?"left":"right"):(l=y,a="end"===E?"top":"bottom");let I=T-b.top-b.bottom,S=w-b.left-b.right,R=o(T-b[a],I),k=o(w-b[l],S),M=!t.middlewareData.shift,N=R,O=k;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(O=S),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(N=I),M&&!E){let e=i(b.left,0),t=i(b.right,0),n=i(b.top,0),r=i(b.bottom,0);x?O=w-2*(0!==e||0!==t?e+t:i(b.left,b.right)):N=T-2*(0!==n||0!==r?n+r:i(b.top,b.bottom))}await h({...t,availableWidth:O,availableHeight:N});let A=await c.getDimensions(p.floating);return w!==A.width||T!==A.height?{reset:{rects:!0}}:{}}}},eu=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:n}=t,{strategy:r="referenceHidden",...o}=d(e,t);switch(r){case"referenceHidden":{let e=T(await C(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:I(e)}}}case"escaped":{let e=T(await C(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:I(e)}}}default:return{}}}}},ec=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:r,placement:a,rects:l,platform:s,elements:u,middlewareData:c}=t,{element:f,padding:v=0}=d(e,t)||{};if(null==f)return{};let b=y(v),E={x:n,y:r},x=p(g(a)),w=h(x),C=await s.getDimensions(f),T="y"===x,I=T?"clientHeight":"clientWidth",S=l.reference[w]+l.reference[x]-E[x]-l.floating[w],R=E[x]-l.reference[x],k=await (null==s.getOffsetParent?void 0:s.getOffsetParent(f)),M=k?k[I]:0;M&&await (null==s.isElement?void 0:s.isElement(k))||(M=u.floating[I]||l.floating[w]);let N=M/2-C[w]/2-1,O=o(b[T?"top":"left"],N),A=o(b[T?"bottom":"right"],N),_=M-C[w]-A,D=M/2-C[w]/2+(S/2-R/2),P=i(O,o(D,_)),j=!c.arrow&&null!=m(a)&&D!==P&&l.reference[w]/2-(D<O?O:A)-C[w]/2<0,L=j?D<O?D-O:D-_:0;return{[x]:E[x]+L,data:{[x]:P,centerOffset:D-P-L,...j&&{alignmentOffset:L}},reset:j}}}),ed=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:s=!0,crossAxis:u=!0}=d(e,t),c={x:n,y:r},m=g(o),h=p(m),v=c[h],b=c[m],y=d(l,t),E="number"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(s){let e="y"===h?"height":"width",t=i.reference[h]-i.floating[e]+E.mainAxis,n=i.reference[h]+i.reference[e]-E.mainAxis;v<t?v=t:v>n&&(v=n)}if(u){var x,w;let e="y"===h?"width":"height",t=["top","left"].includes(f(o)),n=i.reference[m]-i.floating[e]+(t&&(null==(x=a.offset)?void 0:x[m])||0)+(t?0:E.crossAxis),r=i.reference[m]+i.reference[e]+(t?0:(null==(w=a.offset)?void 0:w[m])||0)-(t?E.crossAxis:0);b<n?b=n:b>r&&(b=r)}return{[h]:v,[m]:b}}}},ef=(e,t,n)=>{let r=new Map,o={platform:er,...n},i={...o.platform,_c:r};return w(e,t,{...o,platform:i})}},7859:function(e,t,n){"use strict";n.d(t,{Cp:function(){return b},RR:function(){return g},YF:function(){return d},cv:function(){return m},dp:function(){return v},dr:function(){return h},uY:function(){return p},x7:function(){return y}});var r=n(32),o=n(2265),i=n(4887),a="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function l(e,t){let n,r,o;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!l(e[r],t[r]))return!1;return!0}if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!({}).hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){let n=o[r];if(("_owner"!==n||!e.$$typeof)&&!l(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function s(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u(e,t){let n=s(e);return Math.round(t*n)/n}function c(e){let t=o.useRef(e);return a(()=>{t.current=e}),t}function d(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:d=[],platform:f,elements:{reference:m,floating:p}={},transform:h=!0,whileElementsMounted:g,open:v}=e,[b,y]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,x]=o.useState(d);l(E,d)||x(d);let[w,C]=o.useState(null),[T,I]=o.useState(null),S=o.useCallback(e=>{e!==N.current&&(N.current=e,C(e))},[]),R=o.useCallback(e=>{e!==O.current&&(O.current=e,I(e))},[]),k=m||w,M=p||T,N=o.useRef(null),O=o.useRef(null),A=o.useRef(b),_=null!=g,D=c(g),P=c(f),j=c(v),L=o.useCallback(()=>{if(!N.current||!O.current)return;let e={placement:t,strategy:n,middleware:E};P.current&&(e.platform=P.current),(0,r.oo)(N.current,O.current,e).then(e=>{let t={...e,isPositioned:!1!==j.current};B.current&&!l(A.current,t)&&(A.current=t,i.flushSync(()=>{y(t)}))})},[E,t,n,P,j]);a(()=>{!1===v&&A.current.isPositioned&&(A.current.isPositioned=!1,y(e=>({...e,isPositioned:!1})))},[v]);let B=o.useRef(!1);a(()=>(B.current=!0,()=>{B.current=!1}),[]),a(()=>{if(k&&(N.current=k),M&&(O.current=M),k&&M){if(D.current)return D.current(k,M,L);L()}},[k,M,L,D,_]);let F=o.useMemo(()=>({reference:N,floating:O,setReference:S,setFloating:R}),[S,R]),z=o.useMemo(()=>({reference:k,floating:M}),[k,M]),H=o.useMemo(()=>{let e={position:n,left:0,top:0};if(!z.floating)return e;let t=u(z.floating,b.x),r=u(z.floating,b.y);return h?{...e,transform:"translate("+t+"px, "+r+"px)",...s(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,h,z.floating,b.x,b.y]);return o.useMemo(()=>({...b,update:L,refs:F,elements:z,floatingStyles:H}),[b,L,F,z,H])}let f=e=>({name:"arrow",options:e,fn(t){let{element:n,padding:o}="function"==typeof e?e(t):e;return n&&({}).hasOwnProperty.call(n,"current")?null!=n.current?(0,r.x7)({element:n.current,padding:o}).fn(t):{}:n?(0,r.x7)({element:n,padding:o}).fn(t):{}}}),m=(e,t)=>({...(0,r.cv)(e),options:[e,t]}),p=(e,t)=>({...(0,r.uY)(e),options:[e,t]}),h=(e,t)=>({...(0,r.dr)(e),options:[e,t]}),g=(e,t)=>({...(0,r.RR)(e),options:[e,t]}),v=(e,t)=>({...(0,r.dp)(e),options:[e,t]}),b=(e,t)=>({...(0,r.Cp)(e),options:[e,t]}),y=(e,t)=>({...f(e),options:[e,t]})},4954:function(e,t,n){"use strict";let r;n.d(t,{sv:function(){return J},tI:function(){return W},mm:function(){return Z},F4:function(){return U},av:function(){return $}});var o=n(1627),i=n(9987),a=n(2265),l=n(5164),s=n(3326),u=n(854),c=n(3797);function d(e){return a.createElement(c.JO,{...e},a.createElement("path",{d:"m11.784 5.797-6.13 6.138a4 4 0 0 0-1.03 1.775L4 16l2.285-.624a4 4 0 0 0 1.776-1.032l6.145-6.152m-2.422-2.395 1.244-1.246c.608-.608 1.826-.81 2.53-.104.7.7.499 1.893-.122 2.515l-1.23 1.23m-2.422-2.395 2.422 2.395"}))}var f=n(7172);function m(e){return a.createElement(c.JO,{...e},a.createElement("path",{d:"M11 3.07A7 7 0 1 0 16.93 9"}),a.createElement("path",{d:"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h0"}),a.createElement("path",{d:"M12 8h0"}),a.createElement("path",{d:"M13 5h4m-2-2v4"}),a.createElement("circle",{cx:"8",cy:"8",r:".25"}),a.createElement("circle",{cx:"12",cy:"8",r:".25"}))}var p=n(6345),h=n(1843),g=n(1399),v=n(7412),b=n(1212),y=n(8984),E=n(1643),x=n(8536),w=n(463);let C=new WeakMap;function T(e){C.delete(e),r?.unobserve(e)}var I=n(2558);function S(e){return window.addEventListener("blur",e),window.addEventListener("focus",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",e)}}function R(){return document.hasFocus()}function k(){return!0}var M=n(1227),N=n(5329),O=n(863),A=n(8608),_=n(8285),D=n(4710),P=n(7547),j=n(8343),L=n(486),B=n(2096),F=n(1677),z=n(7312),H=n(521);function W(e){let{userId:t,className:n,...r}=e,o=(0,b.d)();return a.createElement(h.pf,{className:(0,E.A)("lb-comment-mention",n),"data-self":t===o?"":void 0,...r},y.$S,a.createElement(B.n,{userId:t}))}function V(e){let{href:t,children:n,className:r,...o}=e;return a.createElement(h.rU,{className:(0,E.A)("lb-comment-link",r),href:t,...o},n)}function U(e){let{href:t,children:n,className:r,...o}=e;return a.createElement("span",{className:(0,E.A)("lb-comment-link",r),...o},n)}let Y=(0,a.forwardRef)((e,t)=>{let{reaction:n,overrides:r,className:o,...i}=e,l=(0,p.QG)(r);return a.createElement(A.z,{className:(0,E.A)("lb-comment-reaction",o),variant:"outline","aria-label":l.COMMENT_REACTION_DESCRIPTION(n.emoji,n.users.length),...i,ref:t},a.createElement(D.d,{className:"lb-comment-reaction-emoji",emoji:n.emoji}),a.createElement("span",{className:"lb-comment-reaction-count"},n.users.length))}),K=(0,a.forwardRef)((e,t)=>{let{comment:n,reaction:r,overrides:l,disabled:s,...u}=e,c=(0,o.Bc)(),d=(0,o.QU)(),f=(0,b.d)(),m=(0,a.useMemo)(()=>r.users.some(e=>e.id===f),[f,r]),h=(0,p.QG)(l),g=(0,a.useMemo)(()=>a.createElement("span",null,h.COMMENT_REACTION_LIST(a.createElement(j.a,{values:r.users.map(e=>a.createElement(B.n,{key:e.id,userId:e.id,replaceSelf:!0})),formatRemaining:h.LIST_REMAINING_USERS,truncate:5,locale:h.locale}),r.emoji,r.users.length)),[h,r]),v=(0,a.useCallback)(e=>{e.stopPropagation()},[]),y=(0,a.useCallback)(e=>{e?c({threadId:n.threadId,commentId:n.id,emoji:r.emoji}):d({threadId:n.threadId,commentId:n.id,emoji:r.emoji})},[c,n.threadId,n.id,r.emoji,d]);return a.createElement(L.u,{content:g,multiline:!0,className:"lb-comment-reaction-tooltip"},a.createElement(i.f,{asChild:!0,pressed:m,onPressedChange:y,onClick:v,disabled:s,ref:t},a.createElement(Y,{"data-self":m?"":void 0,reaction:r,overrides:l,...u})))}),$=(0,a.forwardRef)((e,t)=>{let{reaction:n,overrides:r,...o}=e,i=(0,b.d)(),l=(0,a.useMemo)(()=>n.users.some(e=>e.id===i),[i,n]);return a.createElement(Y,{disableable:!1,"data-self":l?"":void 0,reaction:n,overrides:r,...o,ref:t})});function G(e){let{attachment:t,url:n}=e;"application/pdf"===t.mimeType||t.mimeType.startsWith("image/")||t.mimeType.startsWith("video/")||t.mimeType.startsWith("audio/")?window.open(n,"_blank"):function(e,t){let n=document.createElement("a");n.href=e,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(n,t.name)}function q(e){let{attachment:t,onAttachmentClick:n,className:r,overrides:i,...l}=e,{url:s}=(0,o.d3)(t.id),u=(0,a.useCallback)(e=>{if(!s)return;let r={attachment:t,url:s};null==n||n(r,e),e.isDefaultPrevented()||G(r)},[t,n,s]);return a.createElement(N.Et,{className:(0,E.A)("lb-comment-attachment",r),...l,attachment:t,overrides:i,onClick:s?u:void 0})}function Q(e){let{attachment:t,onAttachmentClick:n,className:r,overrides:i,...l}=e,{url:s}=(0,o.d3)(t.id),u=(0,a.useCallback)(e=>{if(!s)return;let r={attachment:t,url:s};null==n||n(r,e),e.isDefaultPrevented()||G(r)},[t,n,s]);return a.createElement(N.QC,{className:(0,E.A)("lb-comment-attachment",r),...l,attachment:t,overrides:i,onClick:s?u:void 0})}function Z(e){let{className:t,...n}=e;return a.createElement(N.QC,{className:(0,E.A)("lb-comment-attachment",t),...n})}function X(e){let{threadId:t,commentRef:n}=e,i=(0,o.J6)();return!function(e,t,n){let o=n?.enabled??!0,i=(0,w.d)(t);(0,a.useEffect)(()=>{let t=e.current;if(t){if(o){var n;n=e=>{e.isIntersecting&&i.current()},r||(r=new IntersectionObserver(e=>{for(let t of e){let e=C.get(t.target);e?.(t)}})),C.set(t,n),r.observe(t)}else T(t);return()=>{T(t)}}},[o])}(n,()=>{i(t)},{enabled:(0,I.useSyncExternalStore)(S,R,k)}),null}let J=(0,a.forwardRef)((e,t)=>{let{comment:n,indentContent:r=!0,showDeleted:i,showActions:c="hover",showReactions:y=!0,showAttachments:w=!0,onAuthorClick:C,onMentionClick:T,onAttachmentClick:I,onCommentEdit:S,onCommentDelete:R,overrides:k,className:D,additionalActions:j,additionalActionsClassName:U,autoMarkReadThreadId:Y,...$}=e,G=!!(0,a.useContext)(o.BU),Z=(0,a.useRef)(null),J=(0,x.v)(t,Z),ee=(0,b.d)(),et=(0,o.X0)(),en=(0,o.us)(),er=(0,o.Bc)(),eo=(0,o.QU)(),ei=(0,p.QG)(k),[ea,el]=(0,a.useState)(!1),[es,eu]=(0,a.useState)(!1),[ec,ed]=(0,a.useState)(!1),[ef,em]=(0,a.useState)(!1),{mediaAttachments:ep,fileAttachments:eh}=(0,a.useMemo)(()=>(0,N.Ev)(n.attachments),[n.attachments]),eg=(0,a.useCallback)(e=>{e.stopPropagation()},[]),ev=(0,a.useCallback)(()=>{el(!0)},[]),eb=(0,a.useCallback)(e=>{e.stopPropagation(),el(!1)},[]),ey=(0,a.useCallback)((e,t)=>{let{body:r,attachments:o}=e;null==S||S(n),t.preventDefault(),el(!1),en({commentId:n.id,threadId:n.threadId,body:r,attachments:o})},[n,en,S]),eE=(0,a.useCallback)(()=>{null==R||R(n),et({commentId:n.id,threadId:n.threadId})},[n,et,R]),ex=(0,a.useCallback)(e=>{null==C||C(n.userId,e)},[n.userId,C]),ew=(0,a.useCallback)(e=>{let t=n.reactions.findIndex(t=>t.emoji===e);t>=0&&ee&&n.reactions[t].users.some(e=>e.id===ee)?eo({threadId:n.threadId,commentId:n.id,emoji:e}):er({threadId:n.threadId,commentId:n.id,emoji:e})},[er,n.id,n.reactions,n.threadId,eo,ee]);return((0,a.useEffect)(()=>{"undefined"!=typeof window&&window.location.hash.slice(1)===n.id&&eu(!0)},[]),i||n.body)?a.createElement(F.pn,null,G&&Y&&a.createElement(X,{commentRef:Z,threadId:Y}),a.createElement("div",{id:n.id,className:(0,E.A)("lb-root lb-comment",r&&"lb-comment:indent-content","hover"===c&&"lb-comment:show-actions-hover",(ec||ef)&&"lb-comment:action-open",D),"data-deleted":n.body?void 0:"","data-editing":ea?"":void 0,"data-target":es?"":void 0,dir:ei.dir,...$,ref:J},a.createElement("div",{className:"lb-comment-header"},a.createElement("div",{className:"lb-comment-details"},a.createElement(O.q,{className:"lb-comment-avatar",userId:n.userId,onClick:ex}),a.createElement("span",{className:"lb-comment-details-labels"},a.createElement(B.n,{className:"lb-comment-author",userId:n.userId,onClick:ex}),a.createElement("span",{className:"lb-comment-date"},a.createElement(v.E,{locale:ei.locale,date:n.createdAt,className:"lb-date lb-comment-date-created"}),n.editedAt&&n.body&&a.createElement(a.Fragment,null," ",a.createElement("span",{className:"lb-comment-date-edited"},ei.COMMENT_EDITED))))),c&&!ea&&a.createElement("div",{className:(0,E.A)("lb-comment-actions",U)},null!=j?j:null,y&&a.createElement(P.h,{onEmojiSelect:ew,onOpenChange:em},a.createElement(L.u,{content:ei.COMMENT_ADD_REACTION},a.createElement(z.xo,{asChild:!0},a.createElement(A.z,{className:"lb-comment-action",onClick:eg,"aria-label":ei.COMMENT_ADD_REACTION},a.createElement(m,{className:"lb-button-icon"}))))),n.userId===ee&&a.createElement(_.Lt,{open:ec,onOpenChange:ed,align:"end",content:a.createElement(a.Fragment,null,a.createElement(_.hP,{onSelect:ev,onClick:eg},a.createElement(d,{className:"lb-dropdown-item-icon"}),ei.COMMENT_EDIT),a.createElement(_.hP,{onSelect:eE,onClick:eg},a.createElement(u.p,{className:"lb-dropdown-item-icon"}),ei.COMMENT_DELETE))},a.createElement(L.u,{content:ei.COMMENT_MORE},a.createElement(H.$F,{asChild:!0},a.createElement(A.z,{className:"lb-comment-action",disabled:!n.body,onClick:eg,"aria-label":ei.COMMENT_MORE},a.createElement(f.w,{className:"lb-button-icon"}))))))),a.createElement("div",{className:"lb-comment-content"},ea?a.createElement(M.a,{className:"lb-comment-composer",onComposerSubmit:ey,defaultValue:n.body,defaultAttachments:n.attachments,autoFocus:!0,showAttribution:!1,showAttachments:w,actions:a.createElement(a.Fragment,null,a.createElement(L.u,{content:ei.COMMENT_EDIT_COMPOSER_CANCEL,"aria-label":ei.COMMENT_EDIT_COMPOSER_CANCEL},a.createElement(A.z,{className:"lb-composer-action",onClick:eb},a.createElement(s.a,{className:"lb-button-icon"}))),a.createElement(L.mK,{content:ei.COMMENT_EDIT_COMPOSER_SAVE,shortcut:a.createElement(L.vw,{name:"enter"})},a.createElement(g.k4,{asChild:!0},a.createElement(A.z,{variant:"primary",className:"lb-composer-action",onClick:eg,"aria-label":ei.COMMENT_EDIT_COMPOSER_SAVE},a.createElement(l.n,{className:"lb-button-icon"}))))),overrides:{COMPOSER_PLACEHOLDER:ei.COMMENT_EDIT_COMPOSER_PLACEHOLDER}}):n.body?a.createElement(a.Fragment,null,a.createElement(h.uT,{className:"lb-comment-body",body:n.body,components:{Mention:e=>{let{userId:t}=e;return a.createElement(W,{userId:t,onClick:e=>null==T?void 0:T(t,e)})},Link:V}}),w&&(ep.length>0||eh.length>0)?a.createElement("div",{className:"lb-comment-attachments"},ep.length>0?a.createElement("div",{className:"lb-attachments"},ep.map(e=>a.createElement(q,{key:e.id,attachment:e,overrides:k,onAttachmentClick:I}))):null,eh.length>0?a.createElement("div",{className:"lb-attachments"},eh.map(e=>a.createElement(Q,{key:e.id,attachment:e,overrides:k,onAttachmentClick:I}))):null):null,y&&n.reactions.length>0&&a.createElement("div",{className:"lb-comment-reactions"},n.reactions.map(e=>a.createElement(K,{key:e.emoji,comment:n,reaction:e,overrides:k})),a.createElement(P.h,{onEmojiSelect:ew},a.createElement(L.u,{content:ei.COMMENT_ADD_REACTION},a.createElement(z.xo,{asChild:!0},a.createElement(A.z,{className:"lb-comment-reaction lb-comment-reaction-add",variant:"outline",onClick:eg,"aria-label":ei.COMMENT_ADD_REACTION},a.createElement(m,{className:"lb-button-icon"}))))))):a.createElement("div",{className:"lb-comment-body"},a.createElement("p",{className:"lb-comment-deleted"},ei.COMMENT_DELETED))))):null})},1227:function(e,t,n){"use strict";n.d(t,{a:function(){return D}});var r=n(416),o=n(1627),i=n(2265),a=n(3797);function l(e){return i.createElement(a.JO,{...e},i.createElement("path",{d:"m14.077 11.737-3.723 3.62c-1.55 1.507-4.128 1.507-5.678 0-1.543-1.5-1.543-4.02 0-5.52l5.731-5.573c1.034-1.006 2.754-1.007 3.789-.003 1.03 1 1.032 2.682.003 3.684l-5.744 5.572a1.377 1.377 0 0 1-1.893 0 1.283 1.283 0 0 1-.392-.92c0-.345.14-.676.392-.92L10.348 8"}))}function s(e){return i.createElement(a.JO,{...e},i.createElement("path",{d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Z"}),i.createElement("path",{d:"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h.007"}),i.createElement("path",{d:"M12 8h.007"}),i.createElement("circle",{cx:8,cy:8,r:.25}),i.createElement("circle",{cx:12,cy:8,r:.25}))}function u(e){return i.createElement(a.JO,{...e},i.createElement("path",{d:"M10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),i.createElement("path",{d:"M13 7v3.7c0 1.105.855 2.1 1.9 2.1a2.12 2.12 0 0 0 2.1-2.1V10a7 7 0 1 0-2.8 5.6"}))}function c(e){return i.createElement(a.JO,{...e},i.createElement("path",{d:"m5 16 12-6L5 4l2 6-2 6ZM7 10h10"}))}var d=n(6345),f=n(1399),m=n(8264),p=n(9573),h=n(8984),g=n(1643),v=n(9731),b=n(5329);function y({className:e,...t}){return i.createElement("a",{href:"https://liveblocks.io",target:"_blank",rel:"noopener noreferrer",className:(0,g.A)("lb-composer-attribution",e),...t},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 72","aria-label":"Made with Liveblocks"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 10h-8v50h8V10Zm16 14h-8v36h8V24Zm0-15h-8v9h8V9Zm13 15h-9l12 36h10l13-36h-9l-9 28-8-28Zm44-1c-11 0-18 8-18 19s7 19 18 19c8 0 15-4 17-13h-8c-1 4-5 6-9 6-6 0-9-3-9-10h27c0-10-6-21-18-21Zm0 7c5 0 9 3 9 8h-18c0-5 4-8 9-8Zm42-7c-4 0-8 2-11 6V10h-8v50h8v-5c3 4 7 6 11 6 11 0 16-9 16-19s-5-19-16-19Zm-2 32c-7 0-9-7-9-13s2-13 9-13 9 7 9 13-2 13-9 13Zm32-45h-8v50h8V10Zm24 51c11 0 18-8 18-19s-8-19-18-19c-11 0-19 8-19 19s7 19 19 19Zm0-6c-8 0-10-7-10-13s2-13 10-13c7 0 9 7 9 13s-2 13-9 13Zm39 6c8 0 15-4 17-12l-8-1c-2 4-4 6-9 6-7 0-9-6-9-12s2-12 9-12c5 0 8 3 8 7l9-1c-2-8-9-13-17-13-11 0-18 9-18 19 0 11 7 19 18 19Zm30-14 4-4 10 17h10l-15-23 15-13h-11l-13 13V10h-9v50h9V47Zm39 14c8 0 16-3 16-12 0-8-8-10-15-11-2-1-7-1-7-5 0-3 3-4 6-4 4 0 7 3 7 7l8-1c-1-9-8-12-15-12s-15 3-15 11 9 10 15 11c3 1 8 2 8 5 0 4-4 5-7 5-5 0-8-3-9-7l-8 1c1 8 9 12 16 12ZM41 27H0l12 12v17l29-29ZM20 60h40L48 48V32L20 60Z",fill:"currentColor"})))}var E=n(863),x=n(8608),w=n(7547),C=n(486),T=n(2096),I=n(1677),S=n(7312);function R(e){let{label:t,tooltipLabel:n,className:r,onClick:o,...a}=e,{createMention:l}=(0,m.xc)(),s=(0,i.useCallback)(e=>{e.preventDefault()},[]),c=(0,i.useCallback)(e=>{null==o||o(e),e.isDefaultPrevented()||(e.stopPropagation(),l())},[l,o]);return i.createElement(C.u,{content:null!=n?n:t},i.createElement(x.z,{className:(0,g.A)("lb-composer-editor-action",r),onMouseDown:s,onClick:c,"aria-label":t,...a},i.createElement(u,{className:"lb-button-icon"})))}function k(e){let{label:t,tooltipLabel:n,onPickerOpenChange:r,className:o,...a}=e,{insertText:l}=(0,m.xc)(),u=(0,i.useCallback)(e=>{e.preventDefault()},[]),c=(0,i.useCallback)(e=>{e.stopPropagation()},[]);return i.createElement(w.h,{onEmojiSelect:l,onOpenChange:r},i.createElement(C.u,{content:null!=n?n:t},i.createElement(S.xo,{asChild:!0},i.createElement(x.z,{className:(0,g.A)("lb-composer-editor-action",o),onMouseDown:u,onClick:c,"aria-label":t,...a},i.createElement(s,{className:"lb-button-icon"})))))}function M(e){let{label:t,tooltipLabel:n,className:r,...o}=e,a=(0,i.useCallback)(e=>{e.preventDefault()},[]),s=(0,i.useCallback)(e=>{e.stopPropagation()},[]);return i.createElement(C.u,{content:null!=n?n:t},i.createElement(f.m5,{asChild:!0},i.createElement(x.z,{className:(0,g.A)("lb-composer-editor-action",r),onMouseDown:a,onClick:s,"aria-label":t,...o},i.createElement(l,{className:"lb-button-icon"}))))}function N(e){let{attachment:t,className:n,overrides:r,...o}=e,{removeAttachment:a}=(0,m.xc)(),l=(0,i.useCallback)(()=>{a(t.id)},[t.id,a]);return i.createElement(b.QC,{className:(0,g.A)("lb-composer-attachment",n),...o,attachment:t,onDeleteClick:l,preventFocusOnDelete:!0,overrides:r})}function O(e){let{overrides:t,className:n,...r}=e,{attachments:o}=(0,m.xc)();return 0===o.length?null:i.createElement("div",{className:(0,g.A)("lb-composer-attachments",n),...r},i.createElement("div",{className:"lb-attachments"},o.map(e=>i.createElement(N,{key:e.id,attachment:e,overrides:t}))))}let A={Mention:function(e){let{userId:t}=e;return i.createElement(f.pf,{className:"lb-composer-mention"},h.$S,i.createElement(T.n,{userId:t}))},MentionSuggestions:function(e){let{userIds:t}=e;return t.length>0?i.createElement(f.Db,{className:"lb-root lb-portal lb-elevation lb-composer-suggestions lb-composer-mention-suggestions"},i.createElement(f.Yi,{className:"lb-composer-suggestions-list lb-composer-mention-suggestions-list"},t.map(e=>i.createElement(f.m$,{key:e,className:"lb-composer-suggestions-list-item lb-composer-mention-suggestion",value:e},i.createElement(E.q,{userId:e,className:"lb-composer-mention-suggestion-avatar"}),i.createElement(T.n,{userId:e,className:"lb-composer-mention-suggestion-user"}))))):null},Link:function(e){let{href:t,children:n}=e;return i.createElement(f.rU,{href:t,className:"lb-composer-link"},n)}};function _(e){let{showAttachments:t=!0,showAttribution:n,defaultValue:r,isCollapsed:o,overrides:a,actions:s,autoFocus:u,hasResolveMentionSuggestions:h,onEmojiPickerOpenChange:g,onEmptyChange:b,onEditorClick:E}=e,{isEmpty:w}=(0,m.xc)(),{hasMaxAttachments:T}=(0,m.yr)(),I=(0,d.QG)(a),[S,N]=(0,p.KI)({disabled:T});(0,v.b)(()=>{b(w)},[w,b]);let _=(0,i.useCallback)(e=>{e.preventDefault()},[]),D=(0,i.useCallback)(e=>{e.stopPropagation()},[]);return i.createElement("div",{className:"lb-composer-editor-container",...N},i.createElement(f.ML,{className:"lb-composer-editor",onClick:E,placeholder:I.COMPOSER_PLACEHOLDER,defaultValue:r,autoFocus:u,components:A,dir:I.dir}),t&&i.createElement(O,{overrides:a}),(!o||S)&&i.createElement("div",{className:"lb-composer-footer"},i.createElement("div",{className:"lb-composer-editor-actions"},h&&i.createElement(R,{label:I.COMPOSER_INSERT_MENTION}),i.createElement(k,{label:I.COMPOSER_INSERT_EMOJI,onPickerOpenChange:g}),t&&i.createElement(M,{label:I.COMPOSER_ATTACH_FILES})),n&&i.createElement(y,null),i.createElement("div",{className:"lb-composer-actions"},null!=s?s:i.createElement(i.Fragment,null,i.createElement(C.mK,{content:I.COMPOSER_SEND,shortcut:i.createElement(C.vw,{name:"enter"})},i.createElement(f.k4,{asChild:!0},i.createElement(x.z,{onMouseDown:_,onClick:D,className:"lb-composer-action",variant:"primary","aria-label":I.COMPOSER_SEND},i.createElement(c,null))))))),t&&S&&i.createElement("div",{className:"lb-composer-attachments-drop-area"},i.createElement("div",{className:"lb-composer-attachments-drop-area-label"},i.createElement(l,null),I.COMPOSER_ATTACH_FILES)))}let D=(0,i.forwardRef)((e,t)=>{let{threadId:n,commentId:a,metadata:l,defaultValue:s,defaultAttachments:u,onComposerSubmit:c,collapsed:m,defaultCollapsed:p,onCollapsedChange:h,overrides:v,actions:b,onBlur:y,className:E,onFocus:x,autoFocus:w,disabled:C,showAttachments:T=!0,showAttribution:S,...R}=e,k=(0,o.m8)(),M=(0,o.LL)(),N=(0,o.bN)(),O=(0,o.us)(),A=void 0!==k[r.W_].resolveMentionSuggestions,D=(0,i.useRef)(!0),P=(0,i.useRef)(!1),j=(0,d.QG)(v),[L,B]=function(e,t,n){let[r,o]=(0,i.useState)(n),a=void 0!==e,l=(0,i.useRef)(a);return(0,i.useEffect)(()=>{l.current=a},[a]),[a?e:r,(0,i.useCallback)(e=>(a||o(e),t?.(e)),[a,t])]}((void 0!==m||void 0!==p)&&m,h,p),F=(0,i.useCallback)(e=>{D.current=e},[]),z=(0,i.useCallback)(e=>{P.current=e},[]),H=(0,i.useCallback)(e=>{null==x||x(e),!e.isDefaultPrevented()&&D.current&&(null==B||B(!1))},[B,x]),W=(0,i.useCallback)(e=>{var t;null==y||y(e),!e.isDefaultPrevented()&&(e.currentTarget.contains(null!==(t=e.relatedTarget)&&void 0!==t?t:document.activeElement)||!D.current||P.current||null==B||B(!0))},[y,B]),V=(0,i.useCallback)(e=>{e.stopPropagation(),D.current&&(null==B||B(!1))},[B]),U=(0,i.useCallback)((e,t)=>{null==c||c(e,t),t.isDefaultPrevented()||(a&&n?O({commentId:a,threadId:n,body:e.body,attachments:e.attachments}):n?N({threadId:n,body:e.body,attachments:e.attachments}):M({body:e.body,metadata:null!=l?l:{},attachments:e.attachments}))},[a,N,M,O,l,c,n]);return i.createElement(I.pn,null,i.createElement(f.l0,{onComposerSubmit:U,className:(0,g.A)("lb-root lb-composer lb-composer-form",E),dir:j.dir,...R,ref:t,"data-collapsed":L?"":void 0,onFocus:H,onBlur:W,disabled:C,defaultAttachments:u,pasteFilesAsAttachments:T},i.createElement(_,{defaultValue:s,actions:b,overrides:v,isCollapsed:L,showAttachments:T,showAttribution:S,hasResolveMentionSuggestions:A,onEmptyChange:F,onEmojiPickerOpenChange:z,onEditorClick:V,autoFocus:w})))})},5685:function(e,t,n){"use strict";n.d(t,{L:function(){return j}});var r=n(416),o=n(1627),i=n(7053),a=n(1677),l=n(2265);let s={Anchor:"a"},u=(0,l.createContext)(void 0);var c=n(5164),d=n(854),f=n(7172),m=n(6345),p=n(7412),h=n(1212),g=n(1643);let v="https://localhost:9999",b=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/;var y=n(863),E=n(8608),x=n(8285),w=n(1843),C=n(4954),T=n(2096);function I({comment:e,showHeader:t=!0,showAttachments:n=!0,showReactions:r=!0,overrides:o,className:i,...a}){let s=(0,m.QG)(o);return l.createElement("div",{className:(0,g.A)("lb-root lb-inbox-notification-comment lb-comment",i),...a},t&&l.createElement("div",{className:"lb-comment-header"},l.createElement(T.n,{className:"lb-comment-author",userId:e.userId})),l.createElement("div",{className:"lb-comment-content"},e.body?l.createElement(l.Fragment,null,l.createElement(w.uT,{className:"lb-comment-body",body:e.body,components:{Mention:C.tI,Link:C.F4}}),r&&e.reactions.length>0&&l.createElement("div",{className:"lb-comment-reactions"},e.reactions.map(e=>l.createElement(C.av,{key:e.emoji,reaction:e,overrides:o,disabled:!0}))),n&&e.attachments.length>0?l.createElement("div",{className:"lb-comment-attachments"},l.createElement("div",{className:"lb-attachments"},e.attachments.map(e=>l.createElement(C.mm,{key:e.id,attachment:e,overrides:o})))):null):l.createElement("div",{className:"lb-comment-body"},l.createElement("p",{className:"lb-comment-deleted"},s.COMMENT_DELETED))))}function S(e){return Array.from(new Set(e.map(e=>e.userId)))}var R=n(8343);function k(e){let{roomId:t,className:n,...r}=e,{info:i,isLoading:a}=(0,o.xS)(t),s=(0,l.useMemo)(()=>{var e;return null!==(e=null==i?void 0:i.name)&&void 0!==e?e:t},[null==i?void 0:i.name,t]);return l.createElement("span",{className:(0,g.A)("lb-name lb-room",n),"data-loading":a?"":void 0,...r},a?null:s)}var M=n(486),N=n(521);let O=(0,l.forwardRef)((e,t)=>{let{inboxNotification:n,children:r,aside:h,title:v,date:b,unread:y,markAsReadOnClick:w,onClick:C,href:T,showActions:I,overrides:S,components:R,className:k,asChild:O,...A}=e,_=(0,m.QG)(S),{Anchor:D}=function(e){let t=(0,l.useContext)(u);return(0,l.useMemo)(()=>({...s,...t,...e}),[t,e])}(R),P=O?i.g7:D,[j,L]=(0,l.useState)(!1),B=(0,o.WX)(),F=(0,o.gV)(),z=(0,l.useCallback)(e=>{null==C||C(e);let t=null!=w?w:!!T;y&&t&&B(n.id)},[T,n.id,w,B,C,y]),H=(0,l.useCallback)(e=>{e.stopPropagation()},[]),W=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),V=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),L(e=>!e)},[]),U=(0,l.useCallback)(()=>{B(n.id)},[n.id,B]),Y=(0,l.useCallback)(()=>{F(n.id)},[n.id,F]);return l.createElement(a.pn,null,l.createElement(P,{className:(0,g.A)("lb-root lb-inbox-notification","hover"===I&&"lb-inbox-notification:show-actions-hover",j&&"lb-inbox-notification:action-open",k),dir:_.dir,"data-unread":y?"":void 0,"data-kind":n.kind,onClick:z,href:T,...A,ref:t},h&&l.createElement("div",{className:"lb-inbox-notification-aside"},h),l.createElement("div",{className:"lb-inbox-notification-content"},l.createElement("div",{className:"lb-inbox-notification-header"},l.createElement("span",{className:"lb-inbox-notification-title"},v),l.createElement("div",{className:"lb-inbox-notification-details"},l.createElement("span",{className:"lb-inbox-notification-details-labels"},l.createElement(p.E,{locale:_.locale,date:b,className:"lb-date lb-inbox-notification-date"}),y&&l.createElement("span",{className:"lb-inbox-notification-unread-indicator",role:"presentation"}))),I&&l.createElement("div",{className:"lb-inbox-notification-actions"},l.createElement(x.Lt,{open:j,onOpenChange:L,align:"end",content:l.createElement(l.Fragment,null,y?l.createElement(x.hP,{onSelect:U,onClick:H},l.createElement(c.n,{className:"lb-dropdown-item-icon"}),_.INBOX_NOTIFICATION_MARK_AS_READ):null,l.createElement(x.hP,{onSelect:Y,onClick:H},l.createElement(d.p,{className:"lb-dropdown-item-icon"}),_.INBOX_NOTIFICATION_DELETE))},l.createElement(M.u,{content:_.INBOX_NOTIFICATION_MORE},l.createElement(N.$F,{asChild:!0},l.createElement(E.z,{className:"lb-inbox-notification-action",onClick:V,onPointerDown:W,onPointerUp:W,"aria-label":_.INBOX_NOTIFICATION_MORE},l.createElement(f.w,{className:"lb-button-icon"}))))))),l.createElement("div",{className:"lb-inbox-notification-body"},r))))});function A(e){let{className:t,...n}=e;return l.createElement(y.q,{className:(0,g.A)("lb-inbox-notification-avatar",t),...n})}let _=(0,l.forwardRef)((e,t)=>{let{inboxNotification:n,href:i,showRoomName:a=!0,showReactions:s=!0,showAttachments:u=!0,showActions:c="hover",overrides:d,...f}=e,p=(0,m.QG)(d),g=(0,o.k9)(n.id),y=(0,h.d)(),{info:E}=(0,o.xS)(n.roomId),{unread:x,date:w,aside:C,title:M,content:N,commentId:_}=(0,l.useMemo)(()=>{let e=function(e,t,n){let o=t.comments.filter(t=>!!t.body&&(e.readAt?t.createdAt>e.readAt&&t.createdAt<=e.notifiedAt:t.createdAt<=e.notifiedAt));if(0===o.length){let n=t.comments.filter(e=>e.body).slice(-3);return{type:"comments",unread:!1,comments:n,userIds:S(n),date:e.notifiedAt}}let i=function(e,t){for(let n=e.length-1;n>=0;n--){let o=e[n];if(o.userId!==t&&o.body&&(0,r.wn)(o.body).includes(t))return o}}(o,n);return i?{type:"mention",unread:!0,comments:[i],userIds:[i.userId],date:i.createdAt}:{type:"comments",unread:!0,comments:o.slice(-3),userIds:S(o),date:e.notifiedAt}}(n,g,null!=y?y:"");switch(e.type){case"comments":{let t=[...e.userIds].reverse(),n=t[0],r=l.createElement(A,{userId:n}),o=p.INBOX_NOTIFICATION_THREAD_COMMENTS_LIST(l.createElement(R.a,{values:t.map(e=>l.createElement(T.n,{key:e,userId:e,replaceSelf:!0})),formatRemaining:p.LIST_REMAINING_USERS,truncate:2,locale:p.locale}),a?l.createElement(k,{roomId:g.roomId}):void 0,t.length),i=l.createElement("div",{className:"lb-inbox-notification-comments"},e.comments.map(t=>l.createElement(I,{key:t.id,comment:t,showHeader:e.comments.length>1,showAttachments:u,showReactions:s,overrides:d})));return{unread:e.unread,date:e.date,aside:r,title:o,content:i,threadId:g.id,commentId:e.comments[e.comments.length-1].id}}case"mention":{let t=e.userIds[0],n=e.comments[0],r=l.createElement(A,{userId:t}),o=p.INBOX_NOTIFICATION_THREAD_MENTION(l.createElement(T.n,{key:t,userId:t}),a?l.createElement(k,{roomId:g.roomId}):void 0),i=l.createElement("div",{className:"lb-inbox-notification-comments"},l.createElement(I,{key:n.id,comment:n,showHeader:!1,showAttachments:u,showReactions:s,overrides:d}));return{unread:e.unread,date:e.date,aside:r,title:o,content:i,threadId:g.id,commentId:n.id}}default:return(0,r.vE)(e,"Unexpected thread inbox notification type")}},[p,y,n,d,a,u,s,g]),D=(0,l.useMemo)(()=>{let e=null!=i?i:null==E?void 0:E.url;return e?function(e,t,n){let r=b.test(e),o=new URL(e,r?void 0:v);if(void 0!==t)for(let[e,n]of Object.entries(t))n&&o.searchParams.set(e,String(n));return o.hash||void 0===n||(o.hash=`#${n}`),r?o.href:o.href.replace(v,"")}(e,void 0,_):void 0},[_,i,null==E?void 0:E.url]);return l.createElement(O,{inboxNotification:n,aside:C,title:M,date:w,unread:x,overrides:d,href:D,showActions:c,markAsReadOnClick:!1,...f,ref:t},N)}),D=(0,l.forwardRef)((e,t)=>{let{inboxNotification:n,showActions:r="hover",showRoomName:o=!0,overrides:i,...a}=e,s=(0,m.QG)(i),u=(0,l.useMemo)(()=>!n.readAt||n.notifiedAt>n.readAt,[n.notifiedAt,n.readAt]);return l.createElement(O,{inboxNotification:n,aside:l.createElement(A,{userId:n.createdBy}),title:s.INBOX_NOTIFICATION_TEXT_MENTION(l.createElement(T.n,{key:n.createdBy,userId:n.createdBy}),o?l.createElement(k,{roomId:n.roomId}):void 0),date:n.notifiedAt,unread:u,overrides:i,showActions:r,...a,ref:t})}),P=(0,l.forwardRef)((e,t)=>{let{inboxNotification:n,showActions:r="hover",title:o,aside:i,children:a,overrides:s,...u}=e,c=(0,l.useMemo)(()=>!n.readAt||n.notifiedAt>n.readAt,[n.notifiedAt,n.readAt]);return l.createElement(O,{inboxNotification:n,aside:i,title:o,date:n.notifiedAt,unread:c,overrides:s,showActions:r,...u,ref:t},a)}),j=Object.assign((0,l.forwardRef)((e,t)=>{var n,r;let{inboxNotification:o,kinds:i,...a}=e;switch(o.kind){case"thread":{let e=null!==(n=null==i?void 0:i.thread)&&void 0!==n?n:_;return l.createElement(e,{inboxNotification:o,...a,ref:t})}case"textMention":{let e=null!==(r=null==i?void 0:i.textMention)&&void 0!==r?r:D;return l.createElement(e,{inboxNotification:o,...a,ref:t})}default:{let e=null==i?void 0:i[o.kind];if(!e)return null;return l.createElement(e,{inboxNotification:o,...a,ref:t})}}}),{Thread:_,TextMention:D,Custom:P,Icon:function(e){let{className:t,...n}=e;return l.createElement("div",{className:(0,g.A)("lb-inbox-notification-icon",t),...n})},Avatar:A})},1712:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2265),o=n(1643);let i=(0,r.forwardRef)((e,t)=>{let{children:n,className:i,...a}=e;return r.createElement("ol",{className:(0,o.A)("lb-root lb-inbox-notification-list",i),...a,ref:t},r.Children.map(n,(e,t)=>r.createElement("li",{key:t,className:"lb-inbox-notification-list-item"},e)))})},5329:function(e,t,n){"use strict";n.d(t,{QC:function(){return S},Et:function(){return I},Ev:function(){return R}});var r=n(1627),o=n(2265),i=n(3326),a=n(3234),l=n(3797);function s(e){return o.createElement(l.JO,{...e},o.createElement("path",{d:"m3.794 13.526 5.326-9.89a1 1 0 0 1 1.76 0l5.326 9.89a1 1 0 0 1-.88 1.474H4.674a1 1 0 0 1-.88-1.474ZM10 7.5v2m0 2.5h.007"}),o.createElement("circle",{cx:10,cy:12,r:.25}))}var u=n(6345),c=n(8264),d=n(9573),f=n(1643),m=n(2133);let p=["B","KB","MB","GB"];function h(e,t){let n;if(0===e)return`0 ${p[1]}`;n=0===e?1:Math.max(1,Math.min(Math.floor(Math.log(Math.abs(e))/Math.log(1e3)),p.length-1));let r=e/1e3**n,o=1;1===n&&(r>=10&&(o=0),r<.1&&r>0&&(o=2),r<.01&&(r=.01));let i=p[n],a=(0,m.Y4)(t,{minimumFractionDigits:0,maximumFractionDigits:o}).format(r);return`${a} ${i}`}var g=n(486);let v=/^(.+?)(\.[^.]+)?$/,b=(0,o.memo)(e=>{let{mimeType:t}=e,n=(0,o.useMemo)(()=>"application/zip"===t||"application/gzip"===t||"application/vnd.rar"===t||"application/x-rar-compressed"===t||"application/x-7z-compressed"===t||"application/x-zip-compressed"===t||"application/x-tar"===t||"application/x-bzip"===t||"application/x-bzip2"===t?o.createElement("path",{d:"M13 15h2v1h-1.5a.5.5 0 0 0 0 1H15v1h-1.5a.5.5 0 0 0 0 1H15v1h-1.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .5-.5V20h1.5a.5.5 0 0 0 0-1H15v-1h1.5a.5.5 0 0 0 0-1H15v-1h1.5a.5.5 0 0 0 .5-.5V15a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2Z"}):t.startsWith("text/")||t.startsWith("font/")||t.startsWith("application/")?o.createElement("path",{d:"M10 16a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Z"}):t.startsWith("image/")?o.createElement("path",{d:"M12 16h6a1 1 0 0 1 1 1v3l-1.293-1.293a1 1 0 0 0-1.414 0L14.09 20.91l-.464-.386a1 1 0 0 0-1.265-.013l-1.231.985A.995.995 0 0 1 11 21v-4a1 1 0 0 1 1-1Zm-2 1a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-4Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}):t.startsWith("video/")?o.createElement("path",{d:"M12 15.71a1 1 0 0 1 1.49-.872l4.96 2.79a1 1 0 0 1 0 1.744l-4.96 2.79A1 1 0 0 1 12 21.29v-5.58Z"}):t.startsWith("audio/")?o.createElement("path",{d:"M15 15a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 1 0v-7a.5.5 0 0 0-.5-.5Zm-2.5 2.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-1 0v-3Zm-2 1a.5.5 0 0 1 1 0v1a.5.5 0 0 1-1 0v-1Zm6-1a.5.5 0 0 1 1 0v3a.5.5 0 0 1-1 0v-3ZM19 16a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5Z"}):null,[t]);return o.createElement("svg",{className:"lb-attachment-icon",width:30,height:30,viewBox:"0 0 30 30",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M6 5a2 2 0 0 1 2-2h5.843a4 4 0 0 1 2.829 1.172l6.156 6.156A4 4 0 0 1 24 13.157V25a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V5Z",className:"lb-attachment-icon-shadow"}),o.createElement("path",{d:"M6 5a2 2 0 0 1 2-2h5.843a4 4 0 0 1 2.829 1.172l6.156 6.156A4 4 0 0 1 24 13.157V25a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V5Z",className:"lb-attachment-icon-background"}),o.createElement("path",{d:"M14.382 3.037a4 4 0 0 1 2.29 1.135l6.156 6.157a4 4 0 0 1 1.136 2.289A2 2 0 0 0 22 11h-4a2 2 0 0 1-2-2V5a2 2 0 0 0-1.618-1.963Z",className:"lb-attachment-icon-fold"}),n&&o.createElement("g",{className:"lb-attachment-icon-glyph"},n))});function y(e){let{attachment:t}=e,{url:n}=(0,r.d3)(t.id),[i,l]=(0,o.useState)(!1),s=(0,o.useCallback)(()=>{l(!0)},[]);return o.createElement(o.Fragment,null,i?null:o.createElement(a.L,null),n?o.createElement("div",{className:"lb-attachment-preview-media","data-hidden":i?void 0:""},o.createElement("img",{src:n,loading:"lazy",onLoad:s})):null)}function E(e){let{attachment:t}=e,{url:n}=(0,r.d3)(t.id),[i,l]=(0,o.useState)(!1),s=(0,o.useCallback)(()=>{l(!0)},[]);return o.createElement(o.Fragment,null,i?null:o.createElement(a.L,null),n?o.createElement("div",{className:"lb-attachment-preview-media","data-hidden":i?void 0:""},o.createElement("video",{src:n,onLoadedData:s})):null)}function x(e){let{attachment:t}=e,n=(0,r.mT)();if(("attachment"===t.type||"uploaded"===t.status)&&n&&t.size<=62914560){if(t.mimeType.startsWith("image/"))return o.createElement(y,{attachment:t});if(t.mimeType.startsWith("video/"))return o.createElement(E,{attachment:t})}return o.createElement(b,{mimeType:t.mimeType})}function w(e){let{attachment:t}=e,{base:n,extension:r}=(0,o.useMemo)(()=>(function(e){var t;let n=e.match(v);return{base:null!==(t=null==n?void 0:n[1])&&void 0!==t?t:e,extension:null==n?void 0:n[2]}})(t.name),[t.name]);return o.createElement("span",{className:"lb-attachment-name",title:t.name},o.createElement("span",{className:"lb-attachment-name-base"},n),r&&o.createElement("span",{className:"lb-attachment-name-extension"},r))}function C(e){return(0,o.useCallback)(t=>{if(null==e||e(t),!t.isDefaultPrevented()&&("Enter"===t.key||" "===t.key)){t.preventDefault();let e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});t.target.dispatchEvent(e)}},[e])}function T(e,t){let n=(0,u.QG)(t),r=(0,c.b3)(),o=null==r?void 0:r.maxAttachmentSize,i="localAttachment"===e.type?e.status:void 0;return{isUploading:"uploading"===i,isError:"error"===i,description:"localAttachment"===e.type&&"error"===e.status?e.error instanceof d.YZ?"server"===e.error.origin?n.ATTACHMENT_TOO_LARGE():n.ATTACHMENT_TOO_LARGE(o?h(o,n.locale):void 0):n.ATTACHMENT_ERROR(e.error):h(e.size,n.locale),deleteLabel:r?n.COMPOSER_REMOVE_ATTACHMENT:n.COMMENT_DELETE_ATTACHMENT}}function I(e){let{attachment:t,overrides:n,onClick:r,onDeleteClick:l,preventFocusOnDelete:u,className:c,onKeyDown:d,...m}=e,{isUploading:p,isError:h,description:v,deleteLabel:b}=T(t,n),y=(0,o.useCallback)(e=>{u&&e.preventDefault()},[u]),E=C(d);return o.createElement("div",{className:(0,f.A)("lb-attachment lb-media-attachment",c),"data-error":h?"":void 0,...m,role:r?"button":void 0,onClick:r,tabIndex:r?0:-1,onKeyDown:r?E:void 0},o.createElement("div",{className:"lb-attachment-preview"},p?o.createElement(a.L,null):h?o.createElement(s,null):o.createElement(x,{attachment:t})),o.createElement("div",{className:"lb-attachment-details"},o.createElement(w,{attachment:t}),o.createElement("span",{className:"lb-attachment-description",title:v},v)),l&&o.createElement(g.u,{content:b},o.createElement("button",{type:"button",className:"lb-attachment-delete",onClick:l,onPointerDown:y,"aria-label":b},o.createElement(i.a,null))))}function S(e){let{attachment:t,overrides:n,onClick:r,onDeleteClick:l,preventFocusOnDelete:u,className:c,onKeyDown:d,...m}=e,{isUploading:p,isError:h,description:v,deleteLabel:b}=T(t,n),y=(0,o.useCallback)(e=>{u&&e.preventDefault()},[u]),E=C(d);return o.createElement("div",{className:(0,f.A)("lb-attachment lb-file-attachment",c),"data-error":h?"":void 0,...m,role:r?"button":void 0,onClick:r,tabIndex:r?0:-1,onKeyDown:r?E:void 0},o.createElement("div",{className:"lb-attachment-preview"},p?o.createElement(a.L,null):h?o.createElement(s,null):o.createElement(x,{attachment:t})),o.createElement("div",{className:"lb-attachment-details"},o.createElement(w,{attachment:t}),o.createElement("span",{className:"lb-attachment-description",title:v},v)),l&&o.createElement(g.u,{content:b},o.createElement("button",{type:"button",className:"lb-attachment-delete",onClick:l,onPointerDown:y,"aria-label":b},o.createElement(i.a,null))))}function R(e){let t=[],n=[];for(let r of e)(r.mimeType.startsWith("image/")||r.mimeType.startsWith("video/"))&&r.size<=62914560?t.push(r):n.push(r);return{mediaAttachments:t,fileAttachments:n}}},863:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(1627),o=n(2265),i=n(1643);function a(e){return e.trim().split(" ").reduce((e,t,n,r)=>((0===n||n===r.length-1)&&(e+=t.charAt(0).toLocaleUpperCase()),e),"")}function l(e){let{userId:t,className:n,...l}=e,{user:s,isLoading:u}=(0,r.qf)(t),c=(0,o.useMemo)(()=>null==s?void 0:s.name,[s]),d=(0,o.useMemo)(()=>null==s?void 0:s.avatar,[s]),f=(0,o.useMemo)(()=>c?a(c):void 0,[c]),m=(0,o.useMemo)(()=>u||s?void 0:a(t),[u,s,t]);return o.createElement("div",{className:(0,i.A)("lb-avatar",n),"data-loading":u?"":void 0,...l},d&&o.createElement("img",{className:"lb-avatar-image",src:d,alt:c}),f?o.createElement("span",{className:"lb-avatar-fallback","aria-hidden":!0},f):m?o.createElement("span",{className:"lb-avatar-fallback","aria-label":t,title:t},m):null)}},8608:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(2265),o=n(1643);let i=(0,r.forwardRef)((e,t)=>{let{variant:n="default",size:i="default",disableable:a=!0,className:l,...s}=e;return r.createElement("button",{type:"button",className:(0,o.A)("lb-button",!a&&"lb-button:non-disableable",l),"data-variant":n,"data-size":i,...s,ref:t})})},8285:function(e,t,n){"use strict";n.d(t,{Lt:function(){return u},hP:function(){return c}});var r=n(521),o=n(2265),i=n(774),a=n(7954),l=n(6345),s=n(1643);function u(e){let{children:t,content:n,defaultOpen:u,open:c,onOpenChange:d,className:f,...m}=e,p=(0,l.QG)(),{portalContainer:h}=(0,i.T)();return o.createElement(r.fC,{defaultOpen:u,open:c,onOpenChange:d,dir:p.dir},t,o.createElement(r.Uv,{container:h},o.createElement(r.VY,{className:(0,s.A)("lb-root lb-portal lb-elevation lb-dropdown",f),sideOffset:a.v0,collisionPadding:a.rV,...m},n)))}let c=(0,o.forwardRef)((e,t)=>{let{children:n,className:i,...a}=e;return o.createElement(r.Xi,{className:(0,s.A)("lb-dropdown-item",i),...a,ref:t},n)})},4710:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(2265),o=n(1969),i=n(1643);let a=(0,r.forwardRef)(({className:e,...t},n)=>r.createElement(o.d,{className:(0,i.A)("lb-emoji",e),...t,ref:n}))},7547:function(e,t,n){"use strict";n.d(t,{h:function(){return rn}});var r,o=n(7312),i=n(2265),a=n(774),l=n(7954),s=n(3797);function u(e){return i.createElement(s.JO,{...e},i.createElement("path",{d:"M9 15A6 6 0 1 0 9 3a6 6 0 0 0 0 12Zm7.5 1.5-3.25-3.25"}))}var c=n(3234),d=n(6345),f=n(7053),m=n(7437),p=n(4887);function h(e,t){return n=>e(t(n))}function g(e,t){return t(e)}function v(...e){return e}function b(e){e()}function y(e){return void 0!==e}function E(){}function x(e){e(2)}function w(e){return e(4)}function C(e,t){return e(1,e=>t(0,e))}function T(e,t){let n=e(1,e=>{n(),t(e)});return n}function I(){let e=[];return(t,n)=>{switch(t){case 2:e.splice(0,e.length);return;case 1:return e.push(n),()=>{let t=e.indexOf(n);t>-1&&e.splice(t,1)};case 0:e.slice().forEach(e=>{e(n)});return;default:throw Error(`unrecognized action ${t}`)}}}function S(e){let t=e,n=I();return(e,r)=>{switch(e){case 1:r(t);break;case 0:t=r;break;case 4:return t}return n(e,r)}}function R(e){var t;return C(e,t=I()),t}function k(e,t){var n;return C(e,n=S(t)),n}function M(e,...t){let n=function(...e){return t=>e.reduceRight(g,t)}(...t);return(t,r)=>{switch(t){case 1:return e(1,n(r));case 2:x(e);return}}}function N(e,t){return e===t}function O(e=N){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function A(e){return t=>n=>{e(n)&&t(n)}}function _(e){return t=>h(t,e)}function D(e){return t=>()=>t(e)}function P(e,t){return n=>r=>n(t=e(t,r))}function j(e){return t=>n=>{e>0?e--:t(n)}}function L(e){let t,n=null;return r=>o=>{n=o,t||(t=setTimeout(()=>{t=void 0,r(n)},e))}}function B(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function F(...e){let t=Array(e.length),n=0,r=null,o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{let a=Math.pow(2,i);e(1,e=>{let l=n;n|=a,t[i]=e,l!==o&&n===o&&r&&(r(),r=null)})}),e=>i=>{let a=()=>e([i].concat(t));n===o?a():r=a}}function z(...e){return function(t,n){switch(t){case 1:return function(...e){return()=>{e.map(b)}}(...e.map(e=>e(1,n)));case 2:return;default:throw Error(`unrecognized action ${t}`)}}}function H(e,t=N){return M(e,O(t))}function W(...e){let t=I(),n=Array(e.length),r=0,o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{let a=Math.pow(2,i);e(1,e=>{n[i]=e,(r|=a)===o&&t(0,n)})}),function(e,i){switch(e){case 1:return r===o&&i(n),t(1,i);case 2:return x(t);default:throw Error(`unrecognized action ${e}`)}}}function V(e,t=[],{singleton:n}={singleton:!0}){return{id:U(),constructor:e,dependencies:t,singleton:n}}let U=()=>Symbol(),Y="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function K(e,t,n){let r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),s=i.createContext({});function u(e,n){for(let o of(e.propsReady&&(0,e.propsReady)(0,!1),r))(0,e[t.required[o]])(0,n[o]);for(let r of o)r in n&&(0,e[t.optional[r]])(0,n[r]);e.propsReady&&(0,e.propsReady)(0,!0)}return{Component:i.forwardRef((c,d)=>{var f;let{children:p,...h}=c,[g]=i.useState(()=>{var t;return u(t=function(e){let t=new Map,n=({id:e,constructor:r,dependencies:o,singleton:i})=>{if(i&&t.has(e))return t.get(e);let a=r(o.map(e=>n(e)));return i&&t.set(e,a),a};return n(e)}(e),h),t}),[v]=i.useState(()=>{var e;return e=g,l.reduce((n,r)=>(n[r]=function(e){let t,n;let r=()=>t&&t();return function(o,i){switch(o){case 1:if(!i)return r(),E;if(n===i)return;return r(),n=i,t=e(1,i);case 2:r(),n=null;return;default:throw Error(`unrecognized action ${o}`)}}}(e[t.events[r]]),n),{})});return Y(()=>{for(let e of l)e in h&&(0,v[e])(1,h[e]);return()=>{Object.values(v).map(x)}},[h,v,g]),Y(()=>{u(g,h)}),i.useImperativeHandle(d,(f=a.reduce((e,n)=>(e[n]=e=>{(0,g[t.methods[n]])(0,e)},e),{}),()=>f)),(0,m.jsx)(s.Provider,{value:g,children:n?(0,m.jsx)(n,{...function(e,t){let n={},r={},o=0,i=e.length;for(;o<i;)r[e[o]]=1,o+=1;for(let e in t)r.hasOwnProperty(e)||(n[e]=t[e]);return n}([...r,...o,...l],h),children:p}):p})}),usePublisher:e=>{var t;return i.useCallback((t=i.useContext(s)[e],e=>{t(0,e)}),[e])},useEmitterValue:i.version.startsWith("18")?e=>{let t=i.useContext(s)[e],n=i.useCallback(e=>t(1,e),[t]);return i.useSyncExternalStore(n,()=>w(t),()=>w(t))}:e=>{let t=i.useContext(s)[e],[n,r]=i.useState(()=>w(t));return Y(()=>t(1,e=>{e!==n&&r(()=>e)}),[t,n]),n},useEmitter:(e,t)=>{let n=i.useContext(s)[e];Y(()=>n(1,t),[t,n])}}}let $="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;var G=((r=G||{})[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.WARN=2]="WARN",r[r.ERROR=3]="ERROR",r);let q={0:"debug",1:"log",2:"warn",3:"error"},Q=()=>"undefined"==typeof globalThis?window:globalThis,Z=V(()=>{let e=S(3);return{log:S((t,n,r=1)=>{var o;r>=(null!=(o=Q().VIRTUOSO_LOG_LEVEL)?o:w(e))&&console[q[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function X(e,t,n){let r=i.useRef(null),o=e=>{};if("undefined"!=typeof ResizeObserver){let a=i.useMemo(()=>new ResizeObserver(t=>{let r=()=>{let n=t[0].target;null!==n.offsetParent&&e(n)};n?r():requestAnimationFrame(r)}),[e]);o=e=>{e&&t?(a.observe(e),r.current=e):(r.current&&a.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:o}}function J(e,t,n){return X(e,t,n).callbackRef}function ee(e,t,n,r,o,a,l,s,u){return X(i.useCallback(n=>{let i=function(e,t,n,r){let o=e.length;if(0===o)return null;let i=[];for(let a=0;a<o;a++){let o=e.item(a);if(!o||void 0===o.dataset.index)continue;let l=parseInt(o.dataset.index),s=parseFloat(o.dataset.knownSize),u=t(o,n);if(0===u&&r("Zero-sized element, this should not happen",{child:o},G.ERROR),u===s)continue;let c=i[i.length-1];0===i.length||c.size!==u||c.endIndex!==l-1?i.push({startIndex:l,endIndex:l,size:u}):i[i.length-1].endIndex++}return i}(n.children,t,s?"offsetWidth":"offsetHeight",o),u=n.parentElement;for(;!u.dataset.virtuosoScroller;)u=u.parentElement;let c="window"===u.lastElementChild.dataset.viewportType;r({scrollTop:Math.max(l?s?l.scrollLeft:l.scrollTop:c?s?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:s?u.scrollLeft:u.scrollTop,0),scrollHeight:l?s?l.scrollWidth:l.scrollHeight:c?s?document.documentElement.scrollWidth:document.documentElement.scrollHeight:s?u.scrollWidth:u.scrollHeight,viewportHeight:l?s?l.offsetWidth:l.offsetHeight:c?s?window.innerWidth:window.innerHeight:s?u.offsetWidth:u.offsetHeight}),null==a||a(s?et("column-gap",getComputedStyle(n).columnGap,o):et("row-gap",getComputedStyle(n).rowGap,o)),null!==i&&e(i)},[e,t,o,a,l,r]),n,u)}function et(e,t,n){return("normal"===t||(null==t?void 0:t.endsWith("px"))||n(`${e} was not resolved to pixel value correctly`,t,G.WARN),"normal"===t)?0:parseInt(null!=t?t:"0",10)}function en(e,t){return Math.round(e.getBoundingClientRect()[t])}function er(e,t){return 1.01>Math.abs(e-t)}function eo(e,t,n,r=E,o,a){let l=i.useRef(null),s=i.useRef(null),u=i.useRef(null),c=i.useCallback(n=>{let r=n.target,o=r===window||r===document,i=a?o?window.pageXOffset||document.documentElement.scrollLeft:r.scrollLeft:o?window.pageYOffset||document.documentElement.scrollTop:r.scrollTop,l=a?o?document.documentElement.scrollWidth:r.scrollWidth:o?document.documentElement.scrollHeight:r.scrollHeight,c=a?o?window.innerWidth:r.offsetWidth:o?window.innerHeight:r.offsetHeight,d=()=>{e({scrollTop:Math.max(i,0),scrollHeight:l,viewportHeight:c})};n.suppressFlushSync?d():p.flushSync(d),null!==s.current&&(i===s.current||i<=0||i===l-c)&&(s.current=null,t(!0),u.current&&(clearTimeout(u.current),u.current=null))},[e,t]);return i.useEffect(()=>{let e=o||l.current;return r(o||l.current),c({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",c,{passive:!0}),()=>{r(null),e.removeEventListener("scroll",c)}},[l,c,n,r,o]),{scrollerRef:l,scrollByCallback:function(e){a&&(e={left:e.top,behavior:e.behavior}),l.current.scrollBy(e)},scrollToCallback:function(n){let r,o,i;let c=l.current;if(!c||(a?"offsetWidth"in c&&0===c.offsetWidth:"offsetHeight"in c&&0===c.offsetHeight))return;let d="smooth"===n.behavior;c===window?(o=Math.max(en(document.documentElement,a?"width":"height"),a?document.documentElement.scrollWidth:document.documentElement.scrollHeight),r=a?window.innerWidth:window.innerHeight,i=a?document.documentElement.scrollLeft:document.documentElement.scrollTop):(o=c[a?"scrollWidth":"scrollHeight"],r=en(c,a?"width":"height"),i=c[a?"scrollLeft":"scrollTop"]);let f=o-r;if(n.top=Math.ceil(Math.max(Math.min(f,n.top),0)),er(r,o)||n.top===i){e({scrollTop:i,scrollHeight:o,viewportHeight:r}),d&&t(!0);return}d?(s.current=n.top,u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{u.current=null,s.current=null,t(!0)},1e3)):s.current=null,a&&(n={left:n.top,behavior:n.behavior}),c.scrollTo(n)}}}let ei=V(()=>{let e=I(),t=I(),n=S(0),r=I(),o=S(0),i=I(),a=I(),l=S(0),s=S(0),u=S(0),c=S(0),d=I(),f=I(),m=S(!1),p=S(!1),h=S(!1);return C(M(e,_(({scrollTop:e})=>e)),t),C(M(e,_(({scrollHeight:e})=>e)),a),C(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:l,fixedHeaderHeight:s,fixedFooterHeight:u,footerHeight:c,scrollHeight:a,smoothScrollTargetReached:r,horizontalDirection:p,skipAnimationFrameInResizeObserver:h,scrollTo:d,scrollBy:f,statefulScrollTop:o,deviation:n,scrollingInProgress:m}},[],{singleton:!0}),ea={lvl:0};function el(e,t,n,r=ea,o=ea){return{k:e,v:t,lvl:n,l:r,r:o}}function es(e){return e===ea}function eu(e,t){return es(e)?void 0:t===e.k?e.v:t<e.k?eu(e.l,t):eu(e.r,t)}function ec(e,t,n="k"){if(es(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){let r=ec(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return ec(e.l,t,n)}function ed(e,t,n){return es(e)?el(t,n,1):t===e.k?em(e,{k:t,v:n}):t<e.k?eb(ey(em(e,{l:ed(e.l,t,n)}))):eb(ey(em(e,{r:ed(e.r,t,n)})))}function ef(e){return es(e)?[]:[...ef(e.l),{k:e.k,v:e.v},...ef(e.r)]}function em(e,t){return el(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function ep(e){return es(e)||e.lvl>e.r.lvl}function eh(e){let{l:t,r:n,lvl:r}=e;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(ep(t))return ey(em(e,{lvl:r-1}));if(!es(t)&&!es(t.r))return em(t.r,{l:em(t,{r:t.r.l}),r:em(e,{l:t.r.r,lvl:r-1}),lvl:r});throw Error("Unexpected empty nodes")}if(ep(e))return eb(em(e,{lvl:r-1}));if(es(n)||es(n.l))throw Error("Unexpected empty nodes");{let t=n.l,o=ep(t)?n.lvl-1:n.lvl;return em(t,{l:em(e,{r:t.l,lvl:r-1}),r:eb(em(n,{l:t.r,lvl:o})),lvl:t.lvl+1})}}function eg(e,t,n){if(es(e))return[];let r=ec(e,t)[0];return ev(function e(t,n,r){if(es(t))return[];let{k:o,v:i,l:a,r:l}=t,s=[];return o>n&&(s=s.concat(e(a,n,r))),o>=n&&o<=r&&s.push({k:o,v:i}),o<=r&&(s=s.concat(e(l,n,r))),s}(e,r,n),({k:e,v:t})=>({index:e,value:t}))}function ev(e,t){let n=e.length;if(0===n)return[];let{index:r,value:o}=t(e[0]),i=[];for(let a=1;a<n;a++){let{index:n,value:l}=t(e[a]);i.push({start:r,end:n-1,value:o}),r=n,o=l}return i.push({start:r,end:1/0,value:o}),i}function eb(e){let{r:t,lvl:n}=e;return es(t)||es(t.r)||t.lvl!==n||t.r.lvl!==n?e:em(t,{l:em(e,{r:t.l}),lvl:n+1})}function ey(e){let{l:t}=e;return es(t)||t.lvl!==e.lvl?e:em(t,{r:em(e,{l:t.r})})}function eE(e,t,n,r=0){let o=e.length-1;for(;r<=o;){let i=Math.floor((r+o)/2),a=n(e[i],t);if(0===a)return i;if(-1===a){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}let ex=V(()=>({recalcInProgress:S(!1)}),[],{singleton:!0});function ew(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function eC({index:e},t){return t===e?0:t<e?-1:1}function eT({offset:e},t){return t===e?0:t<e?-1:1}function eI(e){return{index:e.index,value:e}}function eS(e,t,n,r){let o=e,i=0,a=0,l=0,s=0;if(0!==t){s=eE(o,t-1,eC),l=o[s].offset;let e=ec(n,t-1);i=e[0],a=e[1],o.length&&o[s].size===ec(n,t)[1]&&(s-=1),o=o.slice(0,s+1)}else o=[];for(let{start:e,value:s}of eg(n,t,1/0)){let t=e-i,n=t*a+l+t*r;o.push({offset:n,size:s,index:e}),i=e,l=n,a=s}return{offsetTree:o,lastIndex:i,lastOffset:l,lastSize:a}}function eR(e,[t,n,r,o]){t.length>0&&r("received item sizes",t,G.DEBUG);let i=e.sizeTree,a=i,l=0;if(n.length>0&&es(i)&&2===t.length){let e=t[0].size,r=t[1].size;a=n.reduce((t,n)=>ed(ed(t,n,e),n+1,r),a)}else[a,l]=function(e,t){let n=es(e)?0:1/0;for(let r of t){let{size:t,startIndex:o,endIndex:i}=r;if(n=Math.min(n,o),es(e)){e=ed(e,0,t);continue}let a=eg(e,o-1,i+1);if(a.some(function(e){let{size:t,startIndex:n,endIndex:r}=e;return e=>e.start===n&&(e.end===r||e.end===1/0)&&e.value===t}(r)))continue;let l=!1,s=!1;for(let{start:n,end:r,value:o}of a)l?(i>=n||t===o)&&(e=function e(t,n){if(es(t))return ea;let{k:r,l:o,r:i}=t;if(n===r){if(es(o))return i;if(es(i))return o;{let[e,n]=function e(t){return es(t.r)?[t.k,t.v]:e(t.r)}(o);return eh(em(t,{k:e,v:n,l:function e(t){return es(t.r)?t.l:eh(em(t,{r:e(t.r)}))}(o)}))}}return n<r?eh(em(t,{l:e(o,n)})):eh(em(t,{r:e(i,n)}))}(e,n)):(s=o!==t,l=!0),r>i&&i>=n&&o!==t&&(e=ed(e,i+1,o));s&&(e=ed(e,o,t))}return[e,n]}(a,t);if(a===i)return e;let{offsetTree:s,lastIndex:u,lastSize:c,lastOffset:d}=eS(e.offsetTree,l,a,o);return{sizeTree:a,offsetTree:s,lastIndex:u,lastOffset:d,lastSize:c,groupOffsetTree:n.reduce((e,t)=>ed(e,t,ek(t,s,o)),ea),groupIndices:n}}function ek(e,t,n){if(0===t.length)return 0;let{offset:r,index:o,size:i}=t[eE(t,e,eC)],a=e-o,l=i*a+(a-1)*n+r;return l>0?l+n:l}function eM(e,t,n){if(void 0!==e.groupIndex)return t.groupIndices[e.groupIndex]+1;{let r=eN("LAST"===e.index?n:e.index,t);return Math.max(0,r,Math.min(n,r))}}function eN(e,t){if(!eO(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function eO(e){return!es(e.groupOffsetTree)}let eA={offsetHeight:"height",offsetWidth:"width"},e_=V(([{log:e},{recalcInProgress:t}])=>{let n=I(),r=I(),o=k(r,0),i=I(),a=I(),l=S(0),s=S([]),u=S(void 0),c=S(void 0),d=S((e,t)=>en(e,eA[t])),f=S(void 0),m=S(0),p={offsetTree:[],sizeTree:ea,groupOffsetTree:ea,lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},h=k(M(n,F(s,e,m),P(eR,p),O()),p),g=k(M(s,O(),P((e,t)=>({prev:e.current,current:t}),{prev:[],current:[]}),_(({prev:e})=>e)),[]);C(M(s,A(e=>e.length>0),F(h,m),_(([e,t,n])=>{let r=e.reduce((e,r,o)=>ed(e,r,ek(r,t.offsetTree,n)||o),ea);return{...t,groupIndices:e,groupOffsetTree:r}})),h),C(M(r,F(h),A(([e,{lastIndex:t}])=>e<t),_(([e,{lastIndex:t,lastSize:n}])=>[{startIndex:e,endIndex:t,size:n}])),n),C(u,c);let v=k(M(u,_(e=>void 0===e)),!0);C(M(c,A(e=>void 0!==e&&es(w(h).sizeTree)),_(e=>[{startIndex:0,endIndex:0,size:e}])),n);let b=R(M(n,F(h),P(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:p}),_(e=>e.changed)));M(l,P((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),_(e=>e.diff))(1,e=>{let{groupIndices:n}=w(h);if(e>0)t(0,!0),i(0,e+ew(e,n));else if(e<0){let t=w(g);t.length>0&&(e-=ew(-e,t)),a(0,e)}}),M(l,F(e))(1,([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},G.ERROR)});let y=R(i);C(M(i,F(h),_(([e,t])=>{let n=t.groupIndices.length>0,r=[],o=t.lastSize;if(n){let n=eu(t.sizeTree,0),i=0,a=0;for(;i<e;){let e=t.groupIndices[a],l=t.groupIndices.length===a+1?1/0:t.groupIndices[a+1]-e-1;r.push({startIndex:e,endIndex:e,size:n}),r.push({startIndex:e+1,endIndex:e+1+l-1,size:o}),a++,i+=l+1}let l=ef(t.sizeTree);return i!==e&&l.shift(),l.reduce((t,{k:n,v:r})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{startIndex:t.prevIndex,endIndex:n+e-1,size:t.prevSize}]),{ranges:o,prevIndex:n+e,prevSize:r}},{ranges:r,prevIndex:e,prevSize:0}).ranges}return ef(t.sizeTree).reduce((t,{k:n,v:r})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:n+e-1,size:t.prevSize}],prevIndex:n+e,prevSize:r}),{ranges:[],prevIndex:0,prevSize:o}).ranges})),n);let E=R(M(a,F(h,m),_(([e,{offsetTree:t},n])=>ek(-e,t,n))));return C(M(a,F(h,m),_(([e,t,n])=>{if(t.groupIndices.length>0){if(es(t.sizeTree))return t;let r=ea,o=w(g),i=0,a=0,l=0;for(;i<-e;){l=o[a];let e=o[a+1]-l-1;a++,i+=e+1}return r=ef(t.sizeTree).reduce((t,{k:n,v:r})=>ed(t,Math.max(0,n+e),r),r),i!==-e&&(r=ed(r,0,eu(t.sizeTree,l)),r=ed(r,1,ec(t.sizeTree,-e+1)[1])),{...t,sizeTree:r,...eS(t.offsetTree,0,r,n)}}{let r=ef(t.sizeTree).reduce((t,{k:n,v:r})=>ed(t,Math.max(0,n+e),r),ea);return{...t,sizeTree:r,...eS(t.offsetTree,0,r,n)}}})),h),{data:f,totalCount:r,sizeRanges:n,groupIndices:s,defaultItemSize:c,fixedItemSize:u,unshiftWith:i,shiftWith:a,shiftWithOffset:E,beforeUnshiftWith:y,firstItemIndex:l,gap:m,sizes:h,listRefresh:b,statefulTotalCount:o,trackItemSizes:v,itemSize:d}},v(Z,ex),{singleton:!0}),eD="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function eP(e){let t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&eD||(t.behavior="auto"),t.offset||(t.offset=0),t}let ej=V(([{sizes:e,totalCount:t,listRefresh:n,gap:r},{scrollingInProgress:o,viewportHeight:i,scrollTo:a,smoothScrollTargetReached:l,headerHeight:s,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:d},{log:f}])=>{let m=I(),p=I(),h=S(0),g=null,v=null,b=null;function y(){g&&(g(),g=null),b&&(b(),b=null),v&&(clearTimeout(v),v=null),o(0,!1)}return C(M(m,F(e,i,t,h,s,u,f),F(r,c,d),_(([[e,t,r,i,a,s,u,c],d,f,h])=>{let E=eP(e),{align:x,behavior:w,offset:C}=E,I=i-1,S=eM(E,t,I),R=ek(S,t.offsetTree,d)+s;"end"===x?(R+=f+ec(t.sizeTree,S)[1]-r+h,S===I&&(R+=u)):"center"===x?R+=(f+ec(t.sizeTree,S)[1]-r+h)/2:R-=a,C&&(R+=C);let k=t=>{y(),t?(c("retrying to scroll to",{location:e},G.DEBUG),m(0,e)):(p(0,!0),c("list did not change, scroll successful",{},G.DEBUG))};if(y(),"smooth"===w){let e=!1;b=n(1,t=>{e=e||t}),g=T(l,()=>{k(e)})}else g=T(M(n,e=>{let t=setTimeout(()=>{e(!1)},150);return n=>{n&&(e(!0),clearTimeout(t))}}),k);return v=setTimeout(()=>{y()},1200),o(0,!0),c("scrolling from index to",{index:S,top:R,behavior:w},G.DEBUG),{top:R,behavior:w}})),a),{scrollToIndex:m,scrollTargetReached:p,topListHeight:h}},v(e_,ei,Z),{singleton:!0}),eL="down",eB={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},eF=V(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:i}])=>{let a=S(!1),l=S(!0),s=I(),u=I(),c=S(4),d=S(0),f=k(M(z(M(H(t),j(1),D(!0)),M(H(t),j(1),D(!1),B(100))),O()),!1),m=k(M(z(M(i,D(!0)),M(i,D(!1),B(200))),O()),!1);C(M(W(H(t),H(d)),_(([e,t])=>e<=t),O()),l),C(M(l,L(50)),u);let p=R(M(W(e,H(n),H(r),H(o),H(c)),P((e,[{scrollTop:t,scrollHeight:n},r,o,i,a])=>{let l={viewportHeight:r,scrollTop:t,scrollHeight:n};if(t+r-n>-a){let n,r;return t>e.state.scrollTop?(n="SCROLLED_DOWN",r=e.state.scrollTop-t):(n="SIZE_DECREASED",r=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:l,atBottomBecause:n,scrollTopDelta:r}}return{atBottom:!1,notAtBottomBecause:l.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":r<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:l}},eB),O((e,t)=>e&&e.atBottom===t.atBottom))),h=k(M(e,P((e,{scrollTop:t,scrollHeight:n,viewportHeight:r})=>{if(er(e.scrollHeight,n))return{scrollTop:t,scrollHeight:n,jump:0,changed:!1};{let o=n-(t+r)<1;return e.scrollTop!==t&&o?{scrollHeight:n,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:n,scrollTop:t,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),A(e=>e.changed),_(e=>e.jump)),0);C(M(p,_(e=>e.atBottom)),a),C(M(a,L(50)),s);let g=S(eL);C(M(e,_(({scrollTop:e})=>e),O(),P((e,t)=>w(m)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?"up":eL,prevScrollTop:t},{direction:eL,prevScrollTop:0}),_(e=>e.direction)),g),C(M(e,L(50),D("none")),g);let v=S(0);return C(M(f,A(e=>!e),D(0)),v),C(M(t,L(100),F(f),A(([e,t])=>!!t),P(([e,t],[n])=>[t,n],[0,0]),_(([e,t])=>t-e)),v),{isScrolling:f,isAtTop:l,isAtBottom:a,atBottomState:p,atTopStateChange:u,atBottomStateChange:s,scrollDirection:g,atBottomThreshold:c,atTopThreshold:d,scrollVelocity:v,lastJumpDueToItemResize:h}},v(ei)),ez=V(([{log:e}])=>{let t=S(!1),n=R(M(t,A(e=>e),O()));return t(1,t=>{t&&w(e)("props updated",{},G.DEBUG)}),{propsReady:t,didMount:n}},v(Z),{singleton:!0});function eH(e,t){0==e?t():requestAnimationFrame(()=>eH(e-1,t))}function eW(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}let eV=V(([{sizes:e,listRefresh:t,defaultItemSize:n},{scrollTop:r},{scrollToIndex:o,scrollTargetReached:i},{didMount:a}])=>{let l=S(!0),s=S(0),u=S(!0);return C(M(a,F(s),A(([e,t])=>!!t),D(!1)),l),C(M(a,F(s),A(([e,t])=>!!t),D(!1)),u),M(W(t,a),F(l,e,n,u),A(([[,e],t,{sizeTree:n},r,o])=>e&&(!es(n)||y(r))&&!t&&!o),F(s))(1,([,e])=>{T(i,()=>{u(0,!0)}),eH(4,()=>{T(r,()=>{l(0,!0)}),o(0,e)})}),{scrolledToInitialItem:l,initialTopMostItemIndex:s,initialItemFinalLocationReached:u}},v(e_,ei,ej,ez),{singleton:!0});function eU(e){return!!e&&("smooth"===e?"smooth":"auto")}let eY=(e,t)=>"function"==typeof e?eU(e(t)):t&&eU(e),eK=V(([{totalCount:e,listRefresh:t},{isAtBottom:n,atBottomState:r},{scrollToIndex:o},{scrolledToInitialItem:i},{propsReady:a,didMount:l},{log:s},{scrollingInProgress:u}])=>{let c=S(!1),d=I(),f=null;function m(e){o(0,{index:"LAST",align:"end",behavior:e})}function p(e){setTimeout(T(r,t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||f||(w(s)("scrolling to bottom due to increased size",{},G.DEBUG),m("auto"))}),100)}return M(W(M(H(e),j(1)),l),F(H(c),n,i,u),_(([[e,t],n,r,o,i])=>{let a=t&&o,l="auto";return a&&(l=eY(n,r||i),a=a&&!!l),{totalCount:e,shouldFollow:a,followOutputBehavior:l}}),A(({shouldFollow:e})=>e))(1,({totalCount:e,followOutputBehavior:n})=>{f&&(f(),f=null),f=T(t,()=>{w(s)("following output to ",{totalCount:e},G.DEBUG),m(n),f=null})}),M(W(H(c),e,a),A(([e,,t])=>e&&t),P(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),A(({refreshed:e})=>e),F(c,e))(1,([,e])=>{w(i)&&p(!1!==e)}),d(1,()=>{p(!1!==w(c))}),W(H(c),r)(1,([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&m("auto")}),{followOutput:c,autoscrollToBottom:d}},v(e_,eF,ej,eV,ez,Z,ei));function e$(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{totalCount:0,groupIndices:[]})}let eG=V(([{totalCount:e,groupIndices:t,sizes:n},{scrollTop:r,headerHeight:o}])=>{let i=I(),a=I(),l=R(M(i,_(e$)));return C(M(l,_(e=>e.totalCount)),e),C(M(l,_(e=>e.groupIndices)),t),C(M(W(r,n,o),A(([e,t])=>eO(t)),_(([e,t,n])=>ec(t.groupOffsetTree,Math.max(e-n,0),"v")[0]),O(),_(e=>[e])),a),{groupCounts:i,topItemsIndexes:a}},v(e_,ei));function eq(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function eQ(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}let eZ="bottom",eX="none";function eJ(e,t,n){return"number"==typeof e?"up"===n&&"top"===t||n===eL&&t===eZ?e:0:"up"===n?"top"===t?e.main:e.reverse:t===eZ?e.main:e.reverse}function e0(e,t){return"number"==typeof e?e:e[t]||0}let e1=V(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{let i=I(),a=S(0),l=S(0),s=S(0),u=k(M(W(H(e),H(t),H(r),H(i,eq),H(s),H(a),H(o),H(n),H(l)),_(([e,t,n,[r,o],i,a,l,s,u])=>{let c=e-s,d=Math.max(n-c,0),f=eX,m=e0(u,"top"),p=e0(u,eZ);return(r-=s,r+=n+l,o+=n+l,r>e+(a+l)-m&&(f="up"),(o-=s)<e-d+t+p&&(f=eL),f!==eX)?[Math.max(c-n-eJ(i,"top",f)-m,0),c-d-l+t+eJ(i,eZ,f)+p]:null}),A(e=>null!=e),O(eq)),[0,0]);return{listBoundary:i,overscan:s,topListHeight:a,increaseViewportBy:l,visibleRange:u}},v(ei),{singleton:!0}),e2={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function e5(e,t,n){let r;if(0===e.length)return[];if(!eO(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));let o=e[0].index,i=e[e.length-1].index,a=[],l=eg(t.groupOffsetTree,o,i),s=0;for(let o of e){let e;(!r||r.end<o.index)&&(r=l.shift(),s=t.groupIndices.indexOf(r.start)),e=o.index===r.start?{type:"group",index:s}:{index:o.index-(s+1)+n,groupIndex:s},a.push({...e,size:o.size,offset:o.offset,originalIndex:o.index,data:o.data})}return a}function e3(e,t,n,r,o,i){let{lastSize:a,lastOffset:l,lastIndex:s}=o,u=0,c=0;if(e.length>0){u=e[0].offset;let t=e[e.length-1];c=t.offset+t.size}let d=n-s,f=u,m=l+d*a+(d-1)*r-c;return{items:e5(e,o,i),topItems:e5(t,o,i),topListHeight:t.reduce((e,t)=>t.size+e,0),offsetTop:u,offsetBottom:m,top:f,bottom:c,totalCount:n,firstItemIndex:i}}function e6(e,t,n,r,o,i){let a=0;if(n.groupIndices.length>0)for(let t of n.groupIndices){if(t-a>=e)break;a++}let l=e+a,s=eW(t,l);return e3(Array.from({length:l}).map((e,t)=>({index:t+s,size:0,offset:0,data:i[t+s]})),[],l,o,n,r)}let e7=V(([{sizes:e,totalCount:t,data:n,firstItemIndex:r,gap:o},i,{visibleRange:a,listBoundary:l,topListHeight:s},{scrolledToInitialItem:u,initialTopMostItemIndex:c},{topListHeight:d},f,{didMount:m},{recalcInProgress:p}])=>{let h=S([]),g=S(0),v=I();C(i.topItemsIndexes,h);let b=k(M(W(m,p,H(a,eq),H(t),H(e),H(c),u,H(h),H(r),H(o),n),A(([e,t,,n,,,,,,,r])=>{let o=r&&r.length!==n;return e&&!t&&!o}),_(([,,[e,t],n,r,o,i,a,l,s,u])=>{var c;let{sizeTree:d,offsetTree:f}=r,m=w(g);if(0===n)return{...e2,totalCount:n};if(0===e&&0===t)return 0===m?{...e2,totalCount:n}:e6(m,o,r,l,s,u||[]);if(es(d))return m>0?null:e3(function(e,t,n){if(eO(t)){let r=eN(e,t);return[{index:ec(t.groupOffsetTree,r)[0],size:0,offset:0},{index:r,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}(eW(o,n),r,u),[],n,s,r,l);let p=[];if(a.length>0){let e=a[0],t=a[a.length-1],n=0;for(let r of eg(d,e,t)){let o=r.value,i=Math.max(r.start,e),a=Math.min(r.end,t);for(let e=i;e<=a;e++)p.push({index:e,size:o,offset:n,data:u&&u[e]}),n+=o}}if(!i)return e3([],p,n,s,r,l);let h=a.length>0?a[a.length-1]+1:0,v=function(e,t,n,r=0){return r>0&&(t=Math.max(t,e[eE(e,r,eC)].offset)),ev(function(e,t,n,r){let o=eE(e,t,r),i=eE(e,n,r,o);return e.slice(o,i+1)}(e,t,n,eT),eI)}(f,e,t,h);if(0===v.length)return null;let b=n-1;return e3(((n=>{for(let r of v){let o=r.value,i=o.offset,a=r.start,l=o.size;if(o.offset<e){let t=(a+=Math.floor((e-o.offset+s)/(l+s)))-r.start;i+=t*l+t*s}a<h&&(i+=(h-a)*l,a=h);let c=Math.min(r.end,b);for(let e=a;e<=c&&!(i>=t);e++)n.push({index:e,size:l,offset:i,data:u&&u[e]}),i+=l+s}})(c=[]),c),p,n,s,r,l)}),A(e=>null!==e),O()),e2);C(M(n,A(y),_(e=>null==e?void 0:e.length)),t),C(M(b,_(e=>e.topListHeight)),d),C(d,s),C(M(b,_(e=>[e.top,e.bottom])),l),C(M(b,_(e=>e.items)),v);let E=R(M(b,A(({items:e})=>e.length>0),F(t,n),A(([{items:e},t])=>e[e.length-1].originalIndex===t-1),_(([,e,t])=>[e-1,t]),O(eq),_(([e])=>e))),x=R(M(b,L(200),A(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),_(({items:e})=>e[0].index),O())),T=R(M(b,A(({items:e})=>e.length>0),_(({items:e})=>{let t=0,n=e.length-1;for(;"group"===e[t].type&&t<n;)t++;for(;"group"===e[n].type&&n>t;)n--;return{startIndex:e[t].index,endIndex:e[n].index}}),O(eQ)));return{listState:b,topItemsIndexes:h,endReached:E,startReached:x,rangeChanged:T,itemsRendered:v,initialItemCount:g,...f}},v(e_,eG,e1,eV,ej,eF,ez,ex),{singleton:!0}),e4=V(([{sizes:e,firstItemIndex:t,data:n,gap:r},{initialTopMostItemIndex:o},{initialItemCount:i,listState:a},{didMount:l}])=>(C(M(l,F(i),A(([,e])=>0!==e),F(o,e,t,r,n),_(([[,e],t,n,r,o,i=[]])=>e6(e,t,n,r,o,i))),a),{}),v(e_,eV,e7,ez),{singleton:!0}),e8=V(([{scrollVelocity:e}])=>{let t=S(!1),n=I(),r=S(!1);return C(M(e,F(r,t,n),A(([e,t])=>!!t),_(([e,t,n,r])=>{let{exit:o,enter:i}=t;if(n){if(o(e,r))return!1}else if(i(e,r))return!0;return n}),O()),t),M(W(t,e,n),F(r))(1,([[e,t,n],r])=>e&&r&&r.change&&r.change(t,n)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},v(eF),{singleton:!0}),e9=V(([{topItemsIndexes:e}])=>{let t=S(0);return C(M(t,A(e=>e>0),_(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},v(e7)),te=V(([{footerHeight:e,headerHeight:t,fixedHeaderHeight:n,fixedFooterHeight:r},{listState:o}])=>{let i=I(),a=k(M(W(e,r,t,n,o),_(([e,t,n,r,o])=>e+t+n+r+o.offsetBottom+o.bottom)),0);return C(H(a),i),{totalListHeight:a,totalListHeightChanged:i}},v(ei,e7),{singleton:!0});function tt(e){let t,n=!1;return()=>(n||(n=!0,t=e()),t)}let tn=tt(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),tr=V(([{scrollBy:e,scrollTop:t,deviation:n,scrollingInProgress:r},{isScrolling:o,isAtBottom:i,scrollDirection:a,lastJumpDueToItemResize:l},{listState:s},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:d,gap:f},{log:m},{recalcInProgress:p}])=>{let h=R(M(s,F(l),P(([,e,t,n],[{items:r,totalCount:o,bottom:i,offsetBottom:a},l])=>{let s=i+a,u=0;return t===o&&e.length>0&&r.length>0&&!(0===r[0].originalIndex&&0===e[0].originalIndex)&&0!=(u=s-n)&&(u+=l),[u,r,o,s]},[0,[],0,0]),A(([e])=>0!==e),F(t,a,r,i,m,p),A(([,e,t,n,,,r])=>!r&&!n&&0!==e&&"up"===t),_(([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},G.DEBUG),e))));function g(t){t>0?(e(0,{top:-t,behavior:"auto"}),n(0,0)):(n(0,0),e(0,{top:-t,behavior:"auto"}))}return M(h,F(n,o))(1,([e,t,r])=>{r&&tn()?n(0,t-e):g(-e)}),M(W(k(o,!1),n,p),A(([e,t,n])=>!e&&!n&&0!==t),_(([e,t])=>t),L(1))(1,g),C(M(c,_(e=>({top:-e}))),e),M(u,F(d,f),_(([e,{lastSize:t,groupIndices:n,sizeTree:r},o])=>{if(0===n.length)return e*(t+o);{let i=0,a=eu(r,0),l=0,s=0;for(;l<e;){l++,i+=a;let r=n.length===s+1?1/0:n[s+1]-n[s]-1;l+r>e&&(i-=a,r=e-l+1),l+=r,i+=r*(t+o),s++}return i}}))(1,t=>{n(0,t),requestAnimationFrame(()=>{e(0,{top:t}),requestAnimationFrame(()=>{n(0,0),p(0,!1)})})}),{deviation:n}},v(ei,eF,e7,e_,Z,ex)),to=V(([{didMount:e},{scrollTo:t},{listState:n}])=>{let r=S(0);return M(e,F(r),A(([,e])=>0!==e),_(([,e])=>({top:e})))(1,e=>{T(M(n,j(1),A(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{t(0,e)})})}),{initialScrollTop:r}},v(ez,ei,e7),{singleton:!0}),ti=V(([{viewportHeight:e},{totalListHeight:t}])=>{let n=S(!1),r=k(M(W(n,e,t),A(([e])=>e),_(([,e,t])=>Math.max(0,e-t)),L(0),O()),0);return{alignToBottom:n,paddingTopAddition:r}},v(ei,te),{singleton:!0}),ta=V(([{scrollTo:e,scrollContainerState:t}])=>{let n=I(),r=I(),o=I(),i=S(!1),a=S(void 0);return C(M(W(n,r),_(([{viewportHeight:e,scrollTop:t,scrollHeight:n},{offsetTop:r}])=>({scrollTop:Math.max(0,t-r),scrollHeight:n,viewportHeight:e}))),t),C(M(e,F(r),_(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),o),{useWindowScroll:i,customScrollParent:a,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}},v(ei)),tl=({itemTop:e,itemBottom:t,viewportTop:n,viewportBottom:r,locationParams:{behavior:o,align:i,...a}})=>e<n?{...a,behavior:o,align:null!=i?i:"start"}:t>r?{...a,behavior:o,align:null!=i?i:"end"}:null,ts=V(([{sizes:e,totalCount:t,gap:n},{scrollTop:r,viewportHeight:o,headerHeight:i,fixedHeaderHeight:a,fixedFooterHeight:l,scrollingInProgress:s},{scrollToIndex:u}])=>{let c=I();return C(M(c,F(e,o,t,i,a,l,r),F(n),_(([[e,t,n,r,o,i,a,l],u])=>{let{done:c,behavior:d,align:f,calculateViewLocation:m=tl,...p}=e,h=eM(e,t,r-1),g=ek(h,t.offsetTree,u)+o+i,v=g+ec(t.sizeTree,h)[1],b=m({itemTop:g,itemBottom:v,viewportTop:l+i,viewportBottom:l+n-a,locationParams:{behavior:d,align:f,...p}});return b?c&&T(M(s,A(e=>!1===e),j(w(s)?1:2)),c):c&&c(),b}),A(e=>null!==e)),u),{scrollIntoView:c}},v(e_,ei,ej,e7,Z),{singleton:!0}),tu=V(([{sizes:e,sizeRanges:t},{scrollTop:n,headerHeight:r},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:a,windowScrollContainerState:l,windowViewportRect:s}])=>{let u=I(),c=S(void 0),d=S(null),f=S(null);return C(l,d),C(s,f),M(u,F(e,n,a,d,f,r))(1,([e,t,n,r,o,i,a])=>{let l=ef(t.sizeTree).map(({k:e,v:t},n,r)=>{let o=r[n+1];return{startIndex:e,endIndex:o?o.k-1:1/0,size:t}});r&&null!==o&&null!==i&&(n=o.scrollTop-i.offsetTop),e({ranges:l,scrollTop:n-=a})}),C(M(c,A(y),_(tc)),o),C(M(i,F(c),A(([,e])=>void 0!==e),O(),_(([,e])=>e.ranges)),t),{getState:u,restoreStateFrom:c}},v(e_,ei,eV,ez,ta));function tc(e){return{offset:e.scrollTop,index:0,align:"start"}}let td=V(([e,t,n,r,o,i,a,l,s,u])=>({...e,...t,...n,...r,...o,...i,...a,...l,...s,...u}),v(e1,e4,ez,e8,te,to,ti,ta,ts,Z)),tf=V(([{totalCount:e,sizeRanges:t,fixedItemSize:n,defaultItemSize:r,trackItemSizes:o,itemSize:i,data:a,firstItemIndex:l,groupIndices:s,statefulTotalCount:u,gap:c,sizes:d},{initialTopMostItemIndex:f,scrolledToInitialItem:m,initialItemFinalLocationReached:p},h,g,v,{listState:b,topItemsIndexes:y,...E},{scrollToIndex:x},w,{topItemCount:T},{groupCounts:I},S])=>(C(E.rangeChanged,S.scrollSeekRangeChanged),C(M(S.windowViewportRect,_(e=>e.visibleHeight)),h.viewportHeight),{totalCount:e,data:a,firstItemIndex:l,sizeRanges:t,initialTopMostItemIndex:f,scrolledToInitialItem:m,initialItemFinalLocationReached:p,topItemsIndexes:y,topItemCount:T,groupCounts:I,fixedItemHeight:n,defaultItemHeight:r,gap:c,...v,statefulTotalCount:u,listState:b,scrollToIndex:x,trackItemSizes:o,itemSize:i,groupIndices:s,...E,...S,...h,sizes:d,...g}),v(e_,eV,ei,tu,eK,e7,ej,tr,e9,eG,td)),tm="-webkit-sticky",tp="sticky",th=tt(()=>{if("undefined"==typeof document)return tp;let e=document.createElement("div");return e.style.position=tm,e.style.position===tm?tm:tp});function tg(e,t,n){let r=i.useRef(null),o=i.useCallback(n=>{let o,i;if(null===n||!n.offsetParent)return;let a=n.getBoundingClientRect(),l=a.width;if(t){let e=t.getBoundingClientRect(),n=a.top-e.top;o=e.height-Math.max(0,n),i=n+t.scrollTop}else o=window.innerHeight-Math.max(0,a.top),i=a.top+window.pageYOffset;r.current={offsetTop:i,visibleHeight:o,visibleWidth:l},e(r.current)},[e,t]),{callbackRef:a,ref:l}=X(o,!0,n),s=i.useCallback(()=>{o(l.current)},[o,l]);return i.useEffect(()=>{if(!t)return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)};{t.addEventListener("scroll",s);let e=new ResizeObserver(()=>{requestAnimationFrame(s)});return e.observe(t),()=>{t.removeEventListener("scroll",s),e.unobserve(t)}}},[s,t]),a}let tv=i.createContext(void 0),tb=i.createContext(void 0);function ty(e){return e}let tE=V(()=>{let e=S(e=>`Item ${e}`),t=S(null),n=S(e=>`Group ${e}`),r=S({}),o=S(ty),i=S("div"),a=S(E),l=(e,t=null)=>k(M(r,_(t=>t[e]),O()),t);return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:o,HeaderFooterTag:i,scrollerRef:a,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),tx=V(([e,t])=>({...e,...t}),v(tf,tE)),tw=({height:e})=>(0,m.jsx)("div",{style:{height:e}}),tC={position:th(),zIndex:1,overflowAnchor:"none"},tT={overflowAnchor:"none"},tI={...tT,display:"inline-block",height:"100%"},tS=i.memo(function({showTopList:e=!1}){let t=tW("listState"),n=tH("sizeRanges"),r=tW("useWindowScroll"),o=tW("customScrollParent"),a=tH("windowScrollContainerState"),l=tH("scrollContainerState"),s=tW("itemContent"),u=tW("context"),c=tW("groupContent"),d=tW("trackItemSizes"),f=tW("itemSize"),p=tW("log"),h=tH("gap"),g=tW("horizontalDirection"),{callbackRef:v}=ee(n,f,d,e?E:o||r?a:l,p,h,o,g,tW("skipAnimationFrameInResizeObserver")),[b,y]=i.useState(0);tV("deviation",e=>{b!==e&&y(e)});let x=tW("EmptyPlaceholder"),w=tW("ScrollSeekPlaceholder")||tw,C=tW("ListComponent"),T=tW("ItemComponent"),I=tW("GroupComponent"),S=tW("computeItemKey"),R=tW("isSeeking"),k=tW("groupIndices").length>0,M=tW("alignToBottom"),N=tW("initialItemFinalLocationReached"),O=e?{}:{boxSizing:"border-box",...g?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,marginLeft:0!==b?b:M?"auto":0}:{marginTop:0!==b?b:M?"auto":0,paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},...N?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&x?(0,m.jsx)(x,{...tO(x,u)}):(0,m.jsx)(C,{...tO(C,u),ref:v,style:O,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?t.topItems:t.items).map(e=>{let n=e.originalIndex,r=S(n+t.firstItemIndex,e.data,u);return R?(0,i.createElement)(w,{...tO(w,u),key:r,index:e.index,height:e.size,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?(0,i.createElement)(I,{...tO(I,u),key:r,"data-index":n,"data-known-size":e.size,"data-item-index":e.index,style:tC},c(e.index,u)):(0,i.createElement)(T,{...tO(T,u),...tA(T,e.data),key:r,"data-index":n,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:g?tI:tT},k?s(e.index,e.groupIndex,e.data,u):s(e.index,e.data,u))})})}),tR={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},tk={outline:"none",overflowX:"auto",position:"relative"},tM=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}}),tN={width:"100%",position:th(),top:0,zIndex:1};function tO(e,t){if("string"!=typeof e)return{context:t}}function tA(e,t){return{item:"string"==typeof e?void 0:t}}let t_=i.memo(function(){let e=tW("HeaderComponent"),t=tH("headerHeight"),n=tW("HeaderFooterTag"),r=J(i.useMemo(()=>e=>t(en(e,"height")),[t]),!0,tW("skipAnimationFrameInResizeObserver")),o=tW("context");return e?(0,m.jsx)(n,{ref:r,children:(0,m.jsx)(e,{...tO(e,o)})}):null}),tD=i.memo(function(){let e=tW("FooterComponent"),t=tH("footerHeight"),n=tW("HeaderFooterTag"),r=J(i.useMemo(()=>e=>t(en(e,"height")),[t]),!0,tW("skipAnimationFrameInResizeObserver")),o=tW("context");return e?(0,m.jsx)(n,{ref:r,children:(0,m.jsx)(e,{...tO(e,o)})}):null});function tP({usePublisher:e,useEmitter:t,useEmitterValue:n}){return i.memo(function({style:r,children:o,...i}){let a=e("scrollContainerState"),l=n("ScrollerComponent"),s=e("smoothScrollTargetReached"),u=n("scrollerRef"),c=n("context"),d=n("horizontalDirection")||!1,{scrollerRef:f,scrollByCallback:p,scrollToCallback:h}=eo(a,s,l,u,void 0,d);return t("scrollTo",h),t("scrollBy",p),(0,m.jsx)(l,{ref:f,style:{...d?tk:tR,...r},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...i,...tO(l,c),children:o})})}function tj({usePublisher:e,useEmitter:t,useEmitterValue:n}){return i.memo(function({style:r,children:o,...i}){let a=e("windowScrollContainerState"),l=n("ScrollerComponent"),s=e("smoothScrollTargetReached"),u=n("totalListHeight"),c=n("deviation"),d=n("customScrollParent"),f=n("context"),{scrollerRef:p,scrollByCallback:h,scrollToCallback:g}=eo(a,s,l,E,d);return $(()=>(p.current=d||window,()=>{p.current=null}),[p,d]),t("windowScrollTo",g),t("scrollBy",h),(0,m.jsx)(l,{style:{position:"relative",...r,...0!==u?{height:u+c}:{}},"data-virtuoso-scroller":!0,...i,...tO(l,f),children:o})})}let tL=({children:e})=>{let t=i.useContext(tv),n=tH("viewportHeight"),r=tH("fixedItemHeight"),o=tW("alignToBottom"),a=tW("horizontalDirection"),l=J(i.useMemo(()=>h(n,e=>en(e,a?"width":"height")),[n,a]),!0,tW("skipAnimationFrameInResizeObserver"));return i.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,m.jsx)("div",{style:tM(o),ref:l,"data-viewport-type":"element",children:e})},tB=({children:e})=>{let t=i.useContext(tv),n=tH("windowViewportRect"),r=tH("fixedItemHeight"),o=tg(n,tW("customScrollParent"),tW("skipAnimationFrameInResizeObserver")),a=tW("alignToBottom");return i.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,m.jsx)("div",{ref:o,style:tM(a),"data-viewport-type":"window",children:e})},tF=({children:e})=>{let t=tW("TopItemListComponent")||"div",n=tW("headerHeight"),r={...tN,marginTop:`${n}px`},o=tW("context");return(0,m.jsx)(t,{style:r,...tO(t,o),children:e})},{Component:tz,usePublisher:tH,useEmitterValue:tW,useEmitter:tV}=K(tx,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},i.memo(function(e){let t=tW("useWindowScroll"),n=tW("topItemsIndexes").length>0,r=tW("customScrollParent"),o=r||t?tY:tU,i=r||t?tB:tL;return(0,m.jsxs)(o,{...e,children:[n&&(0,m.jsx)(tF,{children:(0,m.jsx)(tS,{showTopList:!0})}),(0,m.jsxs)(i,{children:[(0,m.jsx)(t_,{}),(0,m.jsx)(tS,{}),(0,m.jsx)(tD,{})]})]})})),tU=tP({usePublisher:tH,useEmitterValue:tW,useEmitter:tV}),tY=tj({usePublisher:tH,useEmitterValue:tW,useEmitter:tV}),tK={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},t$={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:tG,ceil:tq,floor:tQ,min:tZ,max:tX}=Math;function tJ(e,t,n){return Array.from({length:t-e+1}).map((t,r)=>{let o=null===n?null:n[r+e];return{index:r+e,data:o}})}function t0(e,t){return e&&e.column===t.column&&e.row===t.row}function t1(e,t){return e&&e.width===t.width&&e.height===t.height}let t2=V(([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:r,viewportHeight:o,scrollBy:i,scrollTo:a,smoothScrollTargetReached:l,scrollContainerState:s,footerHeight:u,headerHeight:c},d,f,{propsReady:m,didMount:p},{windowViewportRect:h,useWindowScroll:g,customScrollParent:v,windowScrollContainerState:b,windowScrollTo:y},E])=>{let x=S(0),w=S(0),N=S(tK),P=S({height:0,width:0}),B=S({height:0,width:0}),z=I(),V=I(),U=S(0),Y=S(null),K=S({row:0,column:0}),$=I(),G=I(),q=S(!1),Q=S(0),Z=S(!0),X=S(!1),J=S(!1);M(p,F(Q),A(([e,t])=>!!t))(1,()=>{Z(0,!1)}),M(W(p,Z,B,P,Q,X),A(([e,t,n,r,,o])=>e&&!t&&0!==n.height&&0!==r.height&&!o))(1,([,,,,e])=>{X(0,!0),eH(1,()=>{z(0,e)}),T(M(r),()=>{n(0,[0,0]),Z(0,!0)})}),C(M(G,A(e=>null!=e&&e.scrollTop>0),D(0)),w),M(p,F(G),A(([,e])=>null!=e))(1,([,e])=>{e&&(P(0,e.viewport),B(0,null==e?void 0:e.item),K(0,e.gap),e.scrollTop>0&&(q(0,!0),T(M(r,j(1)),e=>{q(0,!1)}),a(0,{top:e.scrollTop})))}),C(M(P,_(({height:e})=>e)),o),C(M(W(H(P,t1),H(B,t1),H(K,(e,t)=>e&&e.column===t.column&&e.row===t.row),H(r)),_(([e,t,n,r])=>({viewport:e,item:t,gap:n,scrollTop:r}))),$),C(M(W(H(x),t,H(K,t0),H(B,t1),H(P,t1),H(Y),H(w),H(q),H(Z),H(Q)),A(([,,,,,,,e])=>!e),_(([e,[t,n],r,o,i,a,l,,s,u])=>{let c,d;let{row:f,column:m}=r,{height:p,width:h}=o,{width:g}=i;if(0===l&&(0===e||0===g))return tK;if(0===h){var v;let t=eW(u,e);return v=tJ(t,Math.max(t+l-1,0),a),{...t$,items:v}}let b=t6(g,h,m);s?0===t&&0===n&&l>0?(c=0,d=l-1):(c=b*tQ((t+f)/(p+f)),d=tZ(e-1,tX(d=b*tq((n+f)/(p+f))-1,b-1)),c=tZ(d,tX(0,c))):(c=0,d=-1);let y=tJ(c,d,a),{top:E,bottom:x}=t5(i,r,o,y),w=tq(e/b);return{items:y,offsetTop:E,offsetBottom:w*p+(w-1)*f-x,top:E,bottom:x,itemHeight:p,itemWidth:h}})),N),C(M(Y,A(e=>null!==e),_(e=>e.length)),x),C(M(W(P,B,N,K),A(([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height),_(([e,t,{items:n},r])=>{let{top:o,bottom:i}=t5(e,r,t,n);return[o,i]}),O(eq)),n);let ee=S(!1);C(M(r,F(ee),_(([e,t])=>t||0!==e)),ee);let et=R(M(H(N),A(({items:e})=>e.length>0),F(x,ee),A(([{items:e},t,n])=>n&&e[e.length-1].index===t-1),_(([,e])=>e-1),O())),en=R(M(H(N),A(({items:e})=>e.length>0&&0===e[0].index),D(0),O())),er=R(M(H(N),F(q),A(([{items:e},t])=>e.length>0&&!t),_(([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index})),O(eQ),L(0)));C(er,f.scrollSeekRangeChanged),C(M(z,F(P,B,x,K),_(([e,t,n,r,o])=>{let i=eP(e),{align:a,behavior:l,offset:s}=i,u=i.index;"LAST"===u&&(u=r-1);let c=t3(t,o,n,u=tX(0,u,tZ(r-1,u)));return"end"===a?c=tG(c-t.height+n.height):"center"===a&&(c=tG(c-t.height/2+n.height/2)),s&&(c+=s),{top:c,behavior:l}})),a);let eo=k(M(N,_(e=>e.offsetBottom+e.bottom)),0);return C(M(h,_(e=>({width:e.visibleWidth,height:e.visibleHeight}))),P),{data:Y,totalCount:x,viewportDimensions:P,itemDimensions:B,scrollTop:r,scrollHeight:V,overscan:e,scrollBy:i,scrollTo:a,scrollToIndex:z,smoothScrollTargetReached:l,windowViewportRect:h,windowScrollTo:y,useWindowScroll:g,customScrollParent:v,windowScrollContainerState:b,deviation:U,scrollContainerState:s,footerHeight:u,headerHeight:c,initialItemCount:w,gap:K,restoreStateFrom:G,...f,initialTopMostItemIndex:Q,horizontalDirection:J,gridState:N,totalListHeight:eo,...d,startReached:en,endReached:et,rangeChanged:er,stateChanged:$,propsReady:m,stateRestoreInProgress:q,...E}},v(e1,ei,eF,e8,ez,ta,Z));function t5(e,t,n,r){let{height:o}=n;return void 0===o||0===r.length?{top:0,bottom:0}:{top:t3(e,t,n,r[0].index),bottom:t3(e,t,n,r[r.length-1].index)+o}}function t3(e,t,n,r){let o=tQ(r/t6(e.width,n.width,t.column)),i=o*n.height+tX(0,o-1)*t.row;return i>0?i+t.row:i}function t6(e,t,n){return tX(1,tQ((e+n)/(tQ(t)+n)))}let t7=V(()=>{let e=S(e=>`Item ${e}`),t=S({}),n=S(null),r=S("virtuoso-grid-item"),o=S("virtuoso-grid-list"),i=S(ty),a=S("div"),l=S(E),s=(e,n=null)=>k(M(t,_(t=>t[e]),O()),n),u=S(!1),c=S(!1);return C(H(c),u),{readyStateChanged:u,reportReadyState:c,context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:r,listClassName:o,headerFooterTag:a,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}}),t4=V(([e,t])=>({...e,...t}),v(t2,t7)),t8=i.memo(function(){let e=ni("gridState"),t=ni("listClassName"),n=ni("itemClassName"),r=ni("itemContent"),o=ni("computeItemKey"),a=ni("isSeeking"),l=no("scrollHeight"),s=ni("ItemComponent"),u=ni("ListComponent"),c=ni("ScrollSeekPlaceholder"),d=ni("context"),f=no("itemDimensions"),p=no("gap"),h=ni("log"),g=ni("stateRestoreInProgress"),v=no("reportReadyState"),b=J(i.useMemo(()=>e=>{l(e.parentElement.parentElement.scrollHeight);let t=e.firstChild;if(t){let{width:e,height:n}=t.getBoundingClientRect();f({width:e,height:n})}p({row:nu("row-gap",getComputedStyle(e).rowGap,h),column:nu("column-gap",getComputedStyle(e).columnGap,h)})},[l,f,p,h]),!0,!1);return($(()=>{e.itemHeight>0&&e.itemWidth>0&&v(!0)},[e]),g)?null:(0,m.jsx)(u,{ref:b,className:t,...tO(u,d),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map(t=>{let l=o(t.index,t.data,d);return a?(0,m.jsx)(c,{...tO(c,d),index:t.index,height:e.itemHeight,width:e.itemWidth},l):(0,i.createElement)(s,{...tO(s,d),className:n,"data-index":t.index,key:l},r(t.index,t.data,d))})})}),t9=i.memo(function(){let e=ni("HeaderComponent"),t=no("headerHeight"),n=ni("headerFooterTag"),r=J(i.useMemo(()=>e=>t(en(e,"height")),[t]),!0,!1),o=ni("context");return e?(0,m.jsx)(n,{ref:r,children:(0,m.jsx)(e,{...tO(e,o)})}):null}),ne=i.memo(function(){let e=ni("FooterComponent"),t=no("footerHeight"),n=ni("headerFooterTag"),r=J(i.useMemo(()=>e=>t(en(e,"height")),[t]),!0,!1),o=ni("context");return e?(0,m.jsx)(n,{ref:r,children:(0,m.jsx)(e,{...tO(e,o)})}):null}),nt=({children:e})=>{let t=i.useContext(tb),n=no("itemDimensions"),r=no("viewportDimensions"),o=J(i.useMemo(()=>e=>{r(e.getBoundingClientRect())},[r]),!0,!1);return i.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),(0,m.jsx)("div",{style:tM(!1),ref:o,children:e})},nn=({children:e})=>{let t=i.useContext(tb),n=no("windowViewportRect"),r=no("itemDimensions"),o=tg(n,ni("customScrollParent"),!1);return i.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),(0,m.jsx)("div",{ref:o,style:tM(!1),children:e})},{Component:nr,usePublisher:no,useEmitterValue:ni,useEmitter:na}=K(t4,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},i.memo(function({...e}){let t=ni("useWindowScroll"),n=ni("customScrollParent"),r=n||t?ns:nl,o=n||t?nn:nt;return(0,m.jsx)(r,{...e,children:(0,m.jsxs)(o,{children:[(0,m.jsx)(t9,{}),(0,m.jsx)(t8,{}),(0,m.jsx)(ne,{})]})})})),nl=tP({usePublisher:no,useEmitterValue:ni,useEmitter:na}),ns=tj({usePublisher:no,useEmitterValue:ni,useEmitter:na});function nu(e,t,n){return("normal"===t||(null==t?void 0:t.endsWith("px"))||n(`${e} was not resolved to pixel value correctly`,t,G.WARN),"normal"===t)?0:parseInt(null!=t?t:"0",10)}let nc=V(()=>{let e=S(e=>(0,m.jsxs)("td",{children:["Item $",e]})),t=S(null),n=S(null),r=S(null),o=S({}),i=S(ty),a=S(E),l=(e,t=null)=>k(M(o,_(t=>t[e]),O()),t);return{context:t,itemContent:e,fixedHeaderContent:n,fixedFooterContent:r,components:o,computeItemKey:i,scrollerRef:a,TableComponent:l("Table","table"),TableHeadComponent:l("TableHead","thead"),TableFooterComponent:l("TableFoot","tfoot"),TableBodyComponent:l("TableBody","tbody"),TableRowComponent:l("TableRow","tr"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),FillerRow:l("FillerRow")}}),nd=V(([e,t])=>({...e,...t}),v(tf,nc)),nf=({height:e})=>(0,m.jsx)("tr",{children:(0,m.jsx)("td",{style:{height:e}})}),nm=({height:e})=>(0,m.jsx)("tr",{children:(0,m.jsx)("td",{style:{height:e,padding:0,border:0}})}),np={overflowAnchor:"none"},nh=i.memo(function(){let e=nE("listState"),t=ny("sizeRanges"),n=nE("useWindowScroll"),r=nE("customScrollParent"),o=ny("windowScrollContainerState"),a=ny("scrollContainerState"),l=nE("itemContent"),s=nE("trackItemSizes"),{callbackRef:u,ref:c}=ee(t,nE("itemSize"),s,r||n?o:a,nE("log"),void 0,r,!1,nE("skipAnimationFrameInResizeObserver")),[d,f]=i.useState(0);nx("deviation",e=>{d!==e&&(c.current.style.marginTop=`${e}px`,f(e))});let p=nE("EmptyPlaceholder"),h=nE("ScrollSeekPlaceholder")||nf,g=nE("FillerRow")||nm,v=nE("TableBodyComponent"),b=nE("TableRowComponent"),y=nE("computeItemKey"),E=nE("isSeeking"),x=nE("paddingTopAddition"),w=nE("firstItemIndex"),C=nE("statefulTotalCount"),T=nE("context");if(0===C&&p)return(0,m.jsx)(p,{...tO(p,T)});let I=e.offsetTop+x+d,S=e.offsetBottom,R=I>0?(0,m.jsx)(g,{height:I,context:T},"padding-top"):null,k=S>0?(0,m.jsx)(g,{height:S,context:T},"padding-bottom"):null,M=e.items.map(e=>{let t=e.originalIndex,n=y(t+w,e.data,T);return E?(0,i.createElement)(h,{...tO(h,T),key:n,index:e.index,height:e.size,type:e.type||"item"}):(0,i.createElement)(b,{...tO(b,T),...tA(b,e.data),key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:np},l(e.index,e.data,T))});return(0,m.jsxs)(v,{ref:u,"data-testid":"virtuoso-item-list",...tO(v,T),children:[R,M,k]})}),ng=({children:e})=>{let t=i.useContext(tv),n=ny("viewportHeight"),r=ny("fixedItemHeight"),o=J(i.useMemo(()=>h(n,e=>en(e,"height")),[n]),!0,nE("skipAnimationFrameInResizeObserver"));return i.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,m.jsx)("div",{style:tM(!1),ref:o,"data-viewport-type":"element",children:e})},nv=({children:e})=>{let t=i.useContext(tv),n=ny("windowViewportRect"),r=ny("fixedItemHeight"),o=tg(n,nE("customScrollParent"),nE("skipAnimationFrameInResizeObserver"));return i.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,m.jsx)("div",{ref:o,style:tM(!1),"data-viewport-type":"window",children:e})},{Component:nb,usePublisher:ny,useEmitterValue:nE,useEmitter:nx}=K(nd,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},i.memo(function(e){let t=nE("useWindowScroll"),n=nE("customScrollParent"),r=ny("fixedHeaderHeight"),o=ny("fixedFooterHeight"),a=nE("fixedHeaderContent"),l=nE("fixedFooterContent"),s=nE("context"),u=J(i.useMemo(()=>h(r,e=>en(e,"height")),[r]),!0,nE("skipAnimationFrameInResizeObserver")),c=J(i.useMemo(()=>h(o,e=>en(e,"height")),[o]),!0,nE("skipAnimationFrameInResizeObserver")),d=n||t?nC:nw,f=n||t?nv:ng,p=nE("TableComponent"),g=nE("TableHeadComponent"),v=nE("TableFooterComponent"),b=a?(0,m.jsx)(g,{style:{zIndex:2,position:"sticky",top:0},ref:u,...tO(g,s),children:a()},"TableHead"):null,y=l?(0,m.jsx)(v,{style:{zIndex:1,position:"sticky",bottom:0},ref:c,...tO(v,s),children:l()},"TableFoot"):null;return(0,m.jsx)(d,{...e,children:(0,m.jsx)(f,{children:(0,m.jsxs)(p,{style:{borderSpacing:0,overflowAnchor:"none"},...tO(p,s),children:[b,(0,m.jsx)(nh,{},"TableBody"),y]})})})})),nw=tP({usePublisher:ny,useEmitterValue:nE,useEmitter:nx}),nC=tj({usePublisher:ny,useEmitterValue:nE,useEmitter:nx});var nT=n(2216);let nI=("undefined"!=typeof window?window.requestIdleCallback:null)??function(e,t){return setTimeout(e,Math.min(t?.timeout??1/0,100))},nS=("undefined"!=typeof window?window.cancelIdleCallback:null)??clearTimeout;var nR=n(9731);let nk=i["useTransition".toString()]??function(){return[!1,(0,i.useCallback)(e=>e(),[])]},nM={position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"};var nN=n(1969),nO=n(416);let nA=(0,i.createContext)(null);function n_(){let e=(0,i.useContext)(nA);return(0,nO.nn)(e,"EmojiPicker.Root is missing from the React tree.")}var nD=n(3243);let nP="https://cdn.jsdelivr.net/npm/emojibase-data@15.3.0",nj=e=>`${nP}/${e}/data.json`,nL=e=>`${nP}/${e}/messages.json`,nB=["bn","da","de","en","en-gb","es","es-mx","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","zh","zh-hant"],nF=e=>`lb-emoji-data-${e}`,nz=e=>`lb-emoji-metadata-${e}`,nH="lb-emoji-metadata";function nW(e,t){let n=e.getItem(t);return n?JSON.parse(n):null}function nV(e,t,n){e.setItem(t,JSON.stringify(n))}async function nU(e){try{return(await fetch(e,{method:"HEAD"})).headers.get("etag")}catch(e){return null}}async function nY(e){let[{emojis:t,emojisEtag:n},{messages:r,messagesEtag:o}]=await Promise.all([fetch(nj(e)).then(async e=>({emojis:await e.json(),emojisEtag:e.headers.get("etag")})),fetch(nL(e)).then(async e=>({messages:await e.json(),messagesEtag:e.headers.get("etag")}))]);return{emojis:t,messages:r,emojisEtag:n,messagesEtag:o}}async function nK(e){let[t,n]=await Promise.all([nU(nj(e)),nU(nL(e))]);return{emojisEtag:t,messagesEtag:n}}async function n$(e){let{emojis:t,emojisEtag:n,messages:r,messagesEtag:o}=await nY(e),i=r.subgroups.find(e=>"subdivision-flag"===e.key),a=r.groups.filter(e=>"component"!==e.key),l=t.filter(e=>"group"in e),s=a.map(e=>({key:e.order,name:(0,nD.k)(e.message)})),u=r.skinTones.map(e=>({key:e.key,name:(0,nD.k)(e.message)})),c={emojis:l.map(e=>{let t={emoji:e.emoji,category:e.group,version:e.version,name:(0,nD.k)(e.label),tags:e.tags};return i&&e.subgroup===i.order&&(t.countryFlag=!0),t}),categories:s,skinTones:u};return nV(localStorage,nF(e),c),nV(localStorage,nz(e),{emojisEtag:n,messagesEtag:o}),c}function nG(e,t){e.clearRect(0,0,40,25),e.fillStyle="#f00",e.fillText(t,0,22),e.fillStyle="#00f",e.fillText(t,20,22);let n=e.getImageData(0,0,20,25).data,r=n.length,o=0;for(;o<r&&!n[o+3];o+=4);if(o>=r)return!1;let i=20+o/4%20,a=Math.floor(o/4/20),l=e.getImageData(i,a,1,1).data;return n[o]===l[0]&&n[o+2]===l[2]&&!(e.measureText(t).width>=20)}async function nq(e){let t;let n=nB.includes(e)?e:"en",r=nW(sessionStorage,nH),o=nW(localStorage,nF(n));if(o){if(r)t=o;else{let{emojisEtag:e,messagesEtag:r}=await nK(n),i=nW(localStorage,nz(n));t=i&&e===i.emojisEtag&&r===i.messagesEtag?o:await n$(n)}}else t=await n$(n);let i=r??function(e){let t=new Map;for(let n of e)t.has(n.version)||t.set(n.version,n.emoji);let n=[...t.keys()].sort((e,t)=>t-e),r=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});if(!r)return{emojiVersion:n[0],countryFlags:!0};r.font=`${Math.floor(12.5)}px ${function(){try{let e=document.createElement("span");e.style.display="none",e.dataset.emoji="",document.body.appendChild(e);let t=window.getComputedStyle(e).fontFamily;return document.body.removeChild(e),t}catch{return l.rQ}}()}`,r.textBaseline="top",r.canvas.width=40,r.canvas.height=25;let o=nG(r,"\uD83C\uDDEB\uD83C\uDDF7");for(let e of n)if(nG(r,t.get(e)))return{emojiVersion:e,countryFlags:o};return{emojiVersion:n[0],countryFlags:o}}(t.emojis);return nV(sessionStorage,nH,i),{emojis:t.emojis.filter(e=>{let t=e.version<=i.emojiVersion;return e.countryFlag?t&&i.countryFlags:t}),categories:t.categories,skinTones:t.skinTones}}function nQ(e){let{columns:t=10,locale:n="en",onEmojiSelect:r,children:o}=e,a=(0,i.useRef)(),l=(0,i.useRef)(""),[,s]=nk(),[u,c]=(0,i.useState)(),[d,f]=(0,i.useState)(),[m,p]=(0,i.useState)(0),[h,g]=(0,i.useState)(0),[v,b]=(0,i.useState)("none"),y=(0,i.useCallback)(()=>{if(r){var e;let t=null==u?void 0:null===(e=u.rows[h])||void 0===e?void 0:e[m];t&&r(t.emoji)}},[null==u?void 0:u.rows,r,m,h]),E=(0,i.useCallback)(()=>{p(0),g(0)},[]),x=(0,i.useCallback)((e,t)=>{b("pointer"),p(e),g(t)},[]),w=(0,i.useCallback)((e,t)=>{if(u){if(t.preventDefault(),"none"===v){b("keyboard");return}switch(b("keyboard"),e){case"left":if(0===m){let e=h-1,t=u.rows[e];t&&(g(e),p(t.length-1))}else p(m-1);break;case"right":if(m===u.rows[h].length-1){let e=h+1;u.rows[e]&&(g(e),p(0))}else p(m+1);break;case"up":{let e=u.rows[h-1];e&&(g(h-1),e[m]||p(e.length-1));break}case"down":{let e=u.rows[h+1];e&&(g(h+1),e[m]||p(e.length-1))}}}},[u,v,m,h]),C=(0,i.useCallback)(()=>{a.current&&s(()=>{c(()=>{if(a.current)return function(e,t,n){let r=0,o=[],i=e.map((e,t)=>({...e,index:t})),a=[],l=[],s=[];for(let e of t.map(e=>({...e,emojis:i.filter(t=>t.category===e.key)})).filter(e=>e.emojis.length>0)){let t=(0,nO.yo)(e.emojis,n),i=r+t.length;o.push(...t),s.push(e.name),a.push(t.length),l.push(function(e,t){let n=[];for(let r=e;r<=t;r++)n.push(r);return n}(r,i-1)),r=i}return{count:e.length,rows:o,categories:s,categoriesRowCounts:a,categoriesRowIndices:l}}(function(e,t){if(!t)return e;let n=t.toLowerCase().trim();return e.filter(e=>e.name.toLowerCase().includes(n)||e.tags?.some(e=>e.toLowerCase().includes(n)))}(a.current.emojis,l.current),a.current.categories,t)}),E()})},[t,E]),T=(0,i.useCallback)(e=>{l.current=e,C()},[C]),I=(0,i.useCallback)(async e=>{try{a.current=await nq(e),C()}catch(e){f(e)}},[C]);return(0,i.useEffect)(()=>{let e;let t=setTimeout(()=>{e=nI(()=>{I(n)})},100);return()=>{clearTimeout(t),nS(e)}},[n]),(0,i.useEffect)(()=>{"none"===v&&E()},[v]),i.createElement(nA.Provider,{value:{data:u,error:d,isLoading:!u&&!d,columns:t,onSearch:T,onEmojiSelect:r,selectCurrentEmoji:y,selectedRowIndex:h,selectedColumnIndex:m,moveSelection:w,setPointerSelection:x,interaction:v,setInteraction:b}},o)}let nZ=(0,i.forwardRef)((e,t)=>{let{asChild:n,value:r,defaultValue:o,onChange:a,...l}=e,s=n?f.g7:"input",{onSearch:u,selectCurrentEmoji:c,moveSelection:d,interaction:m,setInteraction:p}=n_(),h=(0,i.useCallback)(e=>{if(null==a||a(e),e.isDefaultPrevented())return;let t=e.target.value;p(t?"keyboard":"none"),u(t)},[a,u,p]),g=(0,i.useCallback)(e=>{!e.isDefaultPrevented()&&((0,nT.o)(e,"ArrowLeft")?d("left",e):(0,nT.o)(e,"ArrowRight")?d("right",e):(0,nT.o)(e,"ArrowUp")?d("up",e):(0,nT.o)(e,"ArrowDown")?d("down",e):(0,nT.o)(e,"Enter")&&"none"!==m&&(e.preventDefault(),c()))},[m,d,c]);return(0,i.useEffect)(()=>{u(r?String(r):o?String(o):"")},[]),i.createElement(s,{type:"search",value:r,defaultValue:o,onChange:h,onKeyDown:g,...l,ref:t})}),nX={CategoryHeader:e=>{let{category:t,...n}=e;return i.createElement("div",{...n},t)},Row:e=>{let{children:t,attributes:n,...r}=e;return i.createElement("div",{...r},t)},Emoji:e=>{let{emoji:t,...n}=e;return i.createElement("button",{...n},i.createElement(nN.d,{emoji:t}))},Loading:e=>i.createElement("div",{...e}),Empty:e=>i.createElement("div",{...e}),Grid:e=>i.createElement("div",{...e}),Error:e=>{let{error:t,...n}=e;return i.createElement("div",{...n})}},nJ={rowIndex:-1,categoryRowIndex:-1,categoryRowsCount:0},n0=(0,i.forwardRef)((e,t)=>{let{children:n,...r}=e;return i.createElement("div",{...r,tabIndex:-1,"data-testid":void 0,ref:t},n)}),n1=(0,i.forwardRef)((e,t)=>{let{children:n,...r}=e;return i.createElement("div",{...r,"data-testid":void 0,ref:t},n)}),n2=(0,i.forwardRef)((e,t)=>{let{components:n,asChild:r,...o}=e,a=r?f.g7:"div",l=(0,i.useRef)(null),s=(0,i.useRef)(null),u=(0,i.useRef)(0),c=(0,i.useRef)(0),d=(0,i.useRef)(0),{data:m,error:p,isLoading:h,columns:g,onEmojiSelect:v,selectedColumnIndex:b,selectedRowIndex:y,setPointerSelection:E,interaction:x,setInteraction:w}=n_(),C=(0,i.useMemo)(()=>{var e;return null==m?void 0:null===(e=m.rows[y])||void 0===e?void 0:e[b]},[null==m?void 0:m.rows,b,y]),{Loading:T,Empty:I,Error:S,CategoryHeader:R,Grid:k,Row:M,Emoji:N}=(0,i.useMemo)(()=>({...nX,...n}),[n]),O=(0,i.useMemo)(()=>(0,i.forwardRef)((e,t)=>{let{children:n,...r}=e;return i.createElement("div",{role:"grid","aria-colcount":g,...r,"data-testid":void 0,ref:t},n)}),[g]),A=(0,i.useMemo)(()=>Array(g).fill("\uD83C\uDF2B️"),[g]),_=(0,i.useCallback)(e=>{e.preventDefault()},[]),D=(0,i.useCallback)(()=>{"pointer"===x&&w("none")},[x,w]);(0,nR.b)(()=>{if(!s.current)return;let e=s.current.childNodes[0],t=s.current.childNodes[1];if(e instanceof HTMLElement){let t=window.getComputedStyle(e);u.current=parseFloat(t.scrollMarginTop),c.current=parseFloat(t.scrollMarginBottom)}t instanceof HTMLElement&&(d.current=t.offsetHeight)},[]);let P=(0,i.useCallback)(e=>{let{itemTop:t,itemBottom:n,viewportTop:r,viewportBottom:o,locationParams:{behavior:i,align:a,...l}}=e;return t-(d.current+u.current)<r?{...l,behavior:i,align:null!=a?a:"start"}:n>o?{...l,behavior:i,align:null!=a?a:"end",offset:c.current}:null},[]);return(0,i.useEffect)(()=>{if("keyboard"===x){var e;null===(e=l.current)||void 0===e||e.scrollIntoView({index:y,behavior:"auto",calculateViewLocation:P})}},[x,y,P]),i.createElement(a,{...o,ref:t},i.createElement("div",{style:{visibility:"hidden",height:0},ref:s},i.createElement(M,{attributes:nJ},A.map((e,t)=>i.createElement(N,{emoji:e,key:t}))),i.createElement(R,{category:"Category"})),h?i.createElement(T,null):p?i.createElement(S,{error:p}):0===m.count?i.createElement(I,null):i.createElement(k,null,i.createElement(tz,{ref:l,components:{Scroller:n0,List:O,TopItemList:n1},groupCounts:m.categoriesRowCounts,groupContent:e=>i.createElement(R,{category:m.categories[e]}),itemContent:(e,t)=>{let n=m.categoriesRowIndices[t].indexOf(e),r=m.categoriesRowCounts[t];return i.createElement(M,{attributes:{rowIndex:e,categoryRowIndex:n,categoryRowsCount:r}},m.rows[e].map((t,n)=>{let r="none"!==x&&b===n&&y===e;return i.createElement(N,{key:t.emoji,role:"gridcell","aria-colindex":n,"aria-selected":r||void 0,"data-selected":r||void 0,onMouseDown:_,tabIndex:-1,onPointerEnter:()=>{E(n,e)},onPointerLeave:D,onClick:e=>{null==v||v(t.emoji),e.stopPropagation()},emoji:t.emoji})}))}})),C&&"none"!==x&&i.createElement("div",{"aria-live":"polite",style:nM},C.name))});var n5=n(1643),n3=n(4710);function n6({className:e,...t}){return i.createElement("div",{className:(0,n5.A)("lb-loading lb-emoji-picker-loading",e),...t},i.createElement(c.L,null))}function n7({className:e,...t}){let n=(0,d.QG)();return i.createElement("div",{className:(0,n5.A)("lb-empty lb-emoji-picker-empty",e),...t},n.EMOJI_PICKER_EMPTY)}function n4({error:e,className:t,...n}){let r=(0,d.QG)();return i.createElement("div",{className:(0,n5.A)("lb-error lb-emoji-picker-error",t),...n},r.EMOJI_PICKER_ERROR(e))}function n8({category:e,className:t,...n}){return i.createElement("div",{className:(0,n5.A)("lb-emoji-picker-category-header",t),...n},i.createElement("span",{className:"lb-emoji-picker-category-header-title"},e))}function n9({children:e,className:t,...n}){return i.createElement("div",{className:(0,n5.A)("lb-emoji-picker-grid",t),...n},e)}function re({attributes:e,children:t,className:n,...r}){let o=(0,i.useMemo)(()=>0===e.categoryRowIndex,[e.categoryRowIndex]),a=(0,i.useMemo)(()=>e.categoryRowIndex===e.categoryRowsCount-1,[e.categoryRowIndex,e.categoryRowsCount]);return i.createElement("div",{className:(0,n5.A)("lb-emoji-picker-row",n),"data-first":o?"":void 0,"data-last":a?"":void 0,...r},t)}function rt({emoji:e,className:t,...n}){return i.createElement("button",{className:(0,n5.A)("lb-emoji-picker-emoji",t),...n},i.createElement(n3.d,{emoji:e}))}let rn=(0,i.forwardRef)(({onEmojiSelect:e,onOpenChange:t,children:n,className:r,...s},c)=>{let[f,m]=(0,i.useState)(!1),{portalContainer:p}=(0,a.T)(),h=(0,d.QG)(),g=(0,i.useCallback)(e=>{m(e),t?.(e)},[t]),v=(0,i.useCallback)(t=>{m(!1),e?.(t)},[e]);return i.createElement(o.fC,{open:f,onOpenChange:g},n,i.createElement(o.h_,{container:p},i.createElement(o.VY,{side:"top",align:"center",sideOffset:l.v0,collisionPadding:l.rV,className:(0,n5.A)("lb-root lb-portal lb-elevation lb-emoji-picker",r),...s,ref:c},i.createElement(nQ,{onEmojiSelect:v,locale:h.locale},i.createElement("div",{className:"lb-emoji-picker-header"},i.createElement("div",{className:"lb-emoji-picker-search-container"},i.createElement(nZ,{className:"lb-emoji-picker-search",placeholder:h.EMOJI_PICKER_SEARCH_PLACEHOLDER,autoFocus:!0}),i.createElement(u,{className:"lb-emoji-picker-search-icon"}))),i.createElement(n2,{className:"lb-emoji-picker-content",components:{Loading:n6,Empty:n7,Error:n4,CategoryHeader:n8,Grid:n9,Row:re,Emoji:rt}})))))})},3797:function(e,t,n){"use strict";n.d(t,{JO:function(){return i}});var r=n(2265),o=n(1643);function i({children:e,className:t,...n}){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",role:"presentation",className:(0,o.A)("lb-icon",t),...n},e)}},8343:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var r=n(7053),o=n(2265),i=n(6345),a=n(1643),l=n(2133);let s=(0,o.forwardRef)(({values:e,formatRemaining:t,truncate:n,locale:s,className:u,asChild:c,...d},f)=>{let m=c?r.g7:"span",p=(0,i.QG)(),h=t??p.LIST_REMAINING,g=(0,o.useMemo)(()=>{let t=n&&n<e.length-1?[...e.slice(0,n),h(e.length-n)]:[...e],r=Array(t.length).fill(".");return(0,l.XE)(s).formatToParts(r).map(e=>"element"===e.type?t.shift():e.value)},[h,s,n,e]);return o.createElement(m,{className:(0,a.A)("lb-list",u),...d,ref:f},g)})},486:function(e,t,n){"use strict";n.d(t,{mK:function(){return d},u:function(){return c},vw:function(){return f}});var r=n(1677),o=n(2265),i=n(774),a=n(7954),l=n(1643),s=n(5063);let u={alt:()=>({title:"Alt",key:"⌥"}),mod:()=>(0,s.m)()?{title:"Command",key:"⌘"}:{title:"Ctrl",key:"⌃"},shift:()=>({title:"Shift",key:"⇧"}),enter:()=>({title:"Enter",key:"⏎"})},c=(0,o.forwardRef)((e,t)=>{let{children:n,content:s,multiline:u,className:c,...d}=e,{portalContainer:f}=(0,i.T)();return o.createElement(r.fC,{disableHoverableContent:!0},o.createElement(r.xz,{asChild:!0,ref:t},n),o.createElement(r.h_,{container:f},o.createElement(r.VY,{className:(0,l.A)("lb-root lb-portal lb-tooltip",u&&"lb-tooltip:multiline",c),side:"top",align:"center",sideOffset:a.v0,collisionPadding:a.rV,...d},s)))}),d=(0,o.forwardRef)((e,t)=>{let{children:n,content:r,shortcut:i,...a}=e;return o.createElement(c,{content:o.createElement(o.Fragment,null,r,i&&o.createElement("kbd",{className:"lb-tooltip-shortcut"},i)),...a,ref:t},n)});function f(e){let{name:t,...n}=e,{title:r,key:i}=(0,o.useMemo)(()=>{var e;return null===(e=u[t])||void 0===e?void 0:e.call(u)},[t]);return o.createElement("abbr",{title:r,...n},i)}},2096:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(1627),o=n(2265),i=n(6345),a=n(1212),l=n(1643);function s(e){let{userId:t,replaceSelf:n,className:s,...u}=e,c=(0,a.d)(),{user:d,isLoading:f}=(0,r.qf)(t),m=(0,i.QG)(),p=(0,o.useMemo)(()=>{var e;return n&&c===t?m.USER_SELF:null!==(e=null==d?void 0:d.name)&&void 0!==e?e:m.USER_UNKNOWN},[n,c,t,m.USER_SELF,m.USER_UNKNOWN,null==d?void 0:d.name]);return o.createElement("span",{className:(0,l.A)("lb-name lb-user",s),"data-loading":f?"":void 0,...u},f?null:p)}},774:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(2265);let o=(0,r.createContext)({});function i(){return(0,r.useContext)(o)}},7954:function(e,t,n){"use strict";n.d(t,{rQ:function(){return i},rV:function(){return o},v0:function(){return r}});let r=6,o=10,i="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif"},5164:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(2265),o=n(3797);function i(e){return r.createElement(o.JO,{...e},r.createElement("path",{d:"M16 6L8 14L4 10"}))}},3326:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(2265),o=n(3797);function i(e){return r.createElement(o.JO,{...e},r.createElement("path",{d:"M15 5L5 15"}),r.createElement("path",{d:"M5 5L15 15"}))}},854:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(2265),o=n(3797);function i(e){return r.createElement(o.JO,{...e},r.createElement("path",{d:"M4.5 6.5h11M14 6.5V14a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 6 14V6.5M7.5 6.5V5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v1.5"}))}},7172:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(2265),o=n(3797);function i(e){return r.createElement(o.JO,{fill:"currentColor",...e},r.createElement("circle",{cx:5,cy:10,r:.75}),r.createElement("circle",{cx:10,cy:10,r:.75}),r.createElement("circle",{cx:15,cy:10,r:.75}))}},3234:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2265),o=n(3797);function i(e){return r.createElement(o.JO,{...e},r.createElement("path",{d:"M3 10a7 7 0 0 1 7-7",className:"lb-icon-spinner"}))}},6345:function(e,t,n){"use strict";n.d(t,{QG:function(){return s}});var r=n(2265),o=n(4710);function i(e,t,n){return 1===e?t:n??`${t}s`}let a={locale:"en",dir:"ltr",USER_SELF:"you",USER_UNKNOWN:"Anonymous",LIST_REMAINING:e=>"".concat(e," more"),LIST_REMAINING_USERS:e=>"".concat(e," ").concat(i(e,"other")),LIST_REMAINING_COMMENTS:e=>"".concat(e," more ").concat(i(e,"comment")),EMOJI_PICKER_SEARCH_PLACEHOLDER:"Search…",EMOJI_PICKER_EMPTY:"No emoji found.",EMOJI_PICKER_ERROR:()=>"There was an error while getting the list of emoji.",ATTACHMENT_TOO_LARGE:e=>e?"The file is larger than ".concat(e):"The file is too large",ATTACHMENT_ERROR:()=>"The file couldn’t be uploaded.",COMPOSER_INSERT_MENTION:"Mention someone",COMPOSER_INSERT_EMOJI:"Add emoji",COMPOSER_ATTACH_FILES:"Attach files",COMPOSER_REMOVE_ATTACHMENT:"Remove attachment",COMPOSER_PLACEHOLDER:"Write a comment…",COMPOSER_SEND:"Send",COMMENT_EDITED:"(edited)",COMMENT_DELETED:"This comment has been deleted.",COMMENT_MORE:"More",COMMENT_EDIT:"Edit comment",COMMENT_EDIT_COMPOSER_PLACEHOLDER:"Edit comment…",COMMENT_EDIT_COMPOSER_CANCEL:"Cancel",COMMENT_EDIT_COMPOSER_SAVE:"Save",COMMENT_DELETE:"Delete comment",COMMENT_DELETE_ATTACHMENT:"Delete attachment",COMMENT_ADD_REACTION:"Add reaction",COMMENT_REACTION_LIST:(e,t)=>r.createElement(r.Fragment,null,e," reacted with ",r.createElement(o.d,{emoji:t})),COMMENT_REACTION_DESCRIPTION:(e,t)=>"".concat(t," ").concat(i(t,"reaction"),", react with ").concat(e),THREAD_RESOLVE:"Resolve thread",THREAD_UNRESOLVE:"Re-open thread",THREAD_NEW_INDICATOR:"New",THREAD_NEW_INDICATOR_DESCRIPTION:"New comments",THREAD_COMPOSER_PLACEHOLDER:"Reply to thread…",THREAD_COMPOSER_SEND:"Reply",INBOX_NOTIFICATION_MORE:"More",INBOX_NOTIFICATION_MARK_AS_READ:"Mark as read",INBOX_NOTIFICATION_DELETE:"Delete notification",INBOX_NOTIFICATION_THREAD_COMMENTS_LIST:(e,t)=>r.createElement(r.Fragment,null,e," commented",t?r.createElement(r.Fragment,null," in ",t):r.createElement(r.Fragment,null," in a thread")),INBOX_NOTIFICATION_THREAD_MENTION:(e,t)=>r.createElement(r.Fragment,null,e," mentioned you",t?r.createElement(r.Fragment,null," in ",t):null),INBOX_NOTIFICATION_TEXT_MENTION:(e,t)=>r.createElement(r.Fragment,null,e," mentioned you",t?r.createElement(r.Fragment,null," in ",t):null),HISTORY_VERSION_PREVIEW_AUTHORS_LIST:e=>r.createElement(r.Fragment,null,"Edits from ",e),HISTORY_VERSION_PREVIEW_RESTORE:"Restore",HISTORY_VERSION_PREVIEW_EMPTY:"No content.",HISTORY_VERSION_PREVIEW_ERROR:()=>"There was an error while getting this version."},l=(0,r.createContext)(void 0);function s(e){let t=(0,r.useContext)(l);return(0,r.useMemo)(()=>({...a,...t,...e}),[t,e])}},1843:function(e,t,n){"use strict";n.d(t,{pf:function(){return l},rU:function(){return s},uT:function(){return c}});var r=n(7053),o=n(2265),i=n(8984),a=n(5746);let l=(0,o.forwardRef)(({children:e,asChild:t,...n},i)=>{let a=t?r.g7:"span";return o.createElement(a,{...n,ref:i},e)}),s=(0,o.forwardRef)(({children:e,asChild:t,...n},i)=>{let a=t?r.g7:"a";return o.createElement(a,{target:"_blank",rel:"noopener noreferrer nofollow",...n,ref:i},e)}),u={Mention:({userId:e})=>o.createElement(l,null,i.$S,e),Link:({href:e,children:t})=>o.createElement(s,{href:e},t)},c=(0,o.forwardRef)(({body:e,components:t,style:n,asChild:i,...l},s)=>{let c=i?r.g7:"div",{Mention:d,Link:f}=(0,o.useMemo)(()=>({...u,...t}),[t]);return e&&e?.content?o.createElement(c,{...l,style:{whiteSpace:"break-spaces",...n},ref:s},e.content.map((e,t)=>"paragraph"===e.type?o.createElement("p",{key:t,style:{minHeight:"1lh"}},e.children.map((e,t)=>{if((0,a.SA)(e))return e.id?o.createElement(d,{userId:e.id,key:t}):null;if((0,a.zq)(e)){let n=(0,a.BY)(e.url)??e.url;return o.createElement(f,{href:n,key:t},e.text??e.url)}let n=e.text;return e.bold&&(n=o.createElement("strong",{key:t},n)),e.italic&&(n=o.createElement("em",{key:t},n)),e.strikethrough&&(n=o.createElement("s",{key:t},n)),e.code&&(n=o.createElement("code",{key:t},n)),o.createElement("span",{key:t},n)})):null)):null})},5746:function(e,t,n){"use strict";function r(e){return!("type"in e)&&"text"in e&&"string"==typeof e.text}function o(e){return"type"in e&&"mention"===e.type}function i(e){return"type"in e&&"link"===e.type}function a(e){return e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("www.")?"https://"+e:void 0}n.d(t,{BY:function(){return a},SA:function(){return o},y3:function(){return r},zq:function(){return i}})},8264:function(e,t,n){"use strict";n.d(t,{BZ:function(){return u},IA:function(){return i},Y8:function(){return f},_O:function(){return s},b3:function(){return c},cR:function(){return a},wi:function(){return l},xc:function(){return m},yr:function(){return d}});var r=n(416),o=n(2265);let i=(0,o.createContext)(null),a=(0,o.createContext)(null),l=(0,o.createContext)(null),s=(0,o.createContext)(null);function u(){let e=(0,o.useContext)(a);return(0,r.nn)(e,"Composer.Form is missing from the React tree.")}function c(){return(0,o.useContext)(l)}function d(){let e=c();return(0,r.nn)(e,"Composer.Form is missing from the React tree.")}function f(e="useComposerSuggestionsContext"){let t=(0,o.useContext)(s);return(0,r.nn)(t,`${e} can\u2019t be used outside of Composer.Editor.`)}function m(){let e=(0,o.useContext)(i);return(0,r.nn)(e,"Composer.Form is missing from the React tree.")}},1399:function(e,t,n){"use strict";let r;n.d(t,{m5:function(){return eK},ML:function(){return eV},l0:function(){return eU},rU:function(){return eB},pf:function(){return eL},k4:function(){return eY},Db:function(){return eF},Yi:function(){return ez},m$:function(){return eH}});var o,i=n(7859),a=n(32),l=n(1627),s=n(7053),u=n(2265),c=n(6759),d=n(7975),f=e=>(0,d.P)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||c.OX.isOperationList(e.redos[0].operations))&&(0===e.undos.length||c.OX.isOperationList(e.undos[0].operations));new WeakMap;var m=new WeakMap,p=new WeakMap,h={isHistoryEditor:e=>f(e.history)&&c.ML.isEditor(e),isMerging:e=>p.get(e),isSaving:e=>m.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=h.isMerging(e);p.set(e,!1),t(),p.set(e,n)},withoutSaving(e,t){var n=h.isSaving(e);m.set(e,!1),t(),m.set(e,n)}},g=e=>{var{apply:t}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:t}=e,{redos:n}=t;if(n.length>0){var r=n[n.length-1];r.selectionBefore&&c.YR.setSelection(e,r.selectionBefore),h.withoutSaving(e,()=>{c.ML.withoutNormalizing(e,()=>{for(var t of r.operations)e.apply(t)})}),t.redos.pop(),e.writeHistory("undos",r)}},e.undo=()=>{var{history:t}=e,{undos:n}=t;if(n.length>0){var r=n[n.length-1];h.withoutSaving(e,()=>{c.ML.withoutNormalizing(e,()=>{for(var t of r.operations.map(c.OX.inverse).reverse())e.apply(t);r.selectionBefore&&c.YR.setSelection(e,r.selectionBefore)})}),e.writeHistory("redos",r),t.undos.pop()}},e.apply=n=>{var{operations:r,history:o}=e,{undos:i}=o,a=i[i.length-1],l=a&&a.operations[a.operations.length-1],s=h.isSaving(e),u=h.isMerging(e);if(null==s&&(s=b(n)),s){if(null==u&&(u=null!=a&&(0!==r.length||v(n,l))),a&&u)a.operations.push(n);else{var c={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",c)}for(;i.length>100;)i.shift();o.redos=[]}t(n)},e.writeHistory=(t,n)=>{e.history[t].push(n)},e},v=(e,t)=>!!(t&&"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&c.y$.equals(e.path,t.path)||t&&"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&c.y$.equals(e.path,t.path)),b=(e,t)=>"set_selection"!==e.type,y=n(8256),E=n(774),x=n(7954),w=n(1212),C=n(3322),T=n(9888),I=n(4228),S=n(7689);let R=[{type:"mark",mark:"bold",character:"*"},{type:"mark",mark:"italic",character:"_"},{type:"mark",mark:"strikethrough",character:"~"},{type:"mark",mark:"code",character:"`"}],k=R.filter(e=>"mark"===e.type).map(e=>e.character);var M=n(8747),N=n(9696),O=n(6916);function A(e,t){for(let n of t)if((0,O.G)(n)){if(!(0,I.k)(n.text))return!1}else if("paragraph"===n.type){if(n.children.length>1||!((0,O.G)(n.children[0])&&(0,I.k)(n.children[0].text)))return!1}else if(!c.ML.isEmpty(e,n))return!1;return!0}function _(e,t){!function(e,t){let n=c.ML.marks(e);return!!n&&!0===n[t]}(e,t)?c.ML.addMark(e,t,!0):c.ML.removeMark(e,t)}function D(e){let t=c.ML.marks(e);if(t)for(let n in t)c.ML.removeMark(e,n)}function P(e,t){(0,S.d)(e.selection)&&Object.keys(c.ML.marks(e)??{}).length>0&&!("start"===t?(0,C.F)(e,e.selection):(0,C.z)(e,e.selection))&&D(e)}var j=n(8984);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t,n){var r;return r=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===L(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=new WeakMap,z=new WeakMap;class H{}class W extends H{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),B(this,"offset",void 0),B(this,"path",void 0);var{offset:t,path:n}=e;this.offset=t,this.path=n}}class V extends H{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),B(this,"offset",void 0),B(this,"path",void 0);var{offset:t,path:n}=e;this.offset=t,this.path=n}}var U=(e,t)=>{var n=e.text.length;F.set(e,[n,t])},Y=e=>F.get(e),K=(e,t)=>{var n=e.text.length;z.set(e,[n,t])},$=e=>z.get(e);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q=new WeakSet,Z=e=>{var t=[],n=e=>{if(null!=e){var r=t[t.length-1];if("string"==typeof e){var o={text:e};Q.add(o),e=o}if(c.xv.isText(e)){var i=e;c.xv.isText(r)&&Q.has(r)&&Q.has(i)&&c.xv.equals(r,i,{loose:!0})?r.text+=i.text:t.push(i)}else if(c.W_.isElement(e))t.push(e);else if(e instanceof H){var a=t[t.length-1];c.xv.isText(a)||(n(""),a=t[t.length-1]),e instanceof W?U(a,e):e instanceof V&&K(a,e)}else throw Error("Unexpected hyperscript child object: ".concat(e))}};for(var r of e.flat(1/0))n(r);return t};function X(e,t,n){return q(q({},t),{},{children:Z(n)})}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et={anchor:function(e,t,n){return new W(t)},cursor:function(e,t,n){return[new W(t),new V(t)]},editor:(r=c.Jh,(e,t,n)=>{var o,i=[];for(var a of n)c.e6.isRange(a)?o=a:i.push(a);var l=Z(i),s={},u=r();for(var[d,f]of(Object.assign(u,t),u.children=l,c.NB.texts(u))){var m=Y(d),p=$(d);if(null!=m){var[h]=m;s.anchor={path:f,offset:h}}if(null!=p){var[g]=p;s.focus={path:f,offset:g}}}if(s.anchor&&!s.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!s.anchor&&s.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=o?u.selection=o:c.e6.isRange(s)&&(u.selection=s),u}),element:X,focus:function(e,t,n){return new V(t)},fragment:function(e,t,n){return Z(n)},selection:function(e,t,n){var r=n.find(e=>e instanceof W),o=n.find(e=>e instanceof V);if(!r||null==r.offset||null==r.path)throw Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return q({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,n){var r=Z(n);if(r.length>1)throw Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=r;if(null==o&&(o={text:""}),!c.xv.isText(o))throw Error("\n    The <text> hyperscript tag can only contain text content as children.");return Q.delete(o),Object.assign(o,t),o}},en=e=>function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=e[t];if(!a)throw Error("No hyperscript creator found for tag: <".concat(t,">"));return null==n&&(n={}),(0,d.P)(n)||(o=[n].concat(o),n={}),a(t,n,o=o.filter(e=>!!e).flat())},er=e=>{var t={};for(var n in e)!function(){var r=e[n];if("object"!=typeof r)throw Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>X("element",ee(ee({},r),t),n)}();return t},eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,n=er(t);return en(ee(ee(ee({},et),n),e.creators))}(),ei=n(2196);let ea=()=>({type:"paragraph"}),el={A:e=>{let t=e.getAttribute("href"),n=e.innerText;return{type:t&&function(e,t){try{let n=new URL(e),r=new URL(t);return n.origin===r.origin&&n.pathname===r.pathname}catch{return!1}}(t,n)?"auto-link":"custom-link",url:t??""}},P:ea,BLOCKQUOTE:ea,H1:ea,H2:ea,H3:ea,H4:ea,H5:ea,H6:ea,LI:ea},es={CODE:()=>({code:!0}),DEL:()=>({strikethrough:!0}),EM:()=>({italic:!0}),I:()=>({italic:!0}),S:()=>({strikethrough:!0}),STRONG:()=>({bold:!0})};var eu=n(2216),ec=n(416),ed=n(4887);let ef=ed["flushSync".toString()]??function(e){return e()};var em=n(9731);let ep=(0,u.createContext)(null);function eh(){let e=(0,u.useContext)(ep);return(0,ec.nn)(e,"Persist is missing from the React tree.")}function eg(e){let{children:t}=e,[n,r]=(0,u.useState)(!0),o=(0,u.useRef)(null),i=function(e){let t=Array.isArray(e)?u.Children.only(e):e;return(0,u.isValidElement)(t)?t:void 0}(t),a=(0,u.useCallback)(()=>{ef(()=>r(!1))},[]);return(0,em.b)(()=>{i&&(r(!0),o.current=i)},[i]),u.createElement(ep.Provider,{value:[!!i,a]},null!=i?i:n?o.current:null)}let ev=(0,u.forwardRef)((e,t)=>{let{container:n=null===(o=document)||void 0===o?void 0:o.body,asChild:r,...i}=e,a=r?s.g7:"div";return n?(0,ed.createPortal)(u.createElement(a,{"data-liveblocks-portal":"",...i,ref:t}),n):null}),eb=!1,ey=0;function eE(){return++ey}let ex=u["useId".toString()]??function(){let[e,t]=(0,u.useState)(eb?eE:null);return(0,em.b)(()=>{null===e&&t(eE())},[e]),(0,u.useEffect)(()=>{eb||(eb=!0)},[]),String(e)??void 0};function ew(e,t,n){return Math.min(Math.max(e,t),n)}function eC(e,t,n){let r=n-t;return r>0?((e-t)%r+r)%r+t:0}let eT={wrap:!0};var eI=n(2013),eS=n(8536),eR=n(5746),ek=n(8264),eM=n(9573);let eN={version:1,content:[{type:"paragraph",children:[{text:""}]}]};function eO(e){let{Mention:t,attributes:n,children:r,element:o}=e,i=(0,y.vt)();return u.createElement("span",{...n},o.id?u.createElement(t,{userId:o.id,isSelected:i}):null,r)}function eA(e){let{Link:t,attributes:n,element:r,children:o}=e,i=(0,u.useMemo)(()=>{var e;return null!==(e=(0,eR.BY)(r.url))&&void 0!==e?e:r.url},[r.url]);return u.createElement("span",{...n},u.createElement(t,{href:i},o))}function e_(e){let{id:t,itemId:n,userIds:r,selectedUserId:o,setSelectedUserId:l,mentionDraft:s,onItemSelect:c,position:d="top",dir:f,MentionSuggestions:m}=e,p=(0,y._7)(),{isFocused:h}=(0,ek.xc)(),[g,v]=(0,u.useState)(null),[b,w]=(0,u.useState)(),C=(0,u.useCallback)(v,[v]),{portalContainer:T}=(0,E.T)(),I=(0,u.useMemo)(()=>{let e={padding:x.rV};return{strategy:"fixed",placement:(0,eM.a_)(d,f),middleware:[(0,i.RR)({...e,crossAxis:!1}),(0,i.Cp)(e),(0,i.uY)({...e,limiter:(0,i.dr)()}),(0,i.dp)({...e,apply(e){let{availableWidth:t,availableHeight:n,elements:r}=e;r.floating.style.setProperty("--lb-composer-suggestions-available-width","".concat(t,"px")),r.floating.style.setProperty("--lb-composer-suggestions-available-height","".concat(n,"px"))}})],whileElementsMounted:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.Me)(...t,{animationFrame:!0})}}},[d,f]),{refs:{setReference:S,setFloating:R},strategy:k,isPositioned:M,placement:N,x:O,y:A}=(0,i.YF)(I);return(0,em.b)(()=>{g&&w(window.getComputedStyle(g).zIndex)},[g]),(0,em.b)(()=>{if(!s)return;let e=function e(t,n){try{return y.F3.toDOMRange(t,n)}catch(r){return e(t,{anchor:n.anchor,focus:n.anchor})}}(p,s.range);e&&S({getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects()})},[S,p,s]),u.createElement(eg,null,(null==s?void 0:s.range)&&h&&r?u.createElement(ek._O.Provider,{value:{id:t,itemId:n,selectedValue:o,setSelectedValue:l,onItemSelect:c,placement:N,dir:f,ref:C}},u.createElement(ev,{ref:R,container:T,style:{position:k,top:0,left:0,transform:M?"translate3d(".concat(Math.round(O),"px, ").concat(Math.round(A),"px, 0)"):"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:b}},u.createElement(m,{userIds:r,selectedUserId:o}))):null)}function eD(e){let{Mention:t,Link:n,...r}=e,{attributes:o,children:i,element:a}=r;switch(a.type){case"mention":return u.createElement(eO,{Mention:t,...r});case"auto-link":case"custom-link":return u.createElement(eA,{Link:n,...r});case"paragraph":return u.createElement("p",{...o,style:{position:"relative"}},i);default:return null}}function eP(e){let{attributes:t,children:n,leaf:r}=e;return r.bold&&(n=u.createElement("strong",null,n)),r.italic&&(n=u.createElement("em",null,n)),r.strikethrough&&(n=u.createElement("s",null,n)),r.code&&(n=u.createElement("code",null,n)),u.createElement("span",{...t},n)}function ej(e){let{attributes:t,children:n}=e,{opacity:r,...o}=t.style;return u.createElement("span",{...t,style:o,"data-placeholder":""},n)}let eL=(0,u.forwardRef)((e,t)=>{let{children:n,asChild:r,...o}=e,i=r?s.g7:"span",a=(0,y.vt)();return u.createElement(i,{"data-selected":a||void 0,...o,ref:t},n)}),eB=(0,u.forwardRef)((e,t)=>{let{children:n,asChild:r,...o}=e,i=r?s.g7:"a";return u.createElement(i,{target:"_blank",rel:"noopener noreferrer nofollow",...o,ref:t},n)}),eF=(0,u.forwardRef)((e,t)=>{let{children:n,style:r,asChild:o,...i}=e,[a]=eh(),l=(0,u.useRef)(null),{ref:c,placement:d,dir:f}=(0,ek.Y8)("ComposerSuggestions"),m=(0,eS.v)(t,c,l),[p,h]=(0,u.useMemo)(()=>(0,eM.P5)(d),[d]),g=o?s.g7:"div";return!function(e){let[t,n]=eh(),r=(0,u.useRef)(null),o=(0,u.useRef)(null);(0,em.b)(()=>{let t=e.current;if(!t)return;let i=e=>{e.animationName===o.current&&n(),r.current=e.animationName};return t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}},[e,n]),(0,em.b)(()=>{let i;let a=e.current;if(a)return t||(i=requestAnimationFrame(()=>{let e=getComputedStyle(a);o.current=e.animationName,("none"===e.animationName||e.animationName===r.current||"none"===e.display)&&n()})),()=>{cancelAnimationFrame(i)}},[t,e,n])}(l),u.createElement(g,{dir:f,...i,"data-state":a?"open":"closed","data-side":p,"data-align":h,style:{display:"flex",flexDirection:"column",maxHeight:"var(--lb-composer-suggestions-available-height)",overflowY:"auto",...r},ref:m},n)}),ez=(0,u.forwardRef)((e,t)=>{let{children:n,asChild:r,...o}=e,{id:i}=(0,ek.Y8)("ComposerSuggestionsList"),a=r?s.g7:"ul";return u.createElement(a,{role:"listbox",id:i,"aria-label":"Suggestions list",...o,ref:t},n)}),eH=(0,u.forwardRef)((e,t)=>{let{value:n,children:r,onPointerMove:o,onPointerDown:i,asChild:a,...l}=e,c=(0,u.useRef)(null),d=(0,eS.v)(t,c),{selectedValue:f,setSelectedValue:m,itemId:p,onItemSelect:h}=(0,ek.Y8)("ComposerSuggestionsListItem"),g=a?s.g7:"li",v=(0,u.useMemo)(()=>f===n,[f,n]),b=(0,u.useMemo)(()=>p(n),[p,n]);(0,u.useEffect)(()=>{(null==c?void 0:c.current)&&v&&c.current.scrollIntoView({block:"nearest"})},[v]);let y=(0,u.useCallback)(e=>{null==o||o(e),e.isDefaultPrevented()||m(n)},[o,m,n]),E=(0,u.useCallback)(e=>{if(null==i||i(e),!e.isDefaultPrevented()){let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(h(n),e.preventDefault())}},[h,i,n]);return u.createElement(g,{role:"option",id:b,"data-selected":v||void 0,"aria-selected":v||void 0,onPointerMove:y,onPointerDown:E,...l,ref:d},r)}),eW={Link:e=>{let{href:t,children:n}=e;return u.createElement(eB,{href:t},n)},Mention:e=>{let{userId:t}=e;return u.createElement(eL,null,j.$S,t)},MentionSuggestions:e=>{let{userIds:t}=e;return t.length>0?u.createElement(eF,null,u.createElement(ez,null,t.map(e=>u.createElement(eH,{key:e,value:e},e)))):null}},eV=(0,u.forwardRef)((e,t)=>{var n;let{defaultValue:r,onKeyDown:o,onFocus:i,onBlur:a,disabled:l,autoFocus:s,components:d,dir:f,...m}=e,{editor:p,validate:h,setFocused:g}=(0,ek.BZ)(),{submit:v,focus:b,select:E,canSubmit:x,isDisabled:C,isFocused:T}=(0,ek.xc)(),I=C||l,S=(0,eI.T)(null!=r?r:eN),R=(0,u.useMemo)(()=>(0,eM.XM)(S),[S]),{Link:k,Mention:M,MentionSuggestions:N}=(0,u.useMemo)(()=>({...eW,...d}),[d]),[O,A]=(0,u.useState)(),D=(0,w.q)(null==O?void 0:O.text),[L,B,F,z]=function(e,t,n){let{wrap:r}=(0,u.useMemo)(()=>({...eT}),[void 0]),o=(0,u.useMemo)(()=>r?eC:ew,[r]),[i,a]=(0,u.useState)(0);return(0,u.useEffect)(()=>{a(e=>ew(e,0,Math.max(t-1,0)))},[t]),[i,(0,u.useCallback)(()=>{a(e=>o(e-1,0,Math.max(t,0)))},[t,o]),(0,u.useCallback)(()=>{a(e=>o(e+1,0,Math.max(t,0)))},[t,o]),a]}(0,null!==(n=null==D?void 0:D.length)&&void 0!==n?n:0),H=ex(),W=(0,u.useMemo)(()=>"liveblocks-suggestions-list-".concat(H),[H]),V=(0,u.useCallback)(e=>e?"liveblocks-suggestions-list-item-".concat(H,"-").concat(e):void 0,[H]),U=(0,u.useCallback)(e=>u.createElement(eD,{Mention:M,Link:k,...e}),[k,M]),Y=(0,u.useCallback)(e=>{h(e),A((0,j.CQ)(p))},[p,h]),K=(0,u.useCallback)(e=>{O&&e&&(c.YR.select(p,O.range),(0,j.lZ)(p,e),A(void 0),z(0))},[p,O,z]),$=(0,u.useCallback)(e=>{null==o||o(e),!e.isDefaultPrevented()&&((0,eu.o)(e,"ArrowLeft")&&P(p,"start"),(0,eu.o)(e,"ArrowRight")&&P(p,"end"),O&&(null==D?void 0:D.length)?((0,eu.o)(e,"ArrowDown")&&(e.preventDefault(),F()),(0,eu.o)(e,"ArrowUp")&&(e.preventDefault(),B()),((0,eu.o)(e,"Enter")||(0,eu.o)(e,"Tab"))&&(e.preventDefault(),K(null==D?void 0:D[L])),(0,eu.o)(e,"Escape")&&(e.preventDefault(),A(void 0),z(0))):((0,eu.o)(e,"Escape")&&(e.preventDefault(),y.F3.blur(p)),(0,eu.o)(e,"Enter",{shift:!1})&&(e.preventDefault(),x&&v()),(0,eu.o)(e,"Enter",{shift:!0})&&(e.preventDefault(),p.insertBreak()),(0,eu.o)(e,"b",{mod:!0})&&(e.preventDefault(),_(p,"bold")),(0,eu.o)(e,"i",{mod:!0})&&(e.preventDefault(),_(p,"italic")),(0,eu.o)(e,"s",{mod:!0,shift:!0})&&(e.preventDefault(),_(p,"strikethrough")),(0,eu.o)(e,"e",{mod:!0})&&(e.preventDefault(),_(p,"code"))))},[K,p,x,O,D,L,o,F,B,z,v]),G=(0,u.useCallback)(e=>{null==i||i(e),e.isDefaultPrevented()||g(!0)},[i,g]),q=(0,u.useCallback)(e=>{null==a||a(e),e.isDefaultPrevented()||g(!1)},[a,g]),Q=(0,u.useMemo)(()=>null==D?void 0:D[L],[L,D]),Z=(0,u.useCallback)(e=>{let t=null==D?void 0:D.indexOf(e);void 0!==t&&t>=0&&z(t)},[z,D]),X=(0,u.useMemo)(()=>O?{role:"combobox","aria-autocomplete":"list","aria-expanded":!0,"aria-controls":W,"aria-activedescendant":V(Q)}:{},[O,W,V,Q]);return(0,u.useImperativeHandle)(t,()=>y.F3.toDOMNode(p,p),[p]),(0,u.useEffect)(()=>{s&&b()},[s,p,b]),(0,u.useEffect)(()=>{T&&null===p.selection&&E()},[p,E,T]),u.createElement(y.mH,{editor:p,initialValue:R,onChange:Y},u.createElement(y.CX,{dir:f,enterKeyHint:O?"enter":"send",autoCapitalize:"sentences","aria-label":"Composer editor","data-focused":T||void 0,"data-disabled":I||void 0,...X,...m,readOnly:I,disabled:I,onKeyDown:$,onFocus:G,onBlur:q,renderElement:U,renderLeaf:eP,renderPlaceholder:ej}),u.createElement(e_,{dir:f,mentionDraft:O,selectedUserId:Q,setSelectedUserId:Z,userIds:D,id:W,itemId:V,onItemSelect:K,MentionSuggestions:N}))}),eU=(0,u.forwardRef)((e,t)=>{let{children:n,onSubmit:r,onComposerSubmit:o,defaultAttachments:i=[],pasteFilesAsAttachments:a,disabled:d,asChild:f,...m}=e,p=f?s.g7:"form",h=(0,l.kB)(),[v,b]=(0,u.useState)(!0),[E,x]=(0,u.useState)(!1),[w,O]=(0,u.useState)(!1),{attachments:_,isUploadingAttachments:P,addAttachments:L,removeAttachment:B,clearAttachments:F}=(0,eM.Y1)(i,{maxFileSize:1073741824}),z=_.length,H=z>=10,W=(0,u.useMemo)(()=>{var e;let t=h.getSelf(),n=null===(e=null==t?void 0:t.canComment)||void 0===e||e;return E||d||!n},[E,d,h]),V=(0,u.useMemo)(()=>!v&&!P,[v,P]),U=(0,u.useRef)(null),Y=(0,eS.v)(t,U),K=(0,u.useRef)(null),$=(0,u.useCallback)(e=>{if(!e.length)return;let t=Math.max(0,10-z);e.splice(t),L(e.map(e=>h.prepareAttachment(e)))},[L,10,z,h]),G=(0,u.useRef)($);(0,u.useEffect)(()=>{G.current=$},[$]);let q=(0,u.useCallback)(e=>{G.current(e)},[]),Q=(0,eI.T)(()=>(function(e){let{createAttachments:t,pasteFilesAsAttachments:n}=e;return(0,j.r)((0,N.P)((0,M.F)(function(e){let{insertText:t}=e;return e.insertText=(n,r)=>{if(!(0,S.d)(e.selection))return t(n,r);let o=!0;for(let t of R)"mark"===t.type&&function(e,t,n){if(t!==n.character)return!1;let r=(0,T.j)(e,e.selection,[n.character]);if(!r||c.e6.isCollapsed(r))return!1;let o=(0,C.F)(e,r);if(!o||o.text!==n.character)return!1;let i=(0,C.F)(e,o.range);if(i&&!k.includes(i.text)&&!(0,I.k)(i.text))return!1;let a=c.ML.string(e,r);return a.trim()===a&&(c.YR.select(e,r),e.addMark(n.mark,!0),c.YR.collapse(e,{edge:"end"}),e.removeMark(n.mark),c.YR.delete(e,{at:o.range}),!0)}(e,n,t)&&(o=!1);o&&t(n,r)},e}(function(e){let{onChange:t}=e;return e.onChange=n=>{A(e,e.children)&&D(e),t(n)},e}(function(e,{createAttachments:t,pasteFilesAsAttachments:n}){let{insertData:r}=e;return e.insertData=o=>{if(o.types.includes("Files")&&n){let e=(0,ei.b)(o);if(e.length>0){t(e);return}}if(o.types.includes("text/html")){let t=o.getData("text/html"),n=function e(t){if(3===t.nodeType)return t.textContent;if(1!==t.nodeType)return null;if("BR"===t.nodeName)return"\n";let n=Array.from(t.childNodes).map(e).flat();if(("UL"===t.nodeName||"OL"===t.nodeName)&&(n=(function e(t){let n=[];return"LI"===t.nodeName&&n.push(t),t.childNodes.forEach(t=>{1===t.nodeType&&n.push(...e(t))}),n})(t).map(t=>e(t)).flat()),0===n.length&&(n=[{text:""}]),"BODY"===t.nodeName)return eo("fragment",{},n);if(el[t.nodeName])return eo("element",el[t.nodeName](t),n);if(es[t.nodeName]){let e=es[t.nodeName](t);return n.map(t=>eo("text",e,t))}return n}(new DOMParser().parseFromString(t,"text/html").body);if(null!==n&&Array.isArray(n)){c.YR.insertFragment(e,n);return}}r(o)},e}(g((0,y.BU)((0,c.Jh)())),{createAttachments:t,pasteFilesAsAttachments:n}))))))})({createAttachments:q,pasteFilesAsAttachments:a})),Z=(0,u.useCallback)(e=>{b(A(Q,e))},[Q]),X=(0,u.useCallback)(()=>{V&&requestAnimationFrame(()=>{U.current&&function(e,t){if("function"==typeof e.requestSubmit)return e.requestSubmit(t);t?t.click():((t=document.createElement("input")).type="submit",t.hidden=!0,e.appendChild(t),t.click(),e.removeChild(t))}(U.current)})},[V]),J=(0,u.useCallback)(()=>{c.YR.delete(Q,{at:{anchor:c.ML.start(Q,[]),focus:c.ML.end(Q,[])}})},[Q]),ee=(0,u.useCallback)(()=>{c.YR.select(Q,{anchor:c.ML.end(Q,[]),focus:c.ML.end(Q,[])})},[Q]),et=(0,u.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];y.F3.isFocused(Q)||(c.YR.select(Q,e||!Q.selection?c.ML.end(Q,[]):Q.selection),y.F3.focus(Q))},[Q]),en=(0,u.useCallback)(()=>{y.F3.blur(Q)},[Q]),er=(0,u.useCallback)(()=>{et(),(0,j.ji)(Q)},[Q,et]),ea=(0,u.useCallback)(e=>{et(!1),(0,c.Om)(Q,e)},[Q,et]),eu=(0,u.useCallback)(()=>{K.current&&K.current.click()},[]),ec=(0,u.useCallback)(e=>{e.target.files&&($(Array.from(e.target.files)),e.target.value="")},[$]),ed=(0,u.useCallback)(()=>{J(),en(),F(),x(!1)},[en,J,F]),ef=(0,u.useCallback)(e=>{if(A(Q,Q.children)||(null==r||r(e),!o||e.isDefaultPrevented())){e.preventDefault();return}let t=o({body:(0,eM.z7)(Q.children),attachments:_.filter(e=>"attachment"===e.type||"localAttachment"===e.type&&"uploaded"===e.status).map(e=>({id:e.id,type:"attachment",mimeType:e.mimeType,size:e.size,name:e.name}))},e);e.preventDefault(),t?(x(!0),t.then(ed)):ed()},[Q,_,o,r,ed]);return u.createElement(ek.cR.Provider,{value:{editor:Q,validate:Z,setFocused:O}},u.createElement(ek.wi.Provider,{value:{createAttachments:$,isUploadingAttachments:P,hasMaxAttachments:H,maxAttachments:10,maxAttachmentSize:1073741824}},u.createElement(ek.IA.Provider,{value:{isDisabled:W,isFocused:w,isEmpty:v,canSubmit:V,submit:X,clear:J,select:ee,focus:et,blur:en,createMention:er,insertText:ea,attachments:_,attachFiles:eu,removeAttachment:B}},u.createElement(p,{...m,onSubmit:ef,ref:Y},u.createElement("input",{type:"file",multiple:!0,ref:K,onChange:ec,tabIndex:-1,style:{display:"none"}}),u.createElement(s.A4,null,n)))))}),eY=(0,u.forwardRef)((e,t)=>{let{children:n,disabled:r,asChild:o,...i}=e,a=o?s.g7:"button",{canSubmit:l,isDisabled:c}=(0,ek.xc)();return u.createElement(a,{type:"submit",...i,ref:t,disabled:c||r||!l},n)}),eK=(0,u.forwardRef)((e,t)=>{let{children:n,onClick:r,disabled:o,asChild:i,...a}=e,l=i?s.g7:"button",{hasMaxAttachments:c}=(0,ek.yr)(),{isDisabled:d,attachFiles:f}=(0,ek.xc)(),m=(0,u.useCallback)(e=>{null==r||r(e),e.isDefaultPrevented()||f()},[f,r]);return u.createElement(l,{type:"button",...a,onClick:m,ref:t,disabled:d||c||o},n)})},9573:function(e,t,n){"use strict";n.d(t,{KI:function(){return w},P5:function(){return x},XM:function(){return y},Y1:function(){return I},YZ:function(){return C},a_:function(){return E},z7:function(){return v}});var r=n(416),o=n(1627),i=n(2265),a=n(2558),l=n(8747),s=n(9696),u=n(8984),c=n(6916),d=n(2196),f=n(8e3),m=n(2013),p=n(463),h=n(5746),g=n(8264);function v(e){return{version:1,content:e.map(e=>{if("paragraph"!==e.type)return null;let t=e.children.map(e=>(0,u.hb)(e)?{type:"mention",id:e.id}:(0,l.k)(e)?{type:"link",url:e.url}:(0,s.e)(e)?{type:"link",url:e.url,text:e.children.map(e=>e.text).join("")}:(0,c.G)(e)?e:null).filter(f.G);return{...e,children:t}}).filter(f.G)}}let b=[];function y(e){return e&&e?.content?e.content.map(e=>{if("paragraph"!==e.type)return null;let t=e.children.map(e=>(0,h.SA)(e)?{type:"mention",id:e.id,children:[{text:""}]}:(0,h.zq)(e)?e.text?{type:"custom-link",url:e.url,children:[{text:e.text}]}:{type:"auto-link",url:e.url,children:[{text:e.url}]}:(0,h.y3)(e)?e:null).filter(f.G);return{...e,children:t}}).filter(f.G):b}function E(e,t="ltr"){return`${e}-${"rtl"===t?"end":"start"}`}function x(e){let[t,n="center"]=e.split("-");return[t,n]}function w({onDragEnter:e,onDragLeave:t,onDragOver:n,onDrop:r,disabled:o}){let{isDisabled:a}=(0,g.xc)(),l=a||o,{createAttachments:s}=(0,g.yr)(),[u,c]=(0,i.useState)(!1),f=(0,p.d)(u),m=(0,i.useCallback)(t=>{e?.(t),!(f.current||l||t.isDefaultPrevented())&&t.dataTransfer.types.includes("Files")&&(t.preventDefault(),t.stopPropagation(),c(!0))},[e,l]);return[u,{onDragEnter:m,onDragLeave:(0,i.useCallback)(e=>{t?.(e),!f.current||l||e.isDefaultPrevented()||(e.relatedTarget?e.relatedTarget===e.currentTarget||e.currentTarget.contains(e.relatedTarget):e.currentTarget!==e.target)||(e.preventDefault(),e.stopPropagation(),c(!1))},[t,l]),onDragOver:(0,i.useCallback)(e=>{n?.(e),l||e.isDefaultPrevented()||(e.preventDefault(),e.stopPropagation())},[n,l]),onDrop:(0,i.useCallback)(e=>{r?.(e),!f.current||l||e.isDefaultPrevented()||(e.preventDefault(),e.stopPropagation(),c(!1),s((0,d.b)(e.dataTransfer)))},[r,l,s]),"data-drop":u?"":void 0,"data-disabled":l?"":void 0}]}class C extends Error{constructor(e,t="client"){super(e),this.name="AttachmentTooLargeError",this.origin=t}}function T(e){e.preventDefault()}function I(e,t){let n=(0,o.kB)(),l=(0,m.T)(e),s=(0,m.T)(()=>(function(e,t){let n=new Map,o=new Map,i=(0,r.Zb)(),a=null;function l(){a=null,i.notify()}return{addAttachments:function(i){if(0===i.length)return;let a=i.filter(e=>!n.has(e.id)),s=[];for(let e of a)if("localAttachment"===e.type){if(e.file.size>t.maxFileSize){n.set(e.id,{...e,status:"error",error:new C("File is too large.","client")});continue}n.set(e.id,{...e,status:"uploading"}),s.push(e)}else n.set(e.id,e);for(let t of(a.length>0&&l(),s))!function(t){let i=new AbortController;o.set(t.id,i),e.uploadAttachment(t,{signal:i.signal}).then(()=>{n.set(t.id,{...t,status:"uploaded"}),l()}).catch(e=>{e instanceof Error&&"AbortError"!==e.name&&"TimeoutError"!==e.name&&(n.set(t.id,{...t,status:"error",error:e instanceof r.iz&&413===e.status?new C("File is too large.","server"):e}),l())})}(t)},removeAttachment:function(e){let t=o.get(e);t?.abort(),n.delete(e),o.delete(e),l()},getSnapshot:function(){return a||(a=Array.from(n.values())),a},subscribe:i.subscribe,clear:function(){o.forEach(e=>e.abort()),o.clear(),n.clear(),l()}}})(n,t));(0,i.useEffect)(()=>{s.addAttachments(l)},[l,s]),(0,i.useEffect)(()=>()=>{s.clear()},[s]);let u=(0,a.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getSnapshot),c=(0,i.useMemo)(()=>u.some(e=>"localAttachment"===e.type&&"uploading"===e.status),[u]);return(0,i.useEffect)(()=>{if(c)return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[c]),{attachments:u,isUploadingAttachments:c,addAttachments:s.addAttachments,removeAttachment:s.removeAttachment,clearAttachments:s.clear}}},7412:function(e,t,n){"use strict";n.d(t,{E:function(){return d}});var r=n(7053),o=n(2265),i=n(3243),a=n(2133);let l={seconds:60,minutes:60,hours:24,days:7,weeks:4.34524,months:12};function s(e,t){let n=(0,a.dq)(t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});return(0,i.k)(n.format(e))}let u=["br","fr","nb","nn","no","ro","sv"];function c(e,t){return e.getTime()>Date.now()-2592e5?function(e,t){let n;n=t||(0,a.J6)().resolvedOptions().locale;let r=u.some(e=>n===e||n.startsWith("".concat(e,"-"))),o=(0,a.J6)(n,{style:r?"short":"narrow",numeric:"auto"}),s=(e.getTime()-Date.now())/1e3;if(s>-l.seconds&&s<l.seconds)return o.format(0,"seconds");for(let[e,t]of Object.entries(l)){if(Math.abs(s)<t)return o.format(Math.round(s),e);s/=t}return(0,i.k)(o.format(Math.round(s),"years"))}(e,t):function(e,t){let n=(0,a.dq)(t,{month:"short",day:"numeric"});return(0,i.k)(n.format(e))}(e,t)}let d=(0,o.forwardRef)((e,t)=>{let{date:n,locale:i,children:a=c,title:l=s,dateTime:u,interval:d=3e4,asChild:f,...m}=e,p=f?r.g7:"time",[h,g]=function(){let[e,t]=(0,o.useReducer)(e=>e+1,0);return[t,e]}(),v=(0,o.useMemo)(()=>new Date(n),[n]),b=(0,o.useMemo)(()=>v.toISOString(),[v]),y=(0,o.useMemo)(()=>"function"==typeof l?l(v,i):l,[l,v,g]),E=(0,o.useMemo)(()=>"function"==typeof a?a(v,i):a,[a,v,g]);return!function(e,t){let n=(0,o.useRef)(e);(0,o.useEffect)(()=>{n.current=e},[e]),(0,o.useEffect)(()=>{if(!t&&0!==t)return;let e=setInterval(()=>{!1===n.current()&&clearInterval(e)},t);return()=>clearInterval(e)},[t])}(h,d),o.createElement(p,{...m,ref:t,dateTime:null!=u?u:b,title:y},E)})},1969:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(7053),o=n(2265),i=n(7954);let a=(0,o.forwardRef)(({emoji:e,style:t,asChild:n,...a},l)=>{let s=n?r.g7:"span";return o.createElement(s,{role:"img","aria-label":e,"data-emoji":e,style:{...t,fontFamily:i.rQ,display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",whiteSpace:"nowrap"},...a,ref:l},e)})},1212:function(e,t,n){"use strict";n.d(t,{d:function(){return u},q:function(){return s}});var r=n(416),o=n(1627),i=n(2265),a=n(2558);let l=new WeakMap;function s(e){let t=(0,o.m8)(),n=(0,o.kB)(),[a,s]=i.useState(),u=i.useRef();return i.useEffect(()=>{let o,i;let a=t[r.W_].resolveMentionSuggestions;if(void 0===e||!a)return;let c={text:e,roomId:n.id},d=(0,r.Pz)(c),f=!1,m=((i=l.get(t))||(i=new Map,l.set(t,i)),i),p=async()=>{try{u.current=performance.now();let e=await a(c);f||(s(e),m.set(d,e))}catch(e){console.error(e?.message)}};return m.has(d)?s(m.get(d)):!u.current||Math.abs(performance.now()-u.current)>500?p():o=window.setTimeout(()=>{p()},500),()=>{f=!0,window.clearTimeout(o)}},[t,n.id,e]),a}function u(){let e=(0,i.useContext)(o.RY);return null!==(0,i.useContext)(o.BU)?(0,o.f8)(e=>"string"==typeof e.id?e.id:null):null!==e?function(e){let t=e[r.W_].currentUserIdStore;return(0,a.useSyncExternalStore)(t.subscribe,t.get,t.get)}(e):void(0,r.OU)("LiveblocksProvider or RoomProvider are missing from the React tree.")}},8747:function(e,t,n){"use strict";n.d(t,{F:function(){return a},k:function(){return l}});var r=n(6759),o=n(6916),i=n(9696);function a(e){let{isInline:t,normalizeNode:n,deleteBackward:a}=e;return e.isInline=e=>"auto-link"===e.type||t(e),e.normalizeNode=t=>{let[a,s]=t;if(!(0,i.e)(a)){if((0,o.G)(a)){let t=r.NB.parent(e,s);if((0,i.e)(t))return;if(l(t)){if(g(e,[t,r.y$.parent(s)]),!(0,o.$)(a)){let t=Object.keys(a).filter(e=>"text"!==e);r.YR.unsetNodes(e,t,{at:s})}}else v(e,[a,s]),b(e,[a,s])}n(t)}},e.deleteBackward=t=>{a(t);let{selection:n}=e;if(!n||!r.e6.isCollapsed(n))return;let[o]=r.ML.nodes(e,{at:n,match:l,mode:"lowest"});o&&r.YR.unwrapNodes(e,{match:l})},e}function l(e){return r.W_.isElement(e)&&"auto-link"===e.type}let s=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9().@:%_+~#?&//=]*)/,u=/[.,;!?\s()]/,c=/^[.?][a-zA-Z0-9]+/,d=/[()]/;function f(e){return u.test(e)}function m(e){return f(e[e.length-1])}function p(e,t){let n=r.ML.previous(e,{at:t});return!n||(0,o.G)(n[0])&&(m(n[0].text)||""===n[0].text)}function h(e,t){let n=r.ML.next(e,{at:t});return!n||(0,o.G)(n[0])&&(f(n[0].text[0])||""===n[0].text)}let g=(e,t)=>{let[n,i]=t;for(let[t]of r.NB.children(e,i))if(!(0,o.G)(t)){r.YR.unwrapNodes(e,{at:i});return}let a=r.NB.string(n),l=s.exec(a);if(!l||l[0]!==a){r.YR.unwrapNodes(e,{at:i});return}if("."===a[a.length-1]||"?"===a[a.length-1]){r.YR.unwrapNodes(e,{at:i});let t=a.slice(0,a.length-1);r.YR.wrapNodes(e,{type:"auto-link",url:t,children:[]},{at:{anchor:{path:i,offset:0},focus:{path:i,offset:t.length}},split:!0});return}let u=function(e){if(!d.test(e))return e.length;let t=0,n=0;for(let r of e){if("("===r&&n++,")"===r&&--n<0)break;t++}return t}(a);if(u<a.length){r.YR.unwrapNodes(e,{at:i});let t=a.slice(0,u);r.YR.wrapNodes(e,{type:"auto-link",url:t,children:[]},{at:{anchor:{path:i,offset:0},focus:{path:i,offset:t.length}},split:!0});return}if(!p(e,i)||!h(e,i)){r.YR.unwrapNodes(e,{at:i});return}if(n.url!==a){r.YR.setNodes(e,{url:l[0]},{at:i});return}},v=(e,t)=>{let[n,o]=t,i=s.exec(n.text);if(!i)return;let a=i.index,l=a+i[0].length;(function(e,t,n,r){let[o,i]=t,a=o.text,l=n>0?f(a[n-1]):p(e,i),s=r<a.length?f(a[r]):h(e,i);return l&&s})(e,t,a,l)&&r.YR.wrapNodes(e,{type:"auto-link",url:i[0],children:[]},{at:{anchor:{path:o,offset:a},focus:{path:o,offset:l}},split:!0})},b=(e,t)=>{let[n,o]=t,i=n.text,a=r.ML.previous(e,{at:o});if(a&&l(a[0])){if(c.test(i)){r.YR.unwrapNodes(e,{at:a[1]}),r.YR.mergeNodes(e,{at:o});return}if(!f(i[0])){r.YR.unwrapNodes(e,{at:a[1]});return}}let s=r.ML.next(e,{at:o});if(s&&l(s[0])&&!m(i)){r.YR.unwrapNodes(e,{at:s[1]});return}}},9696:function(e,t,n){"use strict";n.d(t,{e:function(){return a},P:function(){return i}});var r=n(6759),o=n(6916);function i(e){let{isInline:t,normalizeNode:n,insertData:i}=e;return e.isInline=e=>"custom-link"===e.type||t(e),e.normalizeNode=t=>{let[i,l]=t;if((0,o.G)(i)&&a(r.NB.parent(e,l))&&!(0,o.$)(i)){let t=Object.keys(i).filter(e=>"text"!==e);r.YR.unsetNodes(e,t,{at:l})}n(t)},e.insertData=t=>{let{selection:n}=e,a=t.getData("text/plain"),l=!0;n&&!r.e6.isCollapsed(n)&&n.anchor.path[0]===n.focus.path[0]&&function(e){try{return new URL(e),!0}catch(e){return!1}}(a)&&!function(e,t){let{selection:n}=e;if(!n)return!1;for(let[,o]of Array.from(r.ML.nodes(e,{at:n,match:t=>r.W_.isElement(t)&&r.ML.isBlock(e,t),mode:"lowest"}))){let i=r.e6.isRange(n)?r.e6.intersection(n,r.ML.range(e,o)):n;if(i&&Array.from(r.ML.nodes(e,{at:i,match:n=>r.ML.isInline(e,n)&&t(n)})).length>0)return!0}return!1}(e,e=>!(0,o.G)(e))&&(r.YR.wrapNodes(e,{type:"custom-link",url:a,children:[]},{at:n,split:!0,match:o.$}),l=!1),l&&i(t)},e}function a(e){return r.W_.isElement(e)&&"custom-link"===e.type}},8984:function(e,t,n){"use strict";n.d(t,{$S:function(){return s},CQ:function(){return u},hb:function(){return c},ji:function(){return f},lZ:function(){return d},r:function(){return m}});var r=n(6759),o=n(3322),i=n(9888),a=n(4228),l=n(7689);let s="@";function u(e){let{selection:t}=e;if(!(0,l.d)(t))return;let n=(0,i.j)(e,t);if(!n)return;let o=r.ML.string(e,n);if(o.startsWith(s))return{range:n,text:o.substring(1)}}function c(e){return r.W_.isElement(e)&&"mention"===e.type}function d(e,t){r.YR.insertNodes(e,{type:"mention",id:t,children:[{text:""}]}),r.YR.move(e);let n=e.selection?(0,o.z)(e,e.selection):void 0;!n||n.void?r.YR.insertText(e," "):(0,a.k)(n.text)&&r.YR.move(e)}function f(e){if(!e.selection)return;let t=(0,o.F)(e,e.selection,{filterVoids:!0}),n=(0,o.z)(e,e.selection,{filterVoids:!0}),i=t&&!(0,a.k)(t.text),u=n&&!(0,a.k)(n.text);(0,l.d)(e.selection)?(e.insertText((i?" ":"")+s+(u?" ":"")),u&&r.YR.move(e,{distance:1,unit:"character",reverse:!0})):(e.insertText((i?" ":"")+s,{at:r.e6.start(e.selection)}),u&&e.insertText(" ",{at:r.e6.end(e.selection)}),r.YR.collapse(e,{edge:"end"}))}function m(e){let{isInline:t,isVoid:n,markableVoid:o,deleteBackward:i}=e;return e.isInline=e=>c(e)||t(e),e.isVoid=e=>c(e)||n(e),e.markableVoid=e=>c(e)||o(e),e.deleteBackward=t=>{let{selection:n}=e;if((0,l.d)(n)){let[o]=r.ML.nodes(e,{at:"character"===t?r.ML.before(e,n,{unit:"character"}):n,match:c});i(t),o&&r.YR.insertText(e,s)}else i(t)},e}},3322:function(e,t,n){"use strict";n.d(t,{F:function(){return o},z:function(){return i}});var r=n(6759);function o(e,t,n={}){let{filterVoids:o}=n,i=r.ML.before(e,t,{unit:"character",voids:o});if(i){let n=r.ML.range(e,i,r.e6.isRange(t)?r.e6.start(t):t),o=r.ML.string(e,n);return{range:n,text:o,void:0===o.length}}}function i(e,t,n={}){let{filterVoids:o}=n,i=r.ML.after(e,t,{unit:"character",voids:o});if(i){let n=r.ML.range(e,i,r.e6.isRange(t)?r.e6.end(t):t),o=r.ML.string(e,n);return{range:n,text:o,void:0===o.length}}}},9888:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(6759);let o={direction:"before"};function i(e,t,n=[" "],i=o){let{include:a,direction:l}={...o,...i},[s,u]=r.e6.edges(t),c=s;function d(t){let o="after"===t?r.ML.after(e,c,{unit:"character"}):r.ML.before(e,c,{unit:"character"}),i=o&&r.ML.string(e,"after"===t?{anchor:c,focus:o}:{anchor:o,focus:c}),a=i&&i["after"===t?0:i.length-1];return!(!o||!a||n.includes(a))&&0!==(c=o).offset}if("before"!==l){for(c=u;d("after"););u=c}if("after"!==l){for(c=s;d("before"););s=c}return a?{anchor:r.ML.before(e,s,{unit:"offset"})??s,focus:r.ML.after(e,u,{unit:"offset"})??u}:{anchor:s,focus:u}}},4228:function(e,t,n){"use strict";function r(e){return!e.trim()}n.d(t,{k:function(){return r}})},7689:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(6759);function o(e){return null!==e&&r.e6.isCollapsed(e)}},6916:function(e,t,n){"use strict";function r(e){return!("type"in e)&&"text"in e&&"string"==typeof e.text}function o(e){return r(e)&&1===Object.keys(e).length}n.d(t,{$:function(){return o},G:function(){return r}})},3243:function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,{k:function(){return r}})},1643:function(e,t,n){"use strict";function r(...e){return e.filter(e=>"string"==typeof e||"number"==typeof e).join(" ")}n.d(t,{A:function(){return r}})},2196:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(8e3);function o(e){if(!e.types.includes("Files"))return[];let t=Array.from(e.items).map(e=>{let t=e.webkitGetAsEntry();return t&&t.isFile?e.getAsFile():null}).filter(r.G);return t.length||(t=Array.from(e.files).filter(e=>""!==e.type)),t}},8e3:function(e,t,n){"use strict";function r(e){return null!=e}n.d(t,{G:function(){return r}})},2133:function(e,t,n){"use strict";n.d(t,{dq:function(){return i},XE:function(){return l},Y4:function(){return s},J6:function(){return a}});var r=n(416);function o(e){let t=new Map;return(...n)=>{let o=JSON.stringify(n.map(e=>(0,r.Pz)(e)));if(t.has(o))return t.get(o);let i=e(...n);return t.set(o,i),i}}let i=o((...e)=>new Intl.DateTimeFormat(...e)),a=o((...e)=>new Intl.RelativeTimeFormat(...e)),l=o((...e)=>new Intl.ListFormat(...e)),s=o((...e)=>new Intl.NumberFormat(...e))},5063:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});let r=/Mac|iPod|iPhone|iPad/;function o(){return"undefined"!=typeof window&&r.test(window.navigator.platform)}},2216:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=n(5063);let o={alt:()=>"altKey",ctrl:()=>"ctrlKey",meta:()=>"metaKey",mod:()=>(0,r.m)()?"metaKey":"ctrlKey",shift:()=>"shiftKey"};function i(e,t,n={}){return e.key===t&&Object.entries(n).filter(([,e])=>"boolean"==typeof e).every(([t,n])=>e[o[t]()]===n)}},2013:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(2265);function o(e){let[t]=(0,r.useState)(e);return t}},463:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(2265);function o(e){let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e},[e]),t}},9731:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(2265);let o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},8536:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(2265);function o(...e){return(0,r.useCallback)(t=>(function(e,...t){for(let n of t)e&&("function"==typeof n?n(e):n&&"current"in n&&(n.current=e))})(t,...e),[e])}},1627:function(e,t,n){"use strict";n.d(t,{$$:function(){return eh},BU:function(){return l},Bc:function(){return ew},EH:function(){return a},J6:function(){return ef},LL:function(){return eC},QU:function(){return ed},RN:function(){return ep},RY:function(){return S},U9:function(){return eg},WT:function(){return j},WX:function(){return B},X0:function(){return ec},_A:function(){return ey},_d:function(){return eT},bN:function(){return es},d3:function(){return eb},d7:function(){return em},f8:function(){return eI},gV:function(){return F},k3:function(){return L},k9:function(){return W},kB:function(){return eE},m8:function(){return D},mT:function(){return ex},q9:function(){return z},qf:function(){return V},us:function(){return eu},xS:function(){return H}});var r=n(2265),o=n(416);n(2558);var i=n(5195);function a(e){let[t,n]=r.useState(!1);return r.useEffect(()=>{n(!0)},[]),r.createElement(r.Suspense,{fallback:e.fallback},t?"function"==typeof e.children?e.children():e.children:e.fallback)}var l=r.createContext(null);function s(){return r.useContext(l)}function u(e,t){return e.createdAt.getTime()-t.createdAt.getTime()}function c(e,t){return(t.updatedAt??t.createdAt).getTime()-(e.updatedAt??e.createdAt).getTime()}function d(e){return"string"==typeof e}function f(e,t){t>=5||setTimeout(()=>{e()},5e3*Math.pow(2,t))}var m=e=>e;function p(e){return(0,r.useReducer)(m,e)[0]}function h(e){let t=p(e);if("function"!=typeof t)return t;{let t=function(e){let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e},[e]),t}(e);return(0,r.useCallback)((...e)=>t.current(...e),[t])}}var g=e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e},v=Object.freeze({isLoading:!0}),b=Object.freeze({isLoading:!1,data:void 0});function y(e){return`${e}:NOTIFICATION_SETTINGS`}function E(e){return`${e}-VERSIONS`}var x=class{constructor(){this._prevState=null,this._stateCached=null,this._store=(0,o.MT)({rawThreadsById:{},query1:void 0,queries2:{},queries3:{},queries4:{},optimisticUpdates:[],inboxNotificationsById:{},notificationSettingsByRoomId:{},versionsByRoomId:{}}),this.getFullState=this.getFullState.bind(this),this.getInboxNotificationsAsync=this.getInboxNotificationsAsync.bind(this),this.subscribeThreads=this.subscribeThreads.bind(this),this.subscribeUserThreads=this.subscribeUserThreads.bind(this),this.subscribeThreadsOrInboxNotifications=this.subscribeThreadsOrInboxNotifications.bind(this),this.subscribeNotificationSettings=this.subscribeNotificationSettings.bind(this),this.subscribeVersions=this.subscribeVersions.bind(this),this._hasOptimisticUpdates=this._hasOptimisticUpdates.bind(this),this._subscribeOptimisticUpdates=this._subscribeOptimisticUpdates.bind(this)}get(){let e=this._store.get();return(this._prevState!==e||null===this._stateCached)&&(this._prevState=e,this._stateCached=function(e){let t={threadsById:{...e.rawThreadsById},inboxNotificationsById:{...e.inboxNotificationsById},notificationSettingsByRoomId:{...e.notificationSettingsByRoomId}};for(let n of e.optimisticUpdates)switch(n.type){case"create-thread":t.threadsById[n.thread.id]=n.thread;break;case"edit-thread-metadata":{let e=t.threadsById[n.threadId];if(void 0===e||void 0!==e.deletedAt||void 0!==e.updatedAt&&e.updatedAt>n.updatedAt)break;t.threadsById[e.id]={...e,updatedAt:n.updatedAt,metadata:{...e.metadata,...n.metadata}};break}case"mark-thread-as-resolved":{let e=t.threadsById[n.threadId];if(void 0===e||void 0!==e.deletedAt)break;t.threadsById[e.id]={...e,resolved:!0};break}case"mark-thread-as-unresolved":{let e=t.threadsById[n.threadId];if(void 0===e||void 0!==e.deletedAt)break;t.threadsById[e.id]={...e,resolved:!1};break}case"create-comment":{let e=t.threadsById[n.comment.threadId];if(void 0===e)break;t.threadsById[e.id]=w(e,n.comment);let r=Object.values(t.inboxNotificationsById).find(t=>"thread"===t.kind&&t.threadId===e.id);if(void 0===r)break;t.inboxNotificationsById[r.id]={...r,notifiedAt:n.comment.createdAt,readAt:n.comment.createdAt};break}case"edit-comment":{let e=t.threadsById[n.comment.threadId];if(void 0===e)break;t.threadsById[e.id]=w(e,n.comment);break}case"delete-comment":{let e=t.threadsById[n.threadId];if(void 0===e)break;t.threadsById[e.id]=C(e,n.commentId,n.deletedAt);break}case"delete-thread":{let e=t.threadsById[n.threadId];if(void 0===e)break;t.threadsById[n.threadId]={...e,deletedAt:n.deletedAt,updatedAt:n.deletedAt,comments:[]};break}case"add-reaction":{let e=t.threadsById[n.threadId];if(void 0===e)break;t.threadsById[e.id]=T(e,n.commentId,n.reaction);break}case"remove-reaction":{let e=t.threadsById[n.threadId];if(void 0===e)break;t.threadsById[e.id]=I(e,n.commentId,n.emoji,n.userId,n.removedAt);break}case"mark-inbox-notification-as-read":{let e=t.inboxNotificationsById[n.inboxNotificationId];if(void 0===e)break;t.inboxNotificationsById[n.inboxNotificationId]={...e,readAt:n.readAt};break}case"mark-all-inbox-notifications-as-read":for(let e in t.inboxNotificationsById){let r=t.inboxNotificationsById[e];if(void 0===r)break;t.inboxNotificationsById[e]={...r,readAt:n.readAt}}break;case"delete-inbox-notification":delete t.inboxNotificationsById[n.inboxNotificationId];break;case"delete-all-inbox-notifications":t.inboxNotificationsById={};break;case"update-notification-settings":{let e=t.notificationSettingsByRoomId[n.roomId];if(void 0===e)break;t.notificationSettingsByRoomId[n.roomId]={...e,...n.settings}}}let n=Object.values(t.threadsById).filter(e=>!e.deletedAt).filter(e=>e.comments.some(e=>void 0===e.deletedAt));return{inboxNotifications:Object.values(t.inboxNotificationsById).filter(e=>"thread"!==e.kind||t.threadsById[e.threadId]&&t.threadsById[e.threadId]?.deletedAt===void 0).sort((e,t)=>t.notifiedAt.getTime()-e.notifiedAt.getTime()),inboxNotificationsById:t.inboxNotificationsById,notificationSettingsByRoomId:t.notificationSettingsByRoomId,queries2:e.queries2,queries3:e.queries3,queries4:e.queries4,threads:n,threadsById:t.threadsById,versionsByRoomId:e.versionsByRoomId}}(e)),this._stateCached}batch(e){return this._store.batch(e)}getFullState(){return this.get()}getThreadsAsync(e){let t=this._store.get().queries2[e];return void 0===t||t.isLoading?v:t.error?t:{isLoading:!1,fullState:this.getFullState()}}getUserThreadsAsync(e){let t=this._store.get().queries2[e];return void 0===t||t.isLoading?v:t.error?t:{isLoading:!1,fullState:this.getFullState()}}getInboxNotificationsAsync(){let e=this._store.get().query1;return void 0===e||e.isLoading?v:void 0!==e.error?e:{isLoading:!1,inboxNotifications:this.getFullState().inboxNotifications}}getNotificationSettingsAsync(e){let t=this.get(),n=t.queries3[y(e)];return void 0===n||n.isLoading?v:void 0!==n.error?n:{isLoading:!1,settings:(0,o.nn)(t.notificationSettingsByRoomId[e])}}getVersionsAsync(e){let t=this.get(),n=t.queries4[E(e)];return void 0===n||n.isLoading?v:void 0!==n.error?n:{isLoading:!1,versions:(0,o.nn)(t.versionsByRoomId[e])}}_hasOptimisticUpdates(){return this._store.get().optimisticUpdates.length>0}subscribe(e){return this._store.subscribe(e)}_subscribeOptimisticUpdates(e){return this.subscribe(e)}subscribeThreads(e){return this.subscribe(e)}subscribeUserThreads(e){return this.subscribe(e)}subscribeThreadsOrInboxNotifications(e){return this.subscribe(e)}subscribeNotificationSettings(e){return this.subscribe(e)}subscribeVersions(e){return this.subscribe(e)}updateThreadsCache(e){this._store.set(t=>{let n=e(t.rawThreadsById);return n!==t.rawThreadsById?{...t,rawThreadsById:n}:t})}updateInboxNotificationsCache(e){this._store.set(t=>{let n=e(t.inboxNotificationsById);return n!==t.inboxNotificationsById?{...t,inboxNotificationsById:n}:t})}setNotificationSettings(e,t){this._store.set(n=>({...n,notificationSettingsByRoomId:{...n.notificationSettingsByRoomId,[e]:t}}))}setVersions(e,t){this._store.set(n=>({...n,versionsByRoomId:{...n.versionsByRoomId,[e]:t}}))}setQuery1State(e){this._store.set(t=>({...t,query1:e}))}setQuery2State(e,t){this._store.set(n=>({...n,queries2:{...n.queries2,[e]:t}}))}setQuery3State(e,t){this._store.set(n=>({...n,queries3:{...n.queries3,[e]:t}}))}setQuery4State(e,t){this._store.set(n=>({...n,queries4:{...n.queries4,[e]:t}}))}updateOptimisticUpdatesCache(e){this._store.set(t=>({...t,optimisticUpdates:e(t.optimisticUpdates)}))}force_set(e){return this._store.set(e)}updateInboxNotification(e,t,n){this._store.batch(()=>{this.removeOptimisticUpdate(t),this.updateInboxNotificationsCache(t=>{let r=t[e];return r?{...t,[e]:n(r)}:t})})}updateAllInboxNotifications(e,t){this._store.batch(()=>{this.removeOptimisticUpdate(e),this.updateInboxNotificationsCache(e=>(0,o.Q8)(e,t))})}deleteInboxNotification(e,t){this._store.batch(()=>{this.removeOptimisticUpdate(t),this.updateInboxNotificationsCache(t=>{let{[e]:n,...r}=t;return void 0===n?t:r})})}deleteAllInboxNotifications(e){this._store.batch(()=>{this.removeOptimisticUpdate(e),this.updateInboxNotificationsCache(()=>({}))})}createThread(e,t){this._store.batch(()=>{this.removeOptimisticUpdate(e),this.updateThreadsCache(e=>({...e,[t.id]:t}))})}updateThread(e,t,n,r){this._store.batch(()=>{null!==t&&this.removeOptimisticUpdate(t),this.updateThreadsCache(t=>{let o=t[e];return!o||void 0!==o.deletedAt||r&&o.updatedAt&&o.updatedAt>r?t:{...t,[e]:n(o)}})})}patchThread(e,t,n,r){return this.updateThread(e,t,e=>({...e,...(0,o.yg)(n)}),r)}addReaction(e,t,n,r,o){this.updateThread(e,t,e=>T(e,n,r),o)}removeReaction(e,t,n,r,o,i){this.updateThread(e,t,e=>I(e,n,r,o,i),i)}deleteThread(e,t){return this.updateThread(e,t,e=>({...e,updatedAt:new Date,deletedAt:new Date}))}createComment(e,t){this._store.batch(()=>{this.removeOptimisticUpdate(t);let n=this._store.get().rawThreadsById[e.threadId];n&&(this.updateThreadsCache(t=>({...t,[e.threadId]:w(n,e)})),this.updateInboxNotificationsCache(t=>{let n=Object.values(t).find(t=>"thread"===t.kind&&t.threadId===e.threadId);return n?{...t,[n.id]:{...n,notifiedAt:e.createdAt,readAt:e.createdAt}}:t}))})}editComment(e,t,n){return this.updateThread(e,t,e=>w(e,n))}deleteComment(e,t,n,r){return this.updateThread(e,t,e=>C(e,n,r),r)}updateThreadAndNotification(e,t){this._store.batch(()=>{this.updateThreadsCache(t=>{let n=t[e.id];return void 0===n||0>c(e,n)?{...t,[e.id]:e}:t}),void 0!==t&&this.updateInboxNotificationsCache(e=>({...e,[t.id]:t}))})}updateThreadsAndNotifications(e,t,n,r){this._store.batch(()=>{this.updateThreadsCache(t=>(function(e,t){let n={...e};return t.newThreads.forEach(e=>{let t=n[e.id];!(t&&0>c(t,e))&&(n[e.id]=e)}),t.deletedThreads.forEach(({id:e,deletedAt:t})=>{let r=n[e];void 0!==r&&(r.deletedAt=t,r.updatedAt=t,r.comments=[])}),n})(t,{newThreads:e,deletedThreads:n})),this.updateInboxNotificationsCache(e=>(function(e,t){let n={...e};return t.newInboxNotifications.forEach(e=>{let t=n[e.id];(!t||1!=(t.notifiedAt>e.notifiedAt?1:t.notifiedAt<e.notifiedAt?-1:t.readAt&&e.readAt?t.readAt>e.readAt?1:t.readAt<e.readAt?-1:0:t.readAt||e.readAt?t.readAt?1:-1:0))&&(n[e.id]=e)}),t.deletedNotifications.forEach(({id:e})=>delete n[e]),n})(e,{newInboxNotifications:t,deletedNotifications:r}))})}updateRoomInboxNotificationSettings2(e,t,n){this._store.batch(()=>{this.removeOptimisticUpdate(t),this.setNotificationSettings(e,n)})}updateRoomInboxNotificationSettings(e,t,n){this._store.batch(()=>{this.setQuery3OK(n),this.setNotificationSettings(e,t)})}updateRoomVersions(e,t,n){this._store.batch(()=>{this.setVersions(e,t),void 0!==n&&this.setQuery4OK(n)})}addOptimisticUpdate(e){let t=(0,o.x0)(),n={...e,id:t};return this.updateOptimisticUpdatesCache(e=>[...e,n]),t}removeOptimisticUpdate(e){this.updateOptimisticUpdatesCache(t=>t.filter(t=>t.id!==e))}setQuery1Loading(){this.setQuery1State(v)}setQuery1OK(){this.setQuery1State(b)}setQuery1Error(e){this.setQuery1State({isLoading:!1,error:e})}setQuery2Loading(e){this.setQuery2State(e,v)}setQuery2OK(e){this.setQuery2State(e,b)}setQuery2Error(e,t){this.setQuery2State(e,{isLoading:!1,error:t})}setQuery3Loading(e){this.setQuery3State(e,v)}setQuery3OK(e){this.setQuery3State(e,b)}setQuery3Error(e,t){this.setQuery3State(e,{isLoading:!1,error:t})}setQuery4Loading(e){this.setQuery4State(e,v)}setQuery4OK(e){this.setQuery4State(e,b)}setQuery4Error(e,t){this.setQuery4State(e,{isLoading:!1,error:t})}};function w(e,t){if(void 0!==e.deletedAt)return e;if(t.threadId!==e.id)return o.iV.warn(`Comment ${t.id} does not belong to thread ${e.id}`),e;let n=e.comments.find(e=>e.id===t.id);if(void 0===n){let n=new Date(Math.max(e.updatedAt?.getTime()||0,t.createdAt.getTime()));return{...e,updatedAt:n,comments:[...e.comments,t]}}if(void 0!==n.deletedAt)return e;if(void 0===n.editedAt||void 0===t.editedAt||n.editedAt<=t.editedAt){let n=e.comments.map(e=>e.id===t.id?t:e);return{...e,updatedAt:new Date(Math.max(e.updatedAt?.getTime()||0,t.editedAt?.getTime()||t.createdAt.getTime())),comments:n}}return e}function C(e,t,n){if(void 0!==e.deletedAt)return e;let r=e.comments.find(e=>e.id===t);if(void 0===r||void 0!==r.deletedAt)return e;let o=e.comments.map(e=>e.id===t?{...e,deletedAt:n,body:void 0,attachments:[]}:e);return o.every(e=>void 0!==e.deletedAt)?{...e,deletedAt:n,updatedAt:n}:{...e,updatedAt:n,comments:o}}function T(e,t,n){if(void 0!==e.deletedAt)return e;let r=e.comments.find(e=>e.id===t);if(void 0===r||void 0!==r.deletedAt)return e;let o=e.comments.map(e=>e.id===t?{...e,reactions:function(e,t){let n=e.find(e=>e.emoji===t.emoji);return void 0===n?[...e,{emoji:t.emoji,createdAt:t.createdAt,users:[{id:t.userId}]}]:!1===n.users.some(e=>e.id===t.userId)?e.map(e=>e.emoji===t.emoji?{...e,users:[...e.users,{id:t.userId}]}:e):e}(e.reactions,n)}:e);return{...e,updatedAt:new Date(Math.max(n.createdAt.getTime(),e.updatedAt?.getTime()||0)),comments:o}}function I(e,t,n,r,o){if(void 0!==e.deletedAt)return e;let i=e.comments.find(e=>e.id===t);if(void 0===i||void 0!==i.deletedAt)return e;let a=e.comments.map(e=>e.id===t?{...e,reactions:e.reactions.map(e=>e.emoji===n?{...e,users:e.users.filter(e=>e.id!==r)}:e).filter(e=>e.users.length>0)}:e);return{...e,updatedAt:new Date(Math.max(o.getTime(),e.updatedAt?.getTime()||0)),comments:a}}var S=(0,r.createContext)(null);function R(e){return e}var k=new WeakMap,M=new WeakMap;function N(e){return e.inboxNotifications?{isLoading:!1,count:function(e){let t=0;for(let n of e)(null===n.readAt||n.readAt<n.notifiedAt)&&t++;return t}(e.inboxNotifications)}:e}function O(e){let t=k.get(e);return t||(t=new x,k.set(e,t)),t}function A(e){let t=M.get(e);return t||(t=function(e){let t,n;let r=O(e);async function i(){if(void 0===t){let n=await e.getInboxNotifications();r.batch(()=>{r.updateThreadsAndNotifications(n.threads,n.inboxNotifications,[],[]),r.setQuery1OK()}),t=n.requestedAt}else{let n=await e.getInboxNotificationsSince({since:t});r.batch(()=>{r.updateThreadsAndNotifications(n.threads.updated,n.inboxNotifications.updated,n.threads.deleted,n.inboxNotifications.deleted),r.setQuery1OK()}),t<n.requestedAt&&(t=n.requestedAt)}}let a=0,l=(0,o.x3)(async()=>{try{await s(),await i()}catch(e){console.warn(`Polling new inbox notifications failed: ${String(e)}`)}}),s=(0,o.yt)(async()=>{r.setQuery1Loading();try{await (0,o.du)(()=>i(),5,[5e3,5e3,1e4,15e3])}catch(e){throw r.setQuery1Error(e),e}}),u=(0,o.x3)(d),c=!1;async function d(){let t=n;if(void 0!==t&&!c)try{c=!0;let i=await e[o.W_].getThreadsSince({since:t});c=!1,r.batch(()=>{r.updateThreadsAndNotifications(i.threads.updated,[],i.threads.deleted,[]),r.setQuery2OK("USER_THREADS")}),n=i.requestedAt}catch(e){c=!1;return}}let m=new Map,p=new Map;async function h(t,i,{retryCount:a}={retryCount:0}){let l=p.get(t);if(void 0!==l)return l;let s=e[o.W_].getThreads(i);p.set(t,s),r.setQuery2Loading(t);try{let e=await s;r.batch(()=>{r.updateThreadsAndNotifications(e.threads,e.inboxNotifications,[],[]),r.setQuery2OK(t)}),(void 0===n||n<e.requestedAt)&&(n=e.requestedAt),u.start(6e4)}catch(e){p.delete(t),f(()=>{h(t,i,{retryCount:a+1})},a),r.setQuery2Error(t,e)}}return{store:r,startPolling:function(){return a++,l.start(6e4),()=>{if(a<=0){console.warn("Unexpected internal error: cannot decrease subscriber count for inbox notifications.");return}--a<=0&&l.stop()}},waitUntilInboxNotificationsLoaded:s,loadInboxNotifications:function(){s().catch(()=>{})},incrementUserThreadsQuerySubscribers:function(e){let t=m.get(e)??0;return m.set(e,t+1),u.start(6e4),()=>{let t=m.get(e);if(void 0===t||t<=0){console.warn(`Internal unexpected behavior. Cannot decrease subscriber count for query "${e}"`);return}m.set(e,t-1);let n=0;for(let e of m.values())n+=e;n<=0&&u.stop()}},getUserThreads:h}}(e),M.set(e,t)),t}function _(){return(0,r.useContext)(S)}function D(){return _()??(0,o.OU)("LiveblocksProvider is missing from the React tree.")}function P(e){return!function(e){let t=_();if(!e?.allowNesting&&null!==t)throw Error("You cannot nest multiple LiveblocksProvider instances in the same React tree.")}(e),r.createElement(S.Provider,{value:e.client},e.children)}function j(e){let{children:t,...n}=e,i={publicApiKey:p(n.publicApiKey),throttle:p(n.throttle),lostConnectionTimeout:p(n.lostConnectionTimeout),backgroundKeepAliveTimeout:p(n.backgroundKeepAliveTimeout),polyfills:p(n.polyfills),unstable_fallbackToHTTP:p(n.unstable_fallbackToHTTP),unstable_streamData:p(n.unstable_streamData),authEndpoint:h(n.authEndpoint),resolveMentionSuggestions:h(n.resolveMentionSuggestions),resolveUsers:h(n.resolveUsers),resolveRoomsInfo:h(n.resolveRoomsInfo),baseUrl:p(n.baseUrl),enableDebugLogging:p(n.enableDebugLogging)},a=(0,r.useMemo)(()=>(0,o.eI)(i),[]);return r.createElement(P,{client:a},t)}function L(){return function(e){let{waitUntilInboxNotificationsLoaded:t}=A(e);g(t());let n=function(e){let{loadInboxNotifications:t,store:n,startPolling:a}=A(e);return(0,r.useEffect)(t,[t]),(0,r.useEffect)(a,[a]),(0,i.useSyncExternalStoreWithSelector)(n.subscribeThreadsOrInboxNotifications,n.getInboxNotificationsAsync,n.getInboxNotificationsAsync,R,o.Xd)}(e);return(0,o.hu)(!n.error,"Did not expect error"),(0,o.hu)(!n.isLoading,"Did not expect loading"),n}(D())}function B(){var e;return e=D(),(0,r.useCallback)(t=>{let{store:n}=A(e),r=new Date,o=n.addOptimisticUpdate({type:"mark-inbox-notification-as-read",inboxNotificationId:t,readAt:r});e.markInboxNotificationAsRead(t).then(()=>{n.updateInboxNotification(t,o,e=>({...e,readAt:r}))},()=>{n.removeOptimisticUpdate(o)})},[e])}function F(){var e;return e=D(),(0,r.useCallback)(t=>{let{store:n}=A(e),r=new Date,o=n.addOptimisticUpdate({type:"delete-inbox-notification",inboxNotificationId:t,deletedAt:r});e.deleteInboxNotification(t).then(()=>{n.deleteInboxNotification(t,o)},()=>{n.removeOptimisticUpdate(o)})},[e])}function z(){return function(e){let{store:t,loadInboxNotifications:n,startPolling:a}=A(e);return(0,r.useEffect)(n,[n]),(0,r.useEffect)(a,[a]),(0,i.useSyncExternalStoreWithSelector)(t.subscribeThreadsOrInboxNotifications,t.getInboxNotificationsAsync,t.getInboxNotificationsAsync,N,o.Xd)}(D())}function H(e){return function(e,t){let n=e[o.W_].roomsInfoStore,a=(0,r.useCallback)(()=>n.getState(t),[n,t]),l=(0,r.useCallback)(e=>{var n,r;return n=e,r=t,void 0===n||n?.isLoading?n??{isLoading:!0}:n.error?n:n.data?{isLoading:!1,info:n.data}:{isLoading:!1,error:Error(`resolveRoomsInfo didn't return anything for room '${r}'`)}},[t]);return(0,r.useEffect)(()=>{n.get(t)},[n,t]),(0,i.useSyncExternalStoreWithSelector)(n.subscribe,a,a,l,o.Xd)}(D(),e)}var W=function(e){return function(e,t){let{store:n}=A(e),a=n.getFullState,l=(0,r.useCallback)(e=>{let n=e.inboxNotificationsById[t]??(0,o.OU)(`Inbox notification with ID "${t}" not found`);return"thread"!==n.kind&&(0,o.OU)(`Inbox notification with ID "${t}" is not of kind "thread"`),e.threadsById[n.threadId]??(0,o.OU)(`Thread with ID "${n.threadId}" not found, this inbox notification might not be of kind "thread"`)},[t]);return(0,i.useSyncExternalStoreWithSelector)(n.subscribeThreadsOrInboxNotifications,a,a,l)}(D(),e)},V=function(e){return function(e,t){let n=e[o.W_].usersStore,a=(0,r.useCallback)(()=>n.getState(t),[n,t]);(0,r.useEffect)(()=>{n.get(t)},[n,t]);let l=(0,r.useCallback)(e=>{var n,r;return n=e,r=t,void 0===n||n?.isLoading?n??{isLoading:!0}:n.error?n:n.data?{isLoading:!1,user:n.data}:{isLoading:!1,error:Error(`resolveUsers didn't return anything for user '${r}'`)}},[t]);return(0,i.useSyncExternalStoreWithSelector)(n.subscribe,a,a,l,o.Xd)}(D(),e)},U=class extends Error{constructor(e,t){super("Create thread failed."),this.cause=e,this.context=t,this.name="CreateThreadError"}},Y=class extends Error{constructor(e,t){super("Mark thread as resolved failed."),this.cause=e,this.context=t,this.name="MarkThreadAsResolvedError"}},K=class extends Error{constructor(e,t){super("Mark thread as unresolved failed."),this.cause=e,this.context=t,this.name="MarkThreadAsUnresolvedError"}},$=class extends Error{constructor(e,t){super("Create comment failed."),this.cause=e,this.context=t,this.name="CreateCommentError"}},G=class extends Error{constructor(e,t){super("Edit comment failed."),this.cause=e,this.context=t,this.name="EditCommentError"}},q=class extends Error{constructor(e,t){super("Delete comment failed."),this.cause=e,this.context=t,this.name="DeleteCommentError"}},Q=class extends Error{constructor(e,t){super("Add reaction failed."),this.cause=e,this.context=t,this.name="AddReactionError"}},Z=class extends Error{constructor(e,t){super("Remove reaction failed."),this.cause=e,this.context=t,this.name="RemoveReactionError"}},X=class extends Error{constructor(e,t){super("Mark inbox notification as read failed."),this.cause=e,this.context=t,this.name="MarkInboxNotificationAsReadError"}},J=class extends Error{constructor(e,t){super("Update notification settings failed."),this.cause=e,this.context=t,this.name="UpdateNotificationSettingsError"}},ee=e=>e;function et(){return null}function en(e){let t=e.getSelf();return null===t||void 0===t.id?"anonymous":t.id}function er(e){let t=`Request failed with status ${e.status}: ${e.message}`;if(e.details?.error==="FORBIDDEN"){let n=[t,e.details.suggestion,e.details.docs].filter(Boolean).join("\n");o.iV.error(n)}return Error(t)}Object.freeze([]);var eo=new WeakMap;function ei(e){let t=eo.get(e);return t||(t=function(e){let t=O(e),n=new Map,r=new Map,i=new Map,a=new Map,l=(0,o.x3)(s);async function s(){let t=[];e[o.W_].getRoomIds().map(n=>{let r=e.getRoom(n);null!==r&&t.push(u(r.id))}),await Promise.allSettled(t)}async function u(r){let o=e.getRoom(r);if(null===o)return;let a=n.get(o.id);if(void 0!==a&&!0!==(i.get(o.id)??!1))try{i.set(o.id,!0);let e=await o.getThreadsSince({since:a});setTimeout(()=>{i.set(o.id,!1)},2e3),t.updateThreadsAndNotifications(e.threads.updated,e.inboxNotifications.updated,e.threads.deleted,e.inboxNotifications.deleted),n.set(o.id,e.requestedAt)}catch(e){i.set(o.id,!1);return}}async function c(e,{retryCount:n}={retryCount:0}){let i=E(e.id),a=r.get(i);if(void 0!==a)return a;let l=e[o.W_].listTextVersions();r.set(i,l),t.setQuery4Loading(i);try{let n=await l,o=(await n.json()).versions.map(({createdAt:e,...t})=>({createdAt:new Date(e),...t}));t.updateRoomVersions(e.id,o,i),r.delete(i)}catch(o){r.delete(i),f(()=>{c(e,{retryCount:n+1})},n),t.setQuery4Error(i,o)}}async function d(e,o,i,{retryCount:a}={retryCount:0}){let s=r.get(o);if(void 0!==s)return s;let u=e.getThreads(i);r.set(o,u),t.setQuery2Loading(o);try{let r=await u;t.batch(()=>{t.updateThreadsAndNotifications(r.threads,r.inboxNotifications,[],[]),t.setQuery2OK(o)});let i=n.get(e.id);(void 0===i||i>r.requestedAt)&&n.set(e.id,r.requestedAt),l.start(3e5)}catch(n){r.delete(o),f(()=>{d(e,o,i,{retryCount:a+1})},a),t.setQuery2Error(o,n)}}async function m(e,{retryCount:n}={retryCount:0}){let o=y(e.id),i=r.get(o);if(void 0!==i)return i;try{let n=e.getNotificationSettings();r.set(o,n),t.setQuery3Loading(o);let i=await n;t.updateRoomInboxNotificationSettings(e.id,i,o)}catch(i){r.delete(o),f(()=>{m(e,{retryCount:n+1})},n),t.setQuery3Error(o,i)}}let p=(0,o.Zb)();return{store:t,incrementQuerySubscribers:function(e){let t=a.get(e)??0;return a.set(e,t+1),l.start(3e5),()=>{let t=a.get(e);if(void 0===t||t<=0){o.iV.warn(`Internal unexpected behavior. Cannot decrease subscriber count for query "${e}"`);return}a.set(e,t-1);let n=0;for(let e of a.values())n+=e;n<=0&&l.stop()}},commentsErrorEventSource:p,getThreadsUpdates:u,getThreadsAndInboxNotifications:d,getInboxNotificationSettings:m,getRoomVersions:c,onMutationFailure:function(e,n,r){if(t.removeOptimisticUpdate(n),e instanceof o.iz){let t=er(e);p.notify(r(t));return}if(e instanceof o.VB){er(e);return}throw e}}}(e),eo.set(e,t)),t}function ea(e){let t=D(),{id:n,stableEnterRoom:i}=e,a=p({initialPresence:e.initialPresence,initialStorage:e.initialStorage,unstable_batchedUpdates:e.unstable_batchedUpdates,autoConnect:e.autoConnect??"undefined"!=typeof window}),[{room:s},u]=r.useState(()=>i(n,{...a,autoConnect:!1}));return r.useEffect(()=>{let{store:e}=ei(t);async function n(t){if(t.type===o.yO.THREAD_DELETED){e.deleteThread(t.threadId,null);return}let n=await s.getThread(t.threadId);if(!n.thread){e.deleteThread(t.threadId,null);return}let{thread:r,inboxNotification:i}=n,a=e.getFullState().threadsById[t.threadId];switch(t.type){case o.yO.COMMENT_EDITED:case o.yO.THREAD_METADATA_UPDATED:case o.yO.THREAD_UPDATED:case o.yO.COMMENT_REACTION_ADDED:case o.yO.COMMENT_REACTION_REMOVED:case o.yO.COMMENT_DELETED:if(!a)break;e.updateThreadAndNotification(r,i);break;case o.yO.COMMENT_CREATED:e.updateThreadAndNotification(r,i)}}return s.events.comments.subscribe(e=>void n(e))},[t,s]),r.useEffect(()=>{let{getThreadsUpdates:e}=ei(t);e(s.id)},[t,s.id]),r.useEffect(()=>{function e(){let{getThreadsUpdates:e}=ei(t);e(s.id)}return window.addEventListener("online",e),()=>{window.removeEventListener("online",e)}},[t,s.id]),r.useEffect(()=>{let e=i(n,a);u(e);let{room:t,leave:r}=e;return a.autoConnect&&t.connect(),()=>{r()}},[n,a,i]),r.createElement(l.Provider,{value:s},e.children)}function el(){let e=s();if(null===e)throw Error("RoomProvider is missing from the React tree.");return e}function es(){let e=D(),t=el();return r.useCallback(({threadId:n,body:r,attachments:i})=>{let a=(0,o.F0)(),l=new Date,s={id:a,threadId:n,roomId:t.id,type:"comment",createdAt:l,userId:en(t),body:r,reactions:[],attachments:i??[]},{store:u,onMutationFailure:c}=ei(e),d=u.addOptimisticUpdate({type:"create-comment",comment:s}),f=i?.map(e=>e.id);return t.createComment({threadId:n,commentId:a,body:r,attachmentIds:f}).then(e=>{u.createComment(e,d)},e=>c(e,d,e=>new $(e,{roomId:t.id,threadId:n,commentId:a,body:r}))),s},[e,t])}function eu(){let e=D(),t=el();return r.useCallback(({threadId:n,commentId:r,body:i,attachments:a})=>{let l=new Date,{store:s,onMutationFailure:u}=ei(e),c=s.getFullState().threadsById[n];if(void 0===c){o.iV.warn(`Internal unexpected behavior. Cannot edit comment in thread "${n}" because the thread does not exist in the cache.`);return}let d=c.comments.find(e=>e.id===r);if(void 0===d||void 0!==d.deletedAt){o.iV.warn(`Internal unexpected behavior. Cannot edit comment "${r}" in thread "${n}" because the comment does not exist in the cache.`);return}let f=s.addOptimisticUpdate({type:"edit-comment",comment:{...d,editedAt:l,body:i,attachments:a??[]}}),m=a?.map(e=>e.id);t.editComment({threadId:n,commentId:r,body:i,attachmentIds:m}).then(e=>{s.editComment(n,f,e)},e=>u(e,f,e=>new G(e,{roomId:t.id,threadId:n,commentId:r,body:i})))},[e,t])}function ec(){let e=D(),t=el();return r.useCallback(({threadId:n,commentId:r})=>{let o=new Date,{store:i,onMutationFailure:a}=ei(e),l=i.addOptimisticUpdate({type:"delete-comment",threadId:n,commentId:r,deletedAt:o,roomId:t.id});t.deleteComment({threadId:n,commentId:r}).then(()=>{i.deleteComment(n,l,r,o)},e=>a(e,l,e=>new q(e,{roomId:t.id,threadId:n,commentId:r})))},[e,t])}function ed(){let e=D(),t=el();return r.useCallback(({threadId:n,commentId:r,emoji:o})=>{let i=en(t),a=new Date,{store:l,onMutationFailure:s}=ei(e),u=l.addOptimisticUpdate({type:"remove-reaction",threadId:n,commentId:r,emoji:o,userId:i,removedAt:a});t.removeReaction({threadId:n,commentId:r,emoji:o}).then(()=>{l.removeReaction(n,u,r,o,i,a)},e=>s(e,u,e=>new Z(e,{roomId:t.id,threadId:n,commentId:r,emoji:o})))},[e,t])}function ef(){let e=D(),t=el();return r.useCallback(n=>{let{store:r,onMutationFailure:o}=ei(e),i=Object.values(r.getFullState().inboxNotificationsById).find(e=>"thread"===e.kind&&e.threadId===n);if(!i)return;let a=new Date,l=r.addOptimisticUpdate({type:"mark-inbox-notification-as-read",inboxNotificationId:i.id,readAt:a});t.markInboxNotificationAsRead(i.id).then(()=>{r.updateInboxNotification(i.id,l,e=>({...e,readAt:a}))},e=>{o(e,l,e=>new X(e,{inboxNotificationId:i.id}))})},[e,t])}function em(){let e=D(),t=el();return r.useCallback(n=>{let r=new Date,{store:o,onMutationFailure:i}=ei(e),a=o.addOptimisticUpdate({type:"mark-thread-as-resolved",threadId:n,updatedAt:r});t.markThreadAsResolved(n).then(()=>{o.patchThread(n,a,{resolved:!0},r)},e=>i(e,a,e=>new Y(e,{roomId:t.id,threadId:n})))},[e,t])}function ep(){let e=D(),t=el();return r.useCallback(n=>{let r=new Date,{store:o,onMutationFailure:i}=ei(e),a=o.addOptimisticUpdate({type:"mark-thread-as-unresolved",threadId:n,updatedAt:r});t.markThreadAsUnresolved(n).then(()=>{o.patchThread(n,a,{resolved:!1},r)},e=>i(e,a,e=>new K(e,{roomId:t.id,threadId:n})))},[e,t])}function eh(e){let{store:t}=ei(D()),n=r.useCallback(t=>{let n=t.inboxNotifications.find(t=>"thread"===t.kind&&t.threadId===e),r=t.threadsById[e];return void 0===n||void 0===r?{status:"not-subscribed"}:{status:"subscribed",unreadSince:n.readAt}},[e]);return(0,i.useSyncExternalStoreWithSelector)(t.subscribeThreads,t.getFullState,t.getFullState,n)}function eg(){let e=D(),t=el();return r.useCallback(n=>{let{store:r,onMutationFailure:o}=ei(e),i=r.addOptimisticUpdate({type:"update-notification-settings",roomId:t.id,settings:n});t.updateNotificationSettings(n).then(e=>{r.updateRoomInboxNotificationSettings2(t.id,i,e)},e=>o(e,i,e=>new J(e,{roomId:t.id})))},[e,t])}function ev(e){return void 0===e||e?.isLoading?e??{isLoading:!0}:e.error?e:((0,o.hu)(void 0!==e.data,"Unexpected missing attachment URL"),{isLoading:!1,url:e.data})}function eb(e){let{attachmentUrlsStore:t}=el()[o.W_],n=r.useCallback(()=>t.getState(e),[t,e]);return r.useEffect(()=>{t.get(e)},[t,e]),(0,i.useSyncExternalStoreWithSelector)(t.subscribe,n,n,ev,o.Xd)}Symbol();var ey=function(e){let t=D(),[n]=r.useState(()=>new Map),o=r.useCallback((e,r)=>{let o=n.get(e);if(o)return o;let i=t.enterRoom(e,r),a=i.leave;return i.leave=()=>{a(),n.delete(e)},n.set(e,i),i},[t,n]);return r.createElement(ea,{...e,stableEnterRoom:o})},eE=el,ex=function(){return null!==s()},ew=function(){let e=D(),t=el();return r.useCallback(({threadId:n,commentId:r,emoji:o})=>{let i=new Date,a=en(t),{store:l,onMutationFailure:s}=ei(e),u=l.addOptimisticUpdate({type:"add-reaction",threadId:n,commentId:r,reaction:{emoji:o,userId:a,createdAt:i}});t.addReaction({threadId:n,commentId:r,emoji:o}).then(e=>{l.addReaction(n,u,r,e,i)},e=>s(e,u,e=>new Q(e,{roomId:t.id,threadId:n,commentId:r,emoji:o})))},[e,t])},eC=function(){let e=D(),t=el();return r.useCallback(n=>{let r=n.body,i=n.metadata??{},a=n.attachments,l=(0,o.iK)(),s=(0,o.F0)(),u=new Date,c={id:s,threadId:l,roomId:t.id,createdAt:u,type:"comment",userId:en(t),body:r,reactions:[],attachments:a??[]},d={id:l,type:"thread",createdAt:u,updatedAt:u,roomId:t.id,metadata:i,comments:[c],resolved:!1},{store:f,onMutationFailure:m}=ei(e),p=f.addOptimisticUpdate({type:"create-thread",thread:d,roomId:t.id}),h=a?.map(e=>e.id);return t.createThread({threadId:l,commentId:s,body:r,metadata:i,attachmentIds:h}).then(e=>{f.createThread(p,e)},e=>m(e,p,e=>new U(e,{roomId:t.id,threadId:l,commentId:s,body:r,metadata:i}))),d},[e,t])},eT=function(e={query:{metadata:{}}}){let{scrollOnLoad:t=!0}=e,n=D(),a=el(),l=r.useMemo(()=>{var t,n;return t=a.id,n=e.query,`${t}-${(0,o.Pz)(n??{})}`},[a,e]),{store:s,getThreadsAndInboxNotifications:f}=ei(n),m=s.getFullState().queries2[l];if(void 0===m||m.isLoading)throw f(a,l,e);if(m.error)throw m.error;let p=r.useCallback(t=>({threads:function(e,t){let n=e.threads;null!==t.roomId&&(n=n.filter(e=>e.roomId===t.roomId));let r=t.query;return r&&(n=n.filter(e=>(void 0===r.resolved||e.resolved===r.resolved)&&function(e,t){let n=e.metadata;return void 0===t.metadata||Object.entries(t.metadata).every(([e,t])=>{var r,i;return void 0===t||(r=n[e],i=t,(0,o.PO)(i)&&d(i.startsWith)?d(r)&&r.startsWith(i.startsWith):r===i)})}(e,r))),n.sort("last-update"===t.orderBy?c:u)}(t,{roomId:a.id,query:e.query,orderBy:"age"}),isLoading:!1}),[a,l]);r.useEffect(()=>{let{incrementQuerySubscribers:e}=ei(n);return e(l)},[n,l]);let h=(0,i.useSyncExternalStoreWithSelector)(s.subscribeThreads,s.getFullState,s.getFullState,p);return r.useEffect(()=>{!function(e,t){if(!1===e||!t.threads||!("undefined"!=typeof window))return;let n=window.location.hash.slice(1);if(!n.startsWith("cm_"))return;let r=document.getElementById(n);null!==r&&t.threads.flatMap(e=>e.comments).some(e=>e.id===n)&&r.scrollIntoView()}(t,h)},[h.isLoading]),h};function eI(...e){return function(e,t){let n=el(),o=n.events.self.subscribe,a=n.getSelf,l=e??ee,s=r.useCallback(e=>null!==e?l(e):null,[l]);return(0,i.useSyncExternalStoreWithSelector)(o,a,et,s,t)}(...e)}},521:function(e,t,n){"use strict";n.d(t,{oC:function(){return tf},VY:function(){return ts},Xi:function(){return e4},$F:function(){return e1},ZA:function(){return tu},ck:function(){return td},wU:function(){return th},__:function(){return tc},Uv:function(){return tl},Ee:function(){return tm},Rk:function(){return tp},fC:function(){return ti},Z0:function(){return tg},Tr:function(){return tv},tu:function(){return ty},fF:function(){return tb},xz:function(){return ta}});var r=n(2265),o=n(6741),i=n(8575),a=n(3966),l=n(886),s=n(6840),u=n(7437),c=n(7053);function d(e){let t=e+"CollectionProvider",[n,o]=function(e,t=[]){let n=[],o=()=>{let t=n.map(e=>r.createContext(e));return function(n){let o=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:o}}),[n,o])}};return o.scopeName=e,[function(t,o){let i=r.createContext(o),a=n.length;function l(t){let{scope:n,children:o,...l}=t,s=n?.[e][a]||i,c=r.useMemo(()=>l,Object.values(l));return(0,u.jsx)(s.Provider,{value:c,children:o})}return n=[...n,o],l.displayName=t+"Provider",[l,function(n,l){let s=l?.[e][a]||i,u=r.useContext(s);if(u)return u;if(void 0!==o)return o;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let o=n.reduce((t,{useScope:n,scopeName:r})=>{let o=n(e)[`__scope${r}`];return{...t,...o}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}(o,...t)]}(t),[a,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{let{scope:t,children:n}=e,o=r.useRef(null),i=r.useRef(new Map).current;return(0,u.jsx)(a,{scope:t,itemMap:i,collectionRef:o,children:n})};s.displayName=t;let d=e+"CollectionSlot",f=r.forwardRef((e,t)=>{let{scope:n,children:r}=e,o=l(d,n),a=(0,i.e)(t,o.collectionRef);return(0,u.jsx)(c.g7,{ref:a,children:r})});f.displayName=d;let m=e+"CollectionItemSlot",p="data-radix-collection-item",h=r.forwardRef((e,t)=>{let{scope:n,children:o,...a}=e,s=r.useRef(null),d=(0,i.e)(t,s),f=l(m,n);return r.useEffect(()=>(f.itemMap.set(s,{ref:s,...a}),()=>void f.itemMap.delete(s))),(0,u.jsx)(c.g7,{[p]:"",ref:d,children:o})});return h.displayName=m,[{Provider:s,Slot:f,ItemSlot:h},function(t){let n=l(e+"CollectionConsumer",t);return r.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},o]}var f=r.createContext(void 0);function m(e){let t=r.useContext(f);return e||t||"ltr"}var p=n(5278),h=n(6097),g=n(9103),v=n(9255),b=n(2670),y=n(3832),E=n(1599),x=n(6606),w="rovingFocusGroup.onEntryFocus",C={bubbles:!1,cancelable:!0},T="RovingFocusGroup",[I,S,R]=d(T),[k,M]=function(e,t=[]){let n=[],o=()=>{let t=n.map(e=>r.createContext(e));return function(n){let o=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:o}}),[n,o])}};return o.scopeName=e,[function(t,o){let i=r.createContext(o),a=n.length;function l(t){let{scope:n,children:o,...l}=t,s=n?.[e][a]||i,c=r.useMemo(()=>l,Object.values(l));return(0,u.jsx)(s.Provider,{value:c,children:o})}return n=[...n,o],l.displayName=t+"Provider",[l,function(n,l){let s=l?.[e][a]||i,u=r.useContext(s);if(u)return u;if(void 0!==o)return o;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let o=n.reduce((t,{useScope:n,scopeName:r})=>{let o=n(e)[`__scope${r}`];return{...t,...o}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}(o,...t)]}(T,[R]),[N,O]=k(T),A=r.forwardRef((e,t)=>(0,u.jsx)(I.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(I.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(_,{...e,ref:t})})}));A.displayName=T;var _=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:a,loop:c=!1,dir:d,currentTabStopId:f,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...b}=e,y=r.useRef(null),E=(0,i.e)(t,y),T=m(d),[I=null,R]=(0,l.T)({prop:f,defaultProp:p,onChange:h}),[k,M]=r.useState(!1),O=(0,x.W)(g),A=S(n),_=r.useRef(!1),[D,P]=r.useState(0);return r.useEffect(()=>{let e=y.current;if(e)return e.addEventListener(w,O),()=>e.removeEventListener(w,O)},[O]),(0,u.jsx)(N,{scope:n,orientation:a,dir:T,loop:c,currentTabStopId:I,onItemFocus:r.useCallback(e=>R(e),[R]),onItemShiftTab:r.useCallback(()=>M(!0),[]),onFocusableItemAdd:r.useCallback(()=>P(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>P(e=>e-1),[]),children:(0,u.jsx)(s.WV.div,{tabIndex:k||0===D?-1:0,"data-orientation":a,...b,ref:E,style:{outline:"none",...e.style},onMouseDown:(0,o.M)(e.onMouseDown,()=>{_.current=!0}),onFocus:(0,o.M)(e.onFocus,e=>{let t=!_.current;if(e.target===e.currentTarget&&t&&!k){let t=new CustomEvent(w,C);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);L([e.find(e=>e.active),e.find(e=>e.id===I),...e].filter(Boolean).map(e=>e.ref.current),v)}}_.current=!1}),onBlur:(0,o.M)(e.onBlur,()=>M(!1))})})}),D="RovingFocusGroupItem",P=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:i=!0,active:a=!1,tabStopId:l,...c}=e,d=(0,v.M)(),f=l||d,m=O(D,n),p=m.currentTabStopId===f,h=S(n),{onFocusableItemAdd:g,onFocusableItemRemove:b}=m;return r.useEffect(()=>{if(i)return g(),()=>b()},[i,g,b]),(0,u.jsx)(I.ItemSlot,{scope:n,id:f,focusable:i,active:a,children:(0,u.jsx)(s.WV.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:(0,o.M)(e.onMouseDown,e=>{i?m.onItemFocus(f):e.preventDefault()}),onFocus:(0,o.M)(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:(0,o.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){m.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let o=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(o))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(o)))return j[o]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let o=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)o.reverse();else if("prev"===t||"next"===t){var n,r;"prev"===t&&o.reverse();let i=o.indexOf(e.currentTarget);o=m.loop?(n=o,r=i+1,n.map((e,t)=>n[(r+t)%n.length])):o.slice(i+1)}setTimeout(()=>L(o))}})})})});P.displayName=D;var j={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.activeElement;for(let r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}var B=n(5478),F=n(9157),z=["Enter"," "],H=["ArrowUp","PageDown","End"],W=["ArrowDown","PageUp","Home",...H],V={ltr:[...z,"ArrowRight"],rtl:[...z,"ArrowLeft"]},U={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Y="Menu",[K,$,G]=d(Y),[q,Q]=(0,a.b)(Y,[G,b.D7,M]),Z=(0,b.D7)(),X=M(),[J,ee]=q(Y),[et,en]=q(Y),er=e=>{let{__scopeMenu:t,open:n=!1,children:o,dir:i,onOpenChange:a,modal:l=!0}=e,s=Z(t),[c,d]=r.useState(null),f=r.useRef(!1),p=(0,x.W)(a),h=m(i);return r.useEffect(()=>{let e=()=>{f.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>f.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,u.jsx)(b.fC,{...s,children:(0,u.jsx)(J,{scope:t,open:n,onOpenChange:p,content:c,onContentChange:d,children:(0,u.jsx)(et,{scope:t,onClose:r.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:h,modal:l,children:o})})})};er.displayName=Y;var eo=r.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,o=Z(n);return(0,u.jsx)(b.ee,{...o,...r,ref:t})});eo.displayName="MenuAnchor";var ei="MenuPortal",[ea,el]=q(ei,{forceMount:void 0}),es=e=>{let{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=ee(ei,t);return(0,u.jsx)(ea,{scope:t,forceMount:n,children:(0,u.jsx)(E.z,{present:n||i.open,children:(0,u.jsx)(y.h,{asChild:!0,container:o,children:r})})})};es.displayName=ei;var eu="MenuContent",[ec,ed]=q(eu),ef=r.forwardRef((e,t)=>{let n=el(eu,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=ee(eu,e.__scopeMenu),a=en(eu,e.__scopeMenu);return(0,u.jsx)(K.Provider,{scope:e.__scopeMenu,children:(0,u.jsx)(E.z,{present:r||i.open,children:(0,u.jsx)(K.Slot,{scope:e.__scopeMenu,children:a.modal?(0,u.jsx)(em,{...o,ref:t}):(0,u.jsx)(ep,{...o,ref:t})})})})}),em=r.forwardRef((e,t)=>{let n=ee(eu,e.__scopeMenu),a=r.useRef(null),l=(0,i.e)(t,a);return r.useEffect(()=>{let e=a.current;if(e)return(0,B.Ry)(e)},[]),(0,u.jsx)(eh,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ep=r.forwardRef((e,t)=>{let n=ee(eu,e.__scopeMenu);return(0,u.jsx)(eh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),eh=r.forwardRef((e,t)=>{let{__scopeMenu:n,loop:a=!1,trapFocus:l,onOpenAutoFocus:s,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:v,onPointerDownOutside:y,onFocusOutside:E,onInteractOutside:x,onDismiss:w,disableOutsideScroll:C,...T}=e,I=ee(eu,n),S=en(eu,n),R=Z(n),k=X(n),M=$(n),[N,O]=r.useState(null),_=r.useRef(null),D=(0,i.e)(t,_,I.onContentChange),P=r.useRef(0),j=r.useRef(""),L=r.useRef(0),B=r.useRef(null),z=r.useRef("right"),V=r.useRef(0),U=C?F.Z:r.Fragment,Y=C?{as:c.g7,allowPinchZoom:!0}:void 0,K=e=>{var t,n;let r=j.current+e,o=M().filter(e=>!e.disabled),i=document.activeElement,a=null===(t=o.find(e=>e.ref.current===i))||void 0===t?void 0:t.textValue,l=function(e,t,n){var r;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=(r=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(r+n)%e.length]));1===o.length&&(i=i.filter(e=>e!==n));let a=i.find(e=>e.toLowerCase().startsWith(o.toLowerCase()));return a!==n?a:void 0}(o.map(e=>e.textValue),r,a),s=null===(n=o.find(e=>e.textValue===l))||void 0===n?void 0:n.ref.current;!function e(t){j.current=t,window.clearTimeout(P.current),""!==t&&(P.current=window.setTimeout(()=>e(""),1e3))}(r),s&&setTimeout(()=>s.focus())};r.useEffect(()=>()=>window.clearTimeout(P.current),[]),(0,h.EW)();let G=r.useCallback(e=>{var t,n,r;return z.current===(null===(t=B.current)||void 0===t?void 0:t.side)&&!!(r=null===(n=B.current)||void 0===n?void 0:n.area)&&function(e,t){let{x:n,y:r}=e,o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let a=t[e].x,l=t[e].y,s=t[i].x,u=t[i].y;l>r!=u>r&&n<(s-a)*(r-l)/(u-l)+a&&(o=!o)}return o}({x:e.clientX,y:e.clientY},r)},[]);return(0,u.jsx)(ec,{scope:n,searchRef:j,onItemEnter:r.useCallback(e=>{G(e)&&e.preventDefault()},[G]),onItemLeave:r.useCallback(e=>{var t;G(e)||(null===(t=_.current)||void 0===t||t.focus(),O(null))},[G]),onTriggerLeave:r.useCallback(e=>{G(e)&&e.preventDefault()},[G]),pointerGraceTimerRef:L,onPointerGraceIntentChange:r.useCallback(e=>{B.current=e},[]),children:(0,u.jsx)(U,{...Y,children:(0,u.jsx)(g.M,{asChild:!0,trapped:l,onMountAutoFocus:(0,o.M)(s,e=>{var t;e.preventDefault(),null===(t=_.current)||void 0===t||t.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:(0,u.jsx)(p.XB,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:v,onPointerDownOutside:y,onFocusOutside:E,onInteractOutside:x,onDismiss:w,children:(0,u.jsx)(A,{asChild:!0,...k,dir:S.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:O,onEntryFocus:(0,o.M)(m,e=>{S.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,u.jsx)(b.VY,{role:"menu","aria-orientation":"vertical","data-state":eV(I.open),"data-radix-menu-content":"",dir:S.dir,...R,...T,ref:D,style:{outline:"none",...T.style},onKeyDown:(0,o.M)(T.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&K(e.key));let o=_.current;if(e.target!==o||!W.includes(e.key))return;e.preventDefault();let i=M().filter(e=>!e.disabled).map(e=>e.ref.current);H.includes(e.key)&&i.reverse(),function(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}(i)}),onBlur:(0,o.M)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(P.current),j.current="")}),onPointerMove:(0,o.M)(e.onPointerMove,eK(e=>{let t=e.target,n=V.current!==e.clientX;if(e.currentTarget.contains(t)&&n){let t=e.clientX>V.current?"right":"left";z.current=t,V.current=e.clientX}}))})})})})})})});ef.displayName=eu;var eg=r.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,u.jsx)(s.WV.div,{role:"group",...r,ref:t})});eg.displayName="MenuGroup";var ev=r.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,u.jsx)(s.WV.div,{...r,ref:t})});ev.displayName="MenuLabel";var eb="MenuItem",ey="menu.itemSelect",eE=r.forwardRef((e,t)=>{let{disabled:n=!1,onSelect:a,...l}=e,c=r.useRef(null),d=en(eb,e.__scopeMenu),f=ed(eb,e.__scopeMenu),m=(0,i.e)(t,c),p=r.useRef(!1);return(0,u.jsx)(ex,{...l,ref:m,disabled:n,onClick:(0,o.M)(e.onClick,()=>{let e=c.current;if(!n&&e){let t=new CustomEvent(ey,{bubbles:!0,cancelable:!0});e.addEventListener(ey,e=>null==a?void 0:a(e),{once:!0}),(0,s.jH)(e,t),t.defaultPrevented?p.current=!1:d.onClose()}}),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),p.current=!0},onPointerUp:(0,o.M)(e.onPointerUp,e=>{var t;p.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:(0,o.M)(e.onKeyDown,e=>{let t=""!==f.searchRef.current;!n&&(!t||" "!==e.key)&&z.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});eE.displayName=eb;var ex=r.forwardRef((e,t)=>{let{__scopeMenu:n,disabled:a=!1,textValue:l,...c}=e,d=ed(eb,n),f=X(n),m=r.useRef(null),p=(0,i.e)(t,m),[h,g]=r.useState(!1),[v,b]=r.useState("");return r.useEffect(()=>{let e=m.current;if(e){var t;b((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}},[c.children]),(0,u.jsx)(K.ItemSlot,{scope:n,disabled:a,textValue:null!=l?l:v,children:(0,u.jsx)(P,{asChild:!0,...f,focusable:!a,children:(0,u.jsx)(s.WV.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...c,ref:p,onPointerMove:(0,o.M)(e.onPointerMove,eK(e=>{a?d.onItemLeave(e):(d.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,o.M)(e.onPointerLeave,eK(e=>d.onItemLeave(e))),onFocus:(0,o.M)(e.onFocus,()=>g(!0)),onBlur:(0,o.M)(e.onBlur,()=>g(!1))})})})}),ew=r.forwardRef((e,t)=>{let{checked:n=!1,onCheckedChange:r,...i}=e;return(0,u.jsx)(eN,{scope:e.__scopeMenu,checked:n,children:(0,u.jsx)(eE,{role:"menuitemcheckbox","aria-checked":eU(n)?"mixed":n,...i,ref:t,"data-state":eY(n),onSelect:(0,o.M)(i.onSelect,()=>null==r?void 0:r(!!eU(n)||!n),{checkForDefaultPrevented:!1})})})});ew.displayName="MenuCheckboxItem";var eC="MenuRadioGroup",[eT,eI]=q(eC,{value:void 0,onValueChange:()=>{}}),eS=r.forwardRef((e,t)=>{let{value:n,onValueChange:r,...o}=e,i=(0,x.W)(r);return(0,u.jsx)(eT,{scope:e.__scopeMenu,value:n,onValueChange:i,children:(0,u.jsx)(eg,{...o,ref:t})})});eS.displayName=eC;var eR="MenuRadioItem",ek=r.forwardRef((e,t)=>{let{value:n,...r}=e,i=eI(eR,e.__scopeMenu),a=n===i.value;return(0,u.jsx)(eN,{scope:e.__scopeMenu,checked:a,children:(0,u.jsx)(eE,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":eY(a),onSelect:(0,o.M)(r.onSelect,()=>{var e;return null===(e=i.onValueChange)||void 0===e?void 0:e.call(i,n)},{checkForDefaultPrevented:!1})})})});ek.displayName=eR;var eM="MenuItemIndicator",[eN,eO]=q(eM,{checked:!1}),eA=r.forwardRef((e,t)=>{let{__scopeMenu:n,forceMount:r,...o}=e,i=eO(eM,n);return(0,u.jsx)(E.z,{present:r||eU(i.checked)||!0===i.checked,children:(0,u.jsx)(s.WV.span,{...o,ref:t,"data-state":eY(i.checked)})})});eA.displayName=eM;var e_=r.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,u.jsx)(s.WV.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});e_.displayName="MenuSeparator";var eD=r.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,o=Z(n);return(0,u.jsx)(b.Eh,{...o,...r,ref:t})});eD.displayName="MenuArrow";var eP="MenuSub",[ej,eL]=q(eP),eB=e=>{let{__scopeMenu:t,children:n,open:o=!1,onOpenChange:i}=e,a=ee(eP,t),l=Z(t),[s,c]=r.useState(null),[d,f]=r.useState(null),m=(0,x.W)(i);return r.useEffect(()=>(!1===a.open&&m(!1),()=>m(!1)),[a.open,m]),(0,u.jsx)(b.fC,{...l,children:(0,u.jsx)(J,{scope:t,open:o,onOpenChange:m,content:d,onContentChange:f,children:(0,u.jsx)(ej,{scope:t,contentId:(0,v.M)(),triggerId:(0,v.M)(),trigger:s,onTriggerChange:c,children:n})})})};eB.displayName=eP;var eF="MenuSubTrigger",ez=r.forwardRef((e,t)=>{let n=ee(eF,e.__scopeMenu),a=en(eF,e.__scopeMenu),l=eL(eF,e.__scopeMenu),s=ed(eF,e.__scopeMenu),c=r.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=s,m={__scopeMenu:e.__scopeMenu},p=r.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return r.useEffect(()=>p,[p]),r.useEffect(()=>{let e=d.current;return()=>{window.clearTimeout(e),f(null)}},[d,f]),(0,u.jsx)(eo,{asChild:!0,...m,children:(0,u.jsx)(ex,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":l.contentId,"data-state":eV(n.open),...e,ref:(0,i.F)(t,l.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,o.M)(e.onPointerMove,eK(t=>{s.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||c.current||(s.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:(0,o.M)(e.onPointerLeave,eK(e=>{var t,r;p();let o=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(o){let t=null===(r=n.content)||void 0===r?void 0:r.dataset.side,i="right"===t,a=o[i?"left":"right"],l=o[i?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+(i?-5:5),y:e.clientY},{x:a,y:o.top},{x:l,y:o.top},{x:l,y:o.bottom},{x:a,y:o.bottom}],side:t}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:(0,o.M)(e.onKeyDown,t=>{let r=""!==s.searchRef.current;if(!e.disabled&&(!r||" "!==t.key)&&V[a.dir].includes(t.key)){var o;n.onOpenChange(!0),null===(o=n.content)||void 0===o||o.focus(),t.preventDefault()}})})})});ez.displayName=eF;var eH="MenuSubContent",eW=r.forwardRef((e,t)=>{let n=el(eu,e.__scopeMenu),{forceMount:a=n.forceMount,...l}=e,s=ee(eu,e.__scopeMenu),c=en(eu,e.__scopeMenu),d=eL(eH,e.__scopeMenu),f=r.useRef(null),m=(0,i.e)(t,f);return(0,u.jsx)(K.Provider,{scope:e.__scopeMenu,children:(0,u.jsx)(E.z,{present:a||s.open,children:(0,u.jsx)(K.Slot,{scope:e.__scopeMenu,children:(0,u.jsx)(eh,{id:d.contentId,"aria-labelledby":d.triggerId,...l,ref:m,align:"start",side:"rtl"===c.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;c.isUsingKeyboardRef.current&&(null===(t=f.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>{e.target!==d.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:(0,o.M)(e.onEscapeKeyDown,e=>{c.onClose(),e.preventDefault()}),onKeyDown:(0,o.M)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),n=U[c.dir].includes(e.key);if(t&&n){var r;s.onOpenChange(!1),null===(r=d.trigger)||void 0===r||r.focus(),e.preventDefault()}})})})})})});function eV(e){return e?"open":"closed"}function eU(e){return"indeterminate"===e}function eY(e){return eU(e)?"indeterminate":e?"checked":"unchecked"}function eK(e){return t=>"mouse"===t.pointerType?e(t):void 0}eW.displayName=eH;var e$="DropdownMenu",[eG,eq]=(0,a.b)(e$,[Q]),eQ=Q(),[eZ,eX]=eG(e$),eJ=e=>{let{__scopeDropdownMenu:t,children:n,dir:o,open:i,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,d=eQ(t),f=r.useRef(null),[m=!1,p]=(0,l.T)({prop:i,defaultProp:a,onChange:s});return(0,u.jsx)(eZ,{scope:t,triggerId:(0,v.M)(),triggerRef:f,contentId:(0,v.M)(),open:m,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:c,children:(0,u.jsx)(er,{...d,open:m,onOpenChange:p,dir:o,modal:c,children:n})})};eJ.displayName=e$;var e0="DropdownMenuTrigger",e1=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,l=eX(e0,n),c=eQ(n);return(0,u.jsx)(eo,{asChild:!0,...c,children:(0,u.jsx)(s.WV.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:(0,i.F)(t,l.triggerRef),onPointerDown:(0,o.M)(e.onPointerDown,e=>{r||0!==e.button||!1!==e.ctrlKey||(l.onOpenToggle(),l.open||e.preventDefault())}),onKeyDown:(0,o.M)(e.onKeyDown,e=>{!r&&(["Enter"," "].includes(e.key)&&l.onOpenToggle(),"ArrowDown"===e.key&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});e1.displayName=e0;var e2=e=>{let{__scopeDropdownMenu:t,...n}=e,r=eQ(t);return(0,u.jsx)(es,{...r,...n})};e2.displayName="DropdownMenuPortal";var e5="DropdownMenuContent",e3=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,a=eX(e5,n),l=eQ(n),s=r.useRef(!1);return(0,u.jsx)(ef,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...i,ref:t,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{var t;s.current||null===(t=a.triggerRef.current)||void 0===t||t.focus(),s.current=!1,e.preventDefault()}),onInteractOutside:(0,o.M)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;(!a.modal||r)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});e3.displayName=e5;var e6=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(eg,{...o,...r,ref:t})});e6.displayName="DropdownMenuGroup";var e7=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(ev,{...o,...r,ref:t})});e7.displayName="DropdownMenuLabel";var e4=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(eE,{...o,...r,ref:t})});e4.displayName="DropdownMenuItem";var e8=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(ew,{...o,...r,ref:t})});e8.displayName="DropdownMenuCheckboxItem";var e9=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(eS,{...o,...r,ref:t})});e9.displayName="DropdownMenuRadioGroup";var te=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(ek,{...o,...r,ref:t})});te.displayName="DropdownMenuRadioItem";var tt=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(eA,{...o,...r,ref:t})});tt.displayName="DropdownMenuItemIndicator";var tn=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(e_,{...o,...r,ref:t})});tn.displayName="DropdownMenuSeparator",r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(eD,{...o,...r,ref:t})}).displayName="DropdownMenuArrow";var tr=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(ez,{...o,...r,ref:t})});tr.displayName="DropdownMenuSubTrigger";var to=r.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,o=eQ(n);return(0,u.jsx)(eW,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});to.displayName="DropdownMenuSubContent";var ti=eJ,ta=e1,tl=e2,ts=e3,tu=e6,tc=e7,td=e4,tf=e8,tm=e9,tp=te,th=tt,tg=tn,tv=e=>{let{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:o,defaultOpen:i}=e,a=eQ(t),[s=!1,c]=(0,l.T)({prop:r,defaultProp:i,onChange:o});return(0,u.jsx)(eB,{...a,open:s,onOpenChange:c,children:n})},tb=tr,ty=to},7312:function(e,t,n){"use strict";n.d(t,{VY:function(){return K},ee:function(){return V},fC:function(){return W},h_:function(){return Y},xo:function(){return N},xz:function(){return U}});var r=n(2265),o=n(6741),i=n(8575),a=n(3966),l=n(5278),s=n(6097),u=n(9103),c=n(9255),d=n(2670),f=n(3832),m=n(1599),p=n(6840),h=n(7053),g=n(886),v=n(5478),b=n(9157),y=n(7437),E="Popover",[x,w]=(0,a.b)(E,[d.D7]),C=(0,d.D7)(),[T,I]=x(E),S=e=>{let{__scopePopover:t,children:n,open:o,defaultOpen:i,onOpenChange:a,modal:l=!1}=e,s=C(t),u=r.useRef(null),[f,m]=r.useState(!1),[p=!1,h]=(0,g.T)({prop:o,defaultProp:i,onChange:a});return(0,y.jsx)(d.fC,{...s,children:(0,y.jsx)(T,{scope:t,contentId:(0,c.M)(),triggerRef:u,open:p,onOpenChange:h,onOpenToggle:r.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:f,onCustomAnchorAdd:r.useCallback(()=>m(!0),[]),onCustomAnchorRemove:r.useCallback(()=>m(!1),[]),modal:l,children:n})})};S.displayName=E;var R="PopoverAnchor",k=r.forwardRef((e,t)=>{let{__scopePopover:n,...o}=e,i=I(R,n),a=C(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:s}=i;return r.useEffect(()=>(l(),()=>s()),[l,s]),(0,y.jsx)(d.ee,{...a,...o,ref:t})});k.displayName=R;var M="PopoverTrigger",N=r.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,a=I(M,n),l=C(n),s=(0,i.e)(t,a.triggerRef),u=(0,y.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":H(a.open),...r,ref:s,onClick:(0,o.M)(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?u:(0,y.jsx)(d.ee,{asChild:!0,...l,children:u})});N.displayName=M;var O="PopoverPortal",[A,_]=x(O,{forceMount:void 0}),D=e=>{let{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=I(O,t);return(0,y.jsx)(A,{scope:t,forceMount:n,children:(0,y.jsx)(m.z,{present:n||i.open,children:(0,y.jsx)(f.h,{asChild:!0,container:o,children:r})})})};D.displayName=O;var P="PopoverContent",j=r.forwardRef((e,t)=>{let n=_(P,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=I(P,e.__scopePopover);return(0,y.jsx)(m.z,{present:r||i.open,children:i.modal?(0,y.jsx)(L,{...o,ref:t}):(0,y.jsx)(B,{...o,ref:t})})});j.displayName=P;var L=r.forwardRef((e,t)=>{let n=I(P,e.__scopePopover),a=r.useRef(null),l=(0,i.e)(t,a),s=r.useRef(!1);return r.useEffect(()=>{let e=a.current;if(e)return(0,v.Ry)(e)},[]),(0,y.jsx)(b.Z,{as:h.g7,allowPinchZoom:!0,children:(0,y.jsx)(F,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),s.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,o.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;s.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),B=r.forwardRef((e,t)=>{let n=I(P,e.__scopePopover),o=r.useRef(!1),i=r.useRef(!1);return(0,y.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,a;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(o.current||null===(a=n.triggerRef.current)||void 0===a||a.focus(),t.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:t=>{var r,a;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let l=t.target;(null===(a=n.triggerRef.current)||void 0===a?void 0:a.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),F=r.forwardRef((e,t)=>{let{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,...h}=e,g=I(P,n),v=C(n);return(0,s.EW)(),(0,y.jsx)(u.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,y.jsx)(l.XB,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>g.onOpenChange(!1),children:(0,y.jsx)(d.VY,{"data-state":H(g.open),role:"dialog",id:g.contentId,...v,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),z="PopoverClose";function H(e){return e?"open":"closed"}r.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=I(z,n);return(0,y.jsx)(p.WV.button,{type:"button",...r,ref:t,onClick:(0,o.M)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=z,r.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,o=C(n);return(0,y.jsx)(d.Eh,{...o,...r,ref:t})}).displayName="PopoverArrow";var W=S,V=k,U=N,Y=D,K=j},2670:function(e,t,n){"use strict";n.d(t,{ee:function(){return O},Eh:function(){return _},VY:function(){return A},fC:function(){return N},D7:function(){return p}});var r=n(2265),o=n(7859),i=n(32),a=n(6840),l=n(7437),s=r.forwardRef((e,t)=>{let{children:n,width:r=10,height:o=5,...i}=e;return(0,l.jsx)(a.WV.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})});s.displayName="Arrow";var u=n(8575),c=n(6606),d=n(1188),f="Popper",[m,p]=function(e,t=[]){let n=[],o=()=>{let t=n.map(e=>r.createContext(e));return function(n){let o=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:o}}),[n,o])}};return o.scopeName=e,[function(t,o){let i=r.createContext(o),a=n.length;function s(t){let{scope:n,children:o,...s}=t,u=n?.[e][a]||i,c=r.useMemo(()=>s,Object.values(s));return(0,l.jsx)(u.Provider,{value:c,children:o})}return n=[...n,o],s.displayName=t+"Provider",[s,function(n,l){let s=l?.[e][a]||i,u=r.useContext(s);if(u)return u;if(void 0!==o)return o;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let o=n.reduce((t,{useScope:n,scopeName:r})=>{let o=n(e)[`__scope${r}`];return{...t,...o}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}(o,...t)]}(f),[h,g]=m(f),v=e=>{let{__scopePopper:t,children:n}=e,[o,i]=r.useState(null);return(0,l.jsx)(h,{scope:t,anchor:o,onAnchorChange:i,children:n})};v.displayName=f;var b="PopperAnchor",y=r.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:o,...i}=e,s=g(b,n),c=r.useRef(null),d=(0,u.e)(t,c);return r.useEffect(()=>{s.onAnchorChange((null==o?void 0:o.current)||c.current)}),o?null:(0,l.jsx)(a.WV.div,{...i,ref:d})});y.displayName=b;var E="PopperContent",[x,w]=m(E),C=r.forwardRef((e,t)=>{var n,s,f,m,p,h,v,b;let{__scopePopper:y,side:w="bottom",sideOffset:C=0,align:T="center",alignOffset:I=0,arrowPadding:S=0,avoidCollisions:N=!0,collisionBoundary:O=[],collisionPadding:A=0,sticky:_="partial",hideWhenDetached:D=!1,updatePositionStrategy:P="optimized",onPlaced:j,...L}=e,B=g(E,y),[F,z]=r.useState(null),H=(0,u.e)(t,e=>z(e)),[W,V]=r.useState(null),U=function(e){let[t,n]=r.useState(void 0);return(0,d.b)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,o;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,o=t.blockSize}else r=e.offsetWidth,o=e.offsetHeight;n({width:r,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(W),Y=null!==(v=null==U?void 0:U.width)&&void 0!==v?v:0,K=null!==(b=null==U?void 0:U.height)&&void 0!==b?b:0,$="number"==typeof A?A:{top:0,right:0,bottom:0,left:0,...A},G=Array.isArray(O)?O:[O],q=G.length>0,Q={padding:$,boundary:G.filter(R),altBoundary:q},{refs:Z,floatingStyles:X,placement:J,isPositioned:ee,middlewareData:et}=(0,o.YF)({strategy:"fixed",placement:w+("center"!==T?"-"+T:""),whileElementsMounted:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.Me)(...t,{animationFrame:"always"===P})},elements:{reference:B.anchor},middleware:[(0,o.cv)({mainAxis:C+K,alignmentAxis:I}),N&&(0,o.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===_?(0,o.dr)():void 0,...Q}),N&&(0,o.RR)({...Q}),(0,o.dp)({...Q,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:o}=e,{width:i,height:a}=n.reference,l=t.floating.style;l.setProperty("--radix-popper-available-width","".concat(r,"px")),l.setProperty("--radix-popper-available-height","".concat(o,"px")),l.setProperty("--radix-popper-anchor-width","".concat(i,"px")),l.setProperty("--radix-popper-anchor-height","".concat(a,"px"))}}),W&&(0,o.x7)({element:W,padding:S}),k({arrowWidth:Y,arrowHeight:K}),D&&(0,o.Cp)({strategy:"referenceHidden",...Q})]}),[en,er]=M(J),eo=(0,c.W)(j);(0,d.b)(()=>{ee&&(null==eo||eo())},[ee,eo]);let ei=null===(n=et.arrow)||void 0===n?void 0:n.x,ea=null===(s=et.arrow)||void 0===s?void 0:s.y,el=(null===(f=et.arrow)||void 0===f?void 0:f.centerOffset)!==0,[es,eu]=r.useState();return(0,d.b)(()=>{F&&eu(window.getComputedStyle(F).zIndex)},[F]),(0,l.jsx)("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ee?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:es,"--radix-popper-transform-origin":[null===(m=et.transformOrigin)||void 0===m?void 0:m.x,null===(p=et.transformOrigin)||void 0===p?void 0:p.y].join(" "),...(null===(h=et.hide)||void 0===h?void 0:h.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(x,{scope:y,placedSide:en,onArrowChange:V,arrowX:ei,arrowY:ea,shouldHideArrow:el,children:(0,l.jsx)(a.WV.div,{"data-side":en,"data-align":er,...L,ref:H,style:{...L.style,animation:ee?void 0:"none"}})})})});C.displayName=E;var T="PopperArrow",I={top:"bottom",right:"left",bottom:"top",left:"right"},S=r.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,o=w(T,n),i=I[o.placedSide];return(0,l.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(s,{...r,ref:t,style:{...r.style,display:"block"}})})});function R(e){return null!==e}S.displayName=T;var k=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,a;let{placement:l,rects:s,middlewareData:u}=t,c=(null===(n=u.arrow)||void 0===n?void 0:n.centerOffset)!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,p]=M(l),h={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(i=null===(r=u.arrow)||void 0===r?void 0:r.x)&&void 0!==i?i:0)+d/2,v=(null!==(a=null===(o=u.arrow)||void 0===o?void 0:o.y)&&void 0!==a?a:0)+f/2,b="",y="";return"bottom"===m?(b=c?h:"".concat(g,"px"),y="".concat(-f,"px")):"top"===m?(b=c?h:"".concat(g,"px"),y="".concat(s.floating.height+f,"px")):"right"===m?(b="".concat(-f,"px"),y=c?h:"".concat(v,"px")):"left"===m&&(b="".concat(s.floating.width+f,"px"),y=c?h:"".concat(v,"px")),{data:{x:b,y}}}});function M(e){let[t,n="center"]=e.split("-");return[t,n]}var N=v,O=y,A=C,_=S},9987:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(2265),o=n(6741),i=n(886),a=n(6840),l=n(7437),s=r.forwardRef((e,t)=>{let{pressed:n,defaultPressed:r=!1,onPressedChange:s,...u}=e,[c=!1,d]=(0,i.T)({prop:n,onChange:s,defaultProp:r});return(0,l.jsx)(a.WV.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":e.disabled?"":void 0,...u,ref:t,onClick:(0,o.M)(e.onClick,()=>{e.disabled||d(!c)})})});s.displayName="Toggle";var u=s},1677:function(e,t,n){"use strict";n.d(t,{VY:function(){return Y},h_:function(){return U},fC:function(){return W},pn:function(){return T},xz:function(){return V}});var r=n(2265),o=n(6741),i=n(8575),a=n(3966),l=n(5278),s=n(9255),u=n(2670),c=n(3832),d=n(1599),f=n(6840),m=n(7053),p=n(886),h=n(7437),g=r.forwardRef((e,t)=>(0,h.jsx)(f.WV.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));g.displayName="VisuallyHidden";var[v,b]=(0,a.b)("Tooltip",[u.D7]),y=(0,u.D7)(),E="TooltipProvider",x="tooltip.open",[w,C]=v(E),T=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:a}=e,[l,s]=r.useState(!0),u=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,h.jsx)(w,{scope:t,isOpenDelayed:l,delayDuration:n,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),o)},[o]),isPointerInTransitRef:u,onPointerInTransitChange:r.useCallback(e=>{u.current=e},[]),disableHoverableContent:i,children:a})};T.displayName=E;var I="Tooltip",[S,R]=v(I),k=e=>{let{__scopeTooltip:t,children:n,open:o,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:c}=e,d=C(I,e.__scopeTooltip),f=y(t),[m,g]=r.useState(null),v=(0,s.M)(),b=r.useRef(0),E=null!=l?l:d.disableHoverableContent,w=null!=c?c:d.delayDuration,T=r.useRef(!1),[R=!1,k]=(0,p.T)({prop:o,defaultProp:i,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(x))):d.onClose(),null==a||a(e)}}),M=r.useMemo(()=>R?T.current?"delayed-open":"instant-open":"closed",[R]),N=r.useCallback(()=>{window.clearTimeout(b.current),T.current=!1,k(!0)},[k]),O=r.useCallback(()=>{window.clearTimeout(b.current),k(!1)},[k]),A=r.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{T.current=!0,k(!0)},w)},[w,k]);return r.useEffect(()=>()=>window.clearTimeout(b.current),[]),(0,h.jsx)(u.fC,{...f,children:(0,h.jsx)(S,{scope:t,contentId:v,open:R,stateAttribute:M,trigger:m,onTriggerChange:g,onTriggerEnter:r.useCallback(()=>{d.isOpenDelayed?A():N()},[d.isOpenDelayed,A,N]),onTriggerLeave:r.useCallback(()=>{E?O():window.clearTimeout(b.current)},[O,E]),onOpen:N,onClose:O,disableHoverableContent:E,children:n})})};k.displayName=I;var M="TooltipTrigger",N=r.forwardRef((e,t)=>{let{__scopeTooltip:n,...a}=e,l=R(M,n),s=C(M,n),c=y(n),d=r.useRef(null),m=(0,i.e)(t,d,l.onTriggerChange),p=r.useRef(!1),g=r.useRef(!1),v=r.useCallback(()=>p.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),(0,h.jsx)(u.ee,{asChild:!0,...c,children:(0,h.jsx)(f.WV.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...a,ref:m,onPointerMove:(0,o.M)(e.onPointerMove,e=>{"touch"===e.pointerType||g.current||s.isPointerInTransitRef.current||(l.onTriggerEnter(),g.current=!0)}),onPointerLeave:(0,o.M)(e.onPointerLeave,()=>{l.onTriggerLeave(),g.current=!1}),onPointerDown:(0,o.M)(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:(0,o.M)(e.onFocus,()=>{p.current||l.onOpen()}),onBlur:(0,o.M)(e.onBlur,l.onClose),onClick:(0,o.M)(e.onClick,l.onClose)})})});N.displayName=M;var O="TooltipPortal",[A,_]=v(O,{forceMount:void 0}),D=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,i=R(O,t);return(0,h.jsx)(A,{scope:t,forceMount:n,children:(0,h.jsx)(d.z,{present:n||i.open,children:(0,h.jsx)(c.h,{asChild:!0,container:o,children:r})})})};D.displayName=O;var P="TooltipContent",j=r.forwardRef((e,t)=>{let n=_(P,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,a=R(P,e.__scopeTooltip);return(0,h.jsx)(d.z,{present:r||a.open,children:a.disableHoverableContent?(0,h.jsx)(z,{side:o,...i,ref:t}):(0,h.jsx)(L,{side:o,...i,ref:t})})}),L=r.forwardRef((e,t)=>{let n=R(P,e.__scopeTooltip),o=C(P,e.__scopeTooltip),a=r.useRef(null),l=(0,i.e)(t,a),[s,u]=r.useState(null),{trigger:c,onClose:d}=n,f=a.current,{onPointerInTransitChange:m}=o,p=r.useCallback(()=>{u(null),m(!1)},[m]),g=r.useCallback((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},o=function(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw Error("unreachable")}}(r,n.getBoundingClientRect());u(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(t)}([...function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,o),...function(e){let{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}(t.getBoundingClientRect())])),m(!0)},[m]);return r.useEffect(()=>()=>p(),[p]),r.useEffect(()=>{if(c&&f){let e=e=>g(e,f),t=e=>g(e,c);return c.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[c,f,g,p]),r.useEffect(()=>{if(s){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=(null==c?void 0:c.contains(t))||(null==f?void 0:f.contains(t)),o=!function(e,t){let{x:n,y:r}=e,o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let a=t[e].x,l=t[e].y,s=t[i].x,u=t[i].y;l>r!=u>r&&n<(s-a)*(r-l)/(u-l)+a&&(o=!o)}return o}(n,s);r?p():o&&(p(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,f,s,d,p]),(0,h.jsx)(z,{...e,ref:l})}),[B,F]=v(I,{isInside:!1}),z=r.forwardRef((e,t)=>{let{__scopeTooltip:n,children:o,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...c}=e,d=R(P,n),f=y(n),{onClose:p}=d;return r.useEffect(()=>(document.addEventListener(x,p),()=>document.removeEventListener(x,p)),[p]),r.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;(null==t?void 0:t.contains(d.trigger))&&p()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,p]),(0,h.jsx)(l.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:p,children:(0,h.jsxs)(u.VY,{"data-state":d.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,h.jsx)(m.A4,{children:o}),(0,h.jsx)(B,{scope:n,isInside:!0,children:(0,h.jsx)(g,{id:d.contentId,role:"tooltip",children:i||o})})]})})});j.displayName=P;var H="TooltipArrow";r.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,o=y(n);return F(H,n).isInside?null:(0,h.jsx)(u.Eh,{...o,...r,ref:t})}).displayName=H;var W=k,V=N,U=D,Y=j},418:function(e,t,n){"use strict";n.d(t,{P2:function(){return U},Uy:function(){return V},_x:function(){return Y},mv:function(){return u}});var r,o=Symbol.for("immer-nothing"),i=Symbol.for("immer-draftable"),a=Symbol.for("immer-state");function l(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var s=Object.getPrototypeOf;function u(e){return!!e&&!!e[a]}function c(e){return!!e&&(f(e)||Array.isArray(e)||!!e[i]||!!e.constructor?.[i]||v(e)||b(e))}var d=Object.prototype.constructor.toString();function f(e){if(!e||"object"!=typeof e)return!1;let t=s(e);if(null===t)return!0;let n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===d}function m(e,t){0===p(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function p(e){let t=e[a];return t?t.type_:Array.isArray(e)?1:v(e)?2:b(e)?3:0}function h(e,t){return 2===p(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function g(e,t,n){let r=p(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function v(e){return e instanceof Map}function b(e){return e instanceof Set}function y(e){return e.copy_||e.base_}function E(e,t){if(v(e))return new Map(e);if(b(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let n=f(e);if(!0!==t&&("class_only"!==t||n)){let t=s(e);return null!==t&&n?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[a];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(s(e),t)}}function x(e,t=!1){return C(e)||u(e)||!c(e)||(p(e)>1&&(e.set=e.add=e.clear=e.delete=w),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>x(t,!0))),e}function w(){l(2)}function C(e){return Object.isFrozen(e)}var T={};function I(e){let t=T[e];return t||l(0,e),t}function S(e,t){t&&(I("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function R(e){k(e),e.drafts_.forEach(N),e.drafts_=null}function k(e){e===r&&(r=e.parent_)}function M(e){return r={drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function N(e){let t=e[a];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function O(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];return void 0!==e&&e!==n?(n[a].modified_&&(R(t),l(4)),c(e)&&(e=A(t,e),t.parent_||D(t,e)),t.patches_&&I("Patches").generateReplacementPatches_(n[a].base_,e,t.patches_,t.inversePatches_)):e=A(t,n,[]),R(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==o?e:void 0}function A(e,t,n){if(C(t))return t;let r=t[a];if(!r)return m(t,(o,i)=>_(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return D(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;let t=r.copy_,o=t,i=!1;3===r.type_&&(o=new Set(t),t.clear(),i=!0),m(o,(o,a)=>_(e,r,t,o,a,n,i)),D(e,t,!1),n&&e.patches_&&I("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function _(e,t,n,r,o,i,a){if(u(o)){let a=A(e,o,i&&t&&3!==t.type_&&!h(t.assigned_,r)?i.concat(r):void 0);if(g(n,r,a),!u(a))return;e.canAutoFreeze_=!1}else a&&n.add(o);if(c(o)&&!C(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;A(e,o),(!t||!t.scope_.parent_)&&"symbol"!=typeof r&&Object.prototype.propertyIsEnumerable.call(n,r)&&D(e,o)}}function D(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x(t,n)}var P={get(e,t){if(t===a)return e;let n=y(e);if(!h(n,t))return function(e,t,n){let r=B(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);let r=n[t];return e.finalized_||!c(r)?r:r===L(e.base_,t)?(z(e),e.copy_[t]=H(r,e)):r},has:(e,t)=>t in y(e),ownKeys:e=>Reflect.ownKeys(y(e)),set(e,t,n){let r=B(y(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){let r=L(y(e),t),o=r?.[a];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if((n===r?0!==n||1/n==1/r:n!=n&&r!=r)&&(void 0!==n||h(e.base_,t)))return!0;z(e),F(e)}return!!(e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=n,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==L(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,z(e),F(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let n=y(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){l(11)},getPrototypeOf:e=>s(e.base_),setPrototypeOf(){l(12)}},j={};function L(e,t){let n=e[a];return(n?y(n):e)[t]}function B(e,t){if(!(t in e))return;let n=s(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=s(n)}}function F(e){!e.modified_&&(e.modified_=!0,e.parent_&&F(e.parent_))}function z(e){e.copy_||(e.copy_=E(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function H(e,t){let n=v(e)?I("MapSet").proxyMap_(e,t):b(e)?I("MapSet").proxySet_(e,t):function(e,t){let n=Array.isArray(e),o={type_:n?1:0,scope_:t?t.scope_:r,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=o,a=P;n&&(i=[o],a=j);let{revoke:l,proxy:s}=Proxy.revocable(i,a);return o.draft_=s,o.revoke_=l,s}(e,t);return(t?t.scope_:r).drafts_.push(n),n}m(P,(e,t)=>{j[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),j.deleteProperty=function(e,t){return j.set.call(this,e,t,void 0)},j.set=function(e,t,n){return P.set.call(this,e[0],t,n,e[0])};var W=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{let r;if("function"==typeof e&&"function"!=typeof t){let n=t;t=e;let r=this;return function(e=n,...o){return r.produce(e,e=>t.call(this,e,...o))}}if("function"!=typeof t&&l(6),void 0!==n&&"function"!=typeof n&&l(7),c(e)){let o=M(this),i=H(e,void 0),a=!0;try{r=t(i),a=!1}finally{a?R(o):k(o)}return S(o,n),O(r,o)}if(e&&"object"==typeof e)l(1,e);else{if(void 0===(r=t(e))&&(r=e),r===o&&(r=void 0),this.autoFreeze_&&x(r,!0),n){let t=[],o=[];I("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}},this.produceWithPatches=(e,t)=>{let n,r;return"function"==typeof e?(t,...n)=>this.produceWithPatches(t,t=>e(t,...n)):[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;c(e)||l(8),u(e)&&(u(t=e)||l(10,t),e=function e(t){let n;if(!c(t)||C(t))return t;let r=t[a];if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=E(t,r.scope_.immer_.useStrictShallowCopy_)}else n=E(t,!0);return m(n,(t,r)=>{g(n,t,e(r))}),r&&(r.finalized_=!1),n}(t));let n=M(this),r=H(e,void 0);return r[a].isManual_=!0,k(n),r}finishDraft(e,t){let n=e&&e[a];n&&n.isManual_||l(9);let{scope_:r}=n;return S(r,t),O(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=I("Patches").applyPatches_;return u(e)?r(e,t):this.produce(e,e=>r(e,t))}},V=W.produce;W.produceWithPatches.bind(W),W.setAutoFreeze.bind(W),W.setUseStrictShallowCopy.bind(W),W.applyPatches.bind(W);var U=W.createDraft.bind(W),Y=W.finishDraft.bind(W)},7975:function(e,t,n){"use strict";function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t,n;return!1!==r(e)&&(void 0===(t=e.constructor)||!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}n.d(t,{P:function(){return o}})},9056:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let r=e=>"object"==typeof e&&null!=e&&1===e.nodeType,o=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,i=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return o(n.overflowY,t)||o(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},a=(e,t,n,r,o,i,a,l)=>i<e&&a>t||i>e&&a<t?0:i<=e&&l<=n||a>=t&&l>=n?i-e-r:a>t&&l<n||i<e&&l>n?a-t+o:0,l=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},s=(e,t)=>{var n,o,s,u;if("undefined"==typeof document)return[];let{scrollMode:c,block:d,inline:f,boundary:m,skipOverflowHiddenElements:p}=t,h="function"==typeof m?m:e=>e!==m;if(!r(e))throw TypeError("Invalid target");let g=document.scrollingElement||document.documentElement,v=[],b=e;for(;r(b)&&h(b);){if((b=l(b))===g){v.push(b);break}null!=b&&b===document.body&&i(b)&&!i(document.documentElement)||null!=b&&i(b,p)&&v.push(b)}let y=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,E=null!=(u=null==(s=window.visualViewport)?void 0:s.height)?u:innerHeight,{scrollX:x,scrollY:w}=window,{height:C,width:T,top:I,right:S,bottom:R,left:k}=e.getBoundingClientRect(),{top:M,right:N,bottom:O,left:A}=(e=>{let t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e),_="start"===d||"nearest"===d?I-M:"end"===d?R+O:I+C/2-M+O,D="center"===f?k+T/2-A+N:"end"===f?S+N:k-A,P=[];for(let e=0;e<v.length;e++){let t=v[e],{height:n,width:r,top:o,right:i,bottom:l,left:s}=t.getBoundingClientRect();if("if-needed"===c&&I>=0&&k>=0&&R<=E&&S<=y&&I>=o&&R<=l&&k>=s&&S<=i)break;let u=getComputedStyle(t),m=parseInt(u.borderLeftWidth,10),p=parseInt(u.borderTopWidth,10),h=parseInt(u.borderRightWidth,10),b=parseInt(u.borderBottomWidth,10),M=0,N=0,O="offsetWidth"in t?t.offsetWidth-t.clientWidth-m-h:0,A="offsetHeight"in t?t.offsetHeight-t.clientHeight-p-b:0,j="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,L="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(g===t)M="start"===d?_:"end"===d?_-E:"nearest"===d?a(w,w+E,E,p,b,w+_,w+_+C,C):_-E/2,N="start"===f?D:"center"===f?D-y/2:"end"===f?D-y:a(x,x+y,y,m,h,x+D,x+D+T,T),M=Math.max(0,M+w),N=Math.max(0,N+x);else{M="start"===d?_-o-p:"end"===d?_-l+b+A:"nearest"===d?a(o,l,n,p,b+A,_,_+C,C):_-(o+n/2)+A/2,N="start"===f?D-s-m:"center"===f?D-(s+r/2)+O/2:"end"===f?D-i+h+O:a(s,i,r,m,h+O,D,D+T,T);let{scrollLeft:e,scrollTop:u}=t;M=0===L?0:Math.max(0,Math.min(u+M/L,t.scrollHeight-n/L+A)),N=0===j?0:Math.max(0,Math.min(e+N/j,t.scrollWidth-r/j+O)),_+=u-M,D+=e-N}P.push({el:t,top:M,left:N})}return P},u=e=>!1===e?{block:"end",inline:"nearest"}:e===Object(e)&&0!==Object.keys(e).length?e:{block:"start",inline:"nearest"};function c(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;let n=(e=>{let t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(s(e,t));let r="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:o,top:i,left:a}of s(e,u(t))){let e=i-n.top+n.bottom,t=a-n.left+n.right;o.scroll({top:e,left:t,behavior:r})}}}}]);